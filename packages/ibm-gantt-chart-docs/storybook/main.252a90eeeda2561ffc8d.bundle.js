(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Gantt}));var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(72),_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2);__webpack_require__(831),__webpack_require__(832),__webpack_require__(833);function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,result)}}var Gantt=function Gantt(context,config){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Gantt),this.context=Gantt.utils.isString(context)?document.getElementById(context):context;var panelClass=Gantt.components.GanttPanel.impl||Gantt.components.GanttPanel;return this.gantt=new panelClass(this.context,config),this.gantt};Gantt.defaultConfiguration={rowHeight:27,zoomFactor:.2,loadingPanelThresold:500},Gantt.events={TITLE_CHANGED:"titleChanged",TABLE_INIT:"tableinit",TIME_TABLE_INIT:"timesheetinit",TIME_LINE_INIT:"timeline_init",TIME_WINDOW_CHANGED:"timeWindowChanged",TIME_LINE_RANGE_CHANGE:"timeline_rangechange",TIME_LINE_RANGE_CHANGED:"timeline_rangechanged",TIME_LINE_SIZE_CHANGED:"timeline_sizeChanged",TIME_LINE_PAN_MOVE:"timeline_panmove",TIME_LINE_PAN_MOVED:"timeline_panmove",TIME_LINE_SCROLLED:"timeline_scrolled",RESIZED:"resized",SPLIT_RESIZED:"split_resized",ROWS_FILTERED:"rows_filtered",DATA_LOADED:"data_loaded",ROWS_ADDED:"rows_added",ROWS_REMOVED:"rows_removed",ROWS_MODIFIED:"rows_modified",ROWS_SORTED:"rows_sorted",START_SELECTING:"startSelecting",SELECTION_CLEARED:"selectionCleared",STOP_SELECTING:"stopSelecting",ACTIVITY_SELECTED:"activitySelected",ACTIVITY_UNSELECTED:"activityUnselected",ACTIVITY_SELECTION_CHANGED:"activitySelectionChanged",ACTIVITY_SELECTION_CLEARED:"activitySelectionCleared",RESOURCE_SELECTED:"resourceSelected",RESOURCE_UNSELECTED:"resourceUnselected",RESOURCE_SELECTION_CHANGED:"resourceSelectionChanged",RESOURCE_SELECTION_CLEARED:"resourceSelectionCleared",ROW_SELECTED:"rowSelected",ROW_UNSELECTED:"rowUnselected",ROW_SELECTION_CHANGED:"rowSelectionChanged",ROW_SELECTION_CLEARED:"rowSelectionCleared",CONSTRAINT_SELECTED:"constraintSelected",CONSTRAINT_UNSELECTED:"constraintUnselected",CONSTRAINT_SELECTION_CHANGED:"constraintSelectionChanged",CONSTRAINT_SELECTION_CLEARED:"constraintSelectionCleared"},Gantt.type={ACTIVITY_CHART:"ActivityChart",SCHEDULE_CHART:"ScheduleChart"},Gantt.constraintTypes={START_TO_START:0,START_TO_END:2,END_TO_END:3,END_TO_START:1,isFromStart:function isFromStart(type){return 0===type||2===type},isToStart:function isToStart(type){return type<2}};var Tooltip=function(){function Tooltip(config){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Tooltip)}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(Tooltip,[{key:"showTooltip",value:function showTooltip(elt,ctx,cb){}},{key:"hideTooltip",value:function hideTooltip(){}},{key:"destroy",value:function destroy(){}}]),Tooltip}(),DataFetcher=function(){function DataFetcher(){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,DataFetcher)}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(DataFetcher,[{key:"get",value:function get(obj){}}]),DataFetcher}(),Split=function(){function Split(elt,config){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Split)}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(Split,[{key:"getLeftComponent",value:function getLeftComponent(){}},{key:"getRightComponent",value:function getRightComponent(){}},{key:"leftComponentCreated",value:function leftComponentCreated(){}}]),Split}(),Component=function(){function Component(gantt,config){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Component),this.gantt=gantt,this.config=config,this.utils=Gantt.utils}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(Component,[{key:"on",value:function on(event,handler){for(var ar,events=this.__events||(this.__events={}),eventList=this.utils.isArray(event)&&event||event.split(" "),i=0;i<eventList.length;i++)(ar=events[event=eventList[i]])?ar.push(handler):events[event]=ar=[handler]}},{key:"one",value:function one(events,handler){var _this=this;this.on(events,(function wrapperHandler(){for(var _len=arguments.length,params=new Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];handler.apply(_this,params);var event=params[0],index=_this.__events[event].indexOf(wrapperHandler);index>-1&&_this.__events[event].splice(index,1)}))}},{key:"off",value:function off(event,handler){if(this.__events)for(var ar,i,eventList=this.utils.isArray(event)&&event||event.split(" "),iEvent=0;iEvent<eventList.length;iEvent++)if(event=eventList[iEvent],ar=this.__events[event])for(i=0;i<ar.length;i++)if(ar[i]===handler){ar.splice(i,1);break}}},{key:"triggerEvent",value:function triggerEvent(events){var ar,params;if(!0===events){events=arguments[1];var paramsArg=arguments[2]||[];params=new Array(paramsArg.length+1);for(var iParam=0;iParam<paramsArg.length;++iParam)params[iParam+1]=paramsArg[iParam]}else{params=new Array(arguments.length);for(var _iParam=1;_iParam<arguments.length;++_iParam)params[_iParam]=arguments[_iParam]}for(var eventList=this.utils.isArray(events)&&events||events.split(" "),iEvent=0,evCount=eventList.length;iEvent<evCount;iEvent++)if(ar=this.__events&&this.__events[params[0]=eventList[iEvent]])for(var i=0,count=ar.length;i<count;)ar[i].apply(this,params),count===ar.length?++i:count=ar.length}}]),Component}(),ErrorHandler=function(_Component){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(ErrorHandler,_Component);var _super=_createSuper(ErrorHandler);function ErrorHandler(config){var _this2;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,ErrorHandler),(_this2=_super.call(this,null,config)).config=config,_this2}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(ErrorHandler,[{key:"addError",value:function addError(err){}},{key:"hasErrors",value:function hasErrors(){return!1}},{key:"clear",value:function clear(){}},{key:"showError",value:function showError(err){}},{key:"getErrors",value:function getErrors(){return[]}},{key:"createErrorNode",value:function createErrorNode(err){var node=document.createElement("div");return node.className="gantt_error",node}},{key:"removeGroup",value:function removeGroup(node){}}]),ErrorHandler}(Component),TimeLine=function(_Component2){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(TimeLine,_Component2);var _super2=_createSuper(TimeLine);function TimeLine(gantt,node,config){var _this3;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,TimeLine),(_this3=_super2.call(this,gantt,config)).node=node,_this3}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(TimeLine,[{key:"setTimeWindow",value:function setTimeWindow(start,end){}},{key:"getTimeAxisHeight",value:function getTimeAxisHeight(){return 0}},{key:"draw",value:function draw(){}},{key:"validateZoomFactor",value:function validateZoomFactor(zoomFactor){}},{key:"getXFromMillis",value:function getXFromMillis(time){}},{key:"getDecorationContainer",value:function getDecorationContainer(){}},{key:"getHorizon",value:function getHorizon(){}},{key:"getScrollableHorizon",value:function getScrollableHorizon(){}},{key:"setVisibleTimeWindow",value:function setVisibleTimeWindow(window){}},{key:"resetZoom",value:function resetZoom(){}},{key:"addTimeMarker",value:function addTimeMarker(id,time,classes){}},{key:"removeTimeMarker",value:function removeTimeMarker(id){}},{key:"setTimeLineItem",value:function setTimeLineItem(id,item){}},{key:"addTimeLineItem",value:function addTimeLineItem(id,item){}},{key:"removeTimeLineItem",value:function removeTimeLineItem(id){}}]),TimeLine}(Component),TimeTable=function(_Component3){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(TimeTable,_Component3);var _super3=_createSuper(TimeTable);function TimeTable(gantt,node,config){var _this4;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,TimeTable),(_this4=_super3.call(this,gantt,config)).node=node,_this4.setConfiguration(config),_this4}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(TimeTable,[{key:"setConfiguration",value:function setConfiguration(config){}},{key:"draw",value:function draw(){}},{key:"createUpdates",value:function createUpdates(parent){return new(Gantt.components.GanttUpdates.impl||Gantt.components.GanttUpdates)(parent)}},{key:"highlightRow",value:function highlightRow(row,highlight,deselectAll){}},{key:"getDisplayedActivitiesTimeRange",value:function getDisplayedActivitiesTimeRange(){}},{key:"searchActivities",value:function searchActivities(row,callback){}},{key:"setConstraints",value:function setConstraints(constraints){}},{key:"update",value:function update(){}},{key:"scrollToRow",value:function scrollToRow(row){}},{key:"scrollToY",value:function scrollToY(y){}},{key:"setScrollTop",value:function setScrollTop(y){}},{key:"setFirstVisibleRow",value:function setFirstVisibleRow(row){}},{key:"getScrollLeft",value:function getScrollLeft(){}},{key:"setScrollLeft",value:function setScrollLeft(x){}},{key:"getScroller",value:function getScroller(){}},{key:"getVisibleWidth",value:function getVisibleWidth(){}},{key:"getVisibleHeight",value:function getVisibleHeight(){}},{key:"setBodyWidth",value:function setBodyWidth(w){}},{key:"getBodyWidth",value:function getBodyWidth(){}},{key:"setBodyHeight",value:function setBodyHeight(h){}},{key:"getBodyHeight",value:function getBodyHeight(){}},{key:"getRightMargin",value:function getRightMargin(){}},{key:"getBottomMargin",value:function getBottomMargin(){}}]),TimeTable}(Component),TreeTable=function(_Component4){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(TreeTable,_Component4);var _super4=_createSuper(TreeTable);function TreeTable(gantt,node,config){var _this5;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,TreeTable),(_this5=_super4.call(this,gantt,config)).node=node,_this5}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(TreeTable,[{key:"setRows",value:function setRows(rows){}},{key:"getRowCount",value:function getRowCount(){return 0}},{key:"isRowVisible",value:function isRowVisible(param){}},{key:"deleteDrawCache",value:function deleteDrawCache(){}},{key:"draw",value:function draw(){}},{key:"drawRows",value:function drawRows(selector){}},{key:"createUpdates",value:function createUpdates(parent){return new(Gantt.components.GanttUpdates.impl||Gantt.components.GanttUpdates)(parent)}},{key:"highlightRow",value:function highlightRow(row,highlight,deselectAll){}},{key:"setRowFilter",value:function setRowFilter(filter){}},{key:"filterChanged",value:function filterChanged(){}},{key:"isRowFiltered",value:function isRowFiltered(row){return!1}},{key:"toggleCollapseRow",value:function toggleCollapseRow(param,collapse){}},{key:"setHeaderHeight",value:function setHeaderHeight(height){}},{key:"getTableBody",value:function getTableBody(){}},{key:"getScrollableTable",value:function getScrollableTable(){}},{key:"getTop",value:function getTop(tr){return tr&&tr.offsetTop-this.getTableBody().offsetTop||0}},{key:"getRowAt",value:function getRowAt(y){}},{key:"getHeight",value:function getHeight(){}},{key:"nextRow",value:function nextRow(row){return null}},{key:"getRow",value:function getRow(id){return null}},{key:"getRows",value:function getRows(selector){}},{key:"getRowName",value:function getRowName(row){return row.name}},{key:"getRowTop",value:function getRowTop(row){return row.tr&&row.tr.offsetTop-this.getTableBody().offsetTop||0}},{key:"expandParents",value:function expandParents(row){}}]),TreeTable}(Component);TreeTable.defaultClass="";var GanttModel=function(_Component5){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(GanttModel,_Component5);var _super5=_createSuper(GanttModel);function GanttModel(gantt,config){var _this6;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,GanttModel),_this6=_super5.call(this,gantt,config),config&&_this6.setConfiguration(config),_this6}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(GanttModel,[{key:"setConfiguration",value:function setConfiguration(config){}}]),GanttModel}(Component),GanttPanel=function(_Component6){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(GanttPanel,_Component6);var _super6=_createSuper(GanttPanel);function GanttPanel(node,config){var _this7;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,GanttPanel),(_this7=_super6.call(this,node,config)).node=node,_this7.events=Gantt.events,_this7.constraintTypes=Gantt.constraintTypes,_this7}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(GanttPanel,[{key:"setConfiguration",value:function setConfiguration(config){}},{key:"draw",value:function draw(){}},{key:"startUpdating",value:function startUpdating(){}},{key:"stopUpdating",value:function stopUpdating(){}},{key:"getModel",value:function getModel(){}},{key:"getRowCount",value:function getRowCount(){return 0}},{key:"getRow",value:function getRow(param){return null}},{key:"getVisiibleRows",value:function getVisiibleRows(){return[]}},{key:"ensureRowVisible",value:function ensureRowVisible(param){}},{key:"isRowVisible",value:function isRowVisible(param){}},{key:"getFirstVisibleRow",value:function getFirstVisibleRow(){}},{key:"setFirstVisibleRow",value:function setFirstVisibleRow(row){}},{key:"isRowFiltered",value:function isRowFiltered(param){}},{key:"toggleCollapseRow",value:function toggleCollapseRow(param,collapse){}},{key:"scrollToY",value:function scrollToY(y){}},{key:"getRowActivities",value:function getRowActivities(param){}},{key:"resetZoom",value:function resetZoom(){}},{key:"zoomIn",value:function zoomIn(evt){}},{key:"zoomOut",value:function zoomOut(evt){}},{key:"zoom",value:function zoom(zoomFactor,evt){}},{key:"fitToContent",value:function fitToContent(){}},{key:"getVisibleHeight",value:function getVisibleHeight(){return 0}},{key:"highlightRow",value:function highlightRow(row,highlight,deselectAll){}},{key:"addFilter",value:function addFilter(rowFilter,filterTasks){}},{key:"removeFilter",value:function removeFilter(key,preventNotify){}},{key:"search",value:function search(text,rows,activities){}},{key:"setHideEmptyRows",value:function setHideEmptyRows(hide,preventNotify){}}]),GanttPanel}(Component),Renderer=function(){function Renderer(config,proto,paletteHandler){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Renderer),proto&&Gantt.utils.mergeObjects(this,proto),this.config=config,this.paletteHandler=paletteHandler,this.setConfiguration(config)}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(Renderer,[{key:"setConfiguration",value:function setConfiguration(config){}}]),Renderer}(),ActivityLayout=function(){function ActivityLayout(config){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,ActivityLayout)}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(ActivityLayout,[{key:"layout",value:function layout(row){}},{key:"allowVariableRowHeight",value:function allowVariableRowHeight(){return!1}}]),ActivityLayout}();Gantt.ObjectTypes={Activity:2,Resource:4,Row:1,Constraint:8,Reservation:16};var SelectionHandler=function(_Component7){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(SelectionHandler,_Component7);var _super7=_createSuper(SelectionHandler);function SelectionHandler(config,proto){var _this8;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,SelectionHandler),(_this8=_super7.call(this,null,config)).selections=[],_this8.selectionType=null,proto&&Gantt.utils.mergeObjects(Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__.a)(_this8),proto),_this8.setConfiguration(config),_this8}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(SelectionHandler,[{key:"setConfiguration",value:function setConfiguration(config){}},{key:"getObjectType",value:function getObjectType(obj){}},{key:"select",value:function select(obj,clear,notActive){}},{key:"clearSelection",value:function clearSelection(){this.selections=[]}},{key:"isSelected",value:function isSelected(obj){return this.selections.indexOf(obj)>=0}},{key:"processClick",value:function processClick(e,obj){}},{key:"destroy",value:function destroy(){this.selections=[]}}]),SelectionHandler}(Component),LayoutSynchronizer=function(_Component8){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(LayoutSynchronizer,_Component8);var _super8=_createSuper(LayoutSynchronizer);function LayoutSynchronizer(config,proto){var _this9;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,LayoutSynchronizer),_this9=_super8.call(this,null,config),proto&&Gantt.utils.mergeObjects(Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__.a)(_this9),proto||config),_this9.setConfiguration(config),_this9}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(LayoutSynchronizer,[{key:"setConfiguration",value:function setConfiguration(config){}},{key:"connect",value:function connect(gantt){}},{key:"disconnect",value:function disconnect(){}},{key:"destroy",value:function destroy(){this.disconnect()}}]),LayoutSynchronizer}(Component),Palette=function(){function Palette(config){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Palette)}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(Palette,[{key:"getColors",value:function getColors(count){}}]),Palette}();Gantt.defaultPaletteName=null,Gantt.defaultPalettes={};var GanttUpdates=function(){function GanttUpdates(parent){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,GanttUpdates),this.parent=parent}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(GanttUpdates,[{key:"addUpdate",value:function addUpdate(update){}},{key:"removeUpdate",value:function removeUpdate(update){}},{key:"reload",value:function reload(){this._reload=!0}},{key:"isReload",value:function isReload(){return!1}},{key:"destroy",value:function destroy(){}},{key:"startUpdating",value:function startUpdating(){}},{key:"stopUpdating",value:function stopUpdating(){}}]),GanttUpdates}(),Toolbar=function(_Component9){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(Toolbar,_Component9);var _super9=_createSuper(Toolbar);function Toolbar(gantt,node,config){var _this10;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Toolbar),(_this10=_super9.call(this,gantt,config)).node=node,_this10.setConfiguration(config,node),_this10}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(Toolbar,[{key:"setConfiguration",value:function setConfiguration(config,node){this.config=config}},{key:"connect",value:function connect(gantt){}},{key:"ganttLoaded",value:function ganttLoaded(gantt,rows){}},{key:"onInitialized",value:function onInitialized(){}},{key:"destroy",value:function destroy(){}}]),Toolbar}(Component);Toolbar.createTitle=function(title){var node=document.createElement("div");return node.innerHTML=title,node.className="toolbar-title",node};var Button=function(_Component10){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(Button,_Component10);var _super10=_createSuper(Button);function Button(gantt,config){var _this11;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Button),(_this11=_super10.call(this,gantt,config)).callbacks=[],_this11.setConfiguration(config),_this11}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(Button,[{key:"setConfiguration",value:function setConfiguration(config){var _this12=this,btn=document.createElement("div");if(config.id&&(btn.id=config.id),btn.className="toolbar-button g-hoverable g-selectable".concat(config.classes?" "+config.classes:""),config.icon){var img=document.createElement("img");img.src=config.icon,img.alt="",btn.appendChild(img)}if(config.fontIcon){var fontIcon=document.createElement("i");fontIcon.className=config.fontIcon+(config.text?" fa-fw":""),btn.appendChild(fontIcon)}return config.svg&&Gantt.utils.appendSVG(btn,config.svg),config.text&&btn.appendChild(document.createTextNode(config.text)),this.node=btn,this.node.onclick=function(e){_this12.clicked(e),_this12.callbacks.map((function(cb){cb({gantt:_this12.gantt,event:e})}))},config.onclick&&this.onclick(config.onclick),btn}},{key:"onclick",value:function onclick(callback){this.callbacks.push(callback)}},{key:"clicked",value:function clicked(e){}},{key:"setId",value:function setId(id){this.node.id=id}},{key:"update",value:function update(){}},{key:"setSelected",value:function setSelected(selected){Gantt.utils.toggleClass(this.node,"selected",selected)}}]),Button}(Component),CheckBox=function(_Component11){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(CheckBox,_Component11);var _super11=_createSuper(CheckBox);function CheckBox(gantt,config){var _this13;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,CheckBox),(_this13=_super11.call(this,gantt,config)).setConfiguration(config),_this13}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(CheckBox,[{key:"setConfiguration",value:function setConfiguration(config){var ctnr=this.node=document.createElement("div");ctnr.style.whiteSpace="nowrap";var input=this.inputNode=document.createElement("input");input.setAttribute("type","checkbox"),input.setAttribute("value","None"),input.className="g-selectable g-hoverable",config.id&&(input.id=id),config.classes&&(ctnr.className=config.classes),ctnr.appendChild(input);var label=document.createElement("label");if(config.id&&label.setAttribute("for",config.id),config.icon){var img=document.createElement("img");img.src=config.icon,img.alt="",label.appendChild(img)}return config.svg&&Gantt.utils.appendSVG(label,config.svg),config.text&&label.appendChild(document.createTextNode(config.text)),config.onclick&&this.onclick(config.onclick),ctnr.appendChild(label),ctnr}},{key:"setChecked",value:function setChecked(checked){this.inputNode.checked=checked}},{key:"onclick",value:function onclick(callback){var _this14=this;this.inputNode.onclick=function(e){callback(_this14.inputNode.checked,{gantt:_this14.gantt,event:e})}}},{key:"update",value:function update(){}},{key:"setId",value:function setId(id){this.inputNode.id=id}}]),CheckBox}(Component);CheckBox.defaultClass=null;var Toggle=function(_Component12){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(Toggle,_Component12);var _super12=_createSuper(Toggle);function Toggle(gantt,config){var _this15;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Toggle),(_this15=_super12.call(this,gantt,config)).setConfiguration(config),_this15}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(Toggle,[{key:"setConfiguration",value:function setConfiguration(config){var _this16=this;this.callbacks=[];var ctnr=this._node=document.createElement("div");this._isSel=config.isSelected&&config.isSelected(this.gantt),this.btnUnselected=new(Gantt.components.Button.impl||Gantt.components.Button)(this.gantt,config.unselected),this.btnSelected=new(Gantt.components.Button.impl||Gantt.components.Button)(this.gantt,config.selected),ctnr.appendChild(this._isSel?this.btnSelected.node:this.btnUnselected.node),config.id&&(ctnr.id=id);return this.btnUnselected.node.onclick=this.btnSelected.node.onclick=function onclick(e){_this16._isSel=!_this16._isSel,_this16.updateButtons(_this16._isSel),_this16.callbacks.forEach((function(c){c(_this16._isSel,{gantt:_this16.gantt,event:e})}))},config.onclick&&this.onclick(config.onclick),ctnr}},{key:"isSelected",value:function isSelected(){return this._isSel}},{key:"setSelected",value:function setSelected(selected){this._isSel=selected,this.updateButtons(selected)}},{key:"node",get:function get(){return this._node},set:function set(node){this._node=node}},{key:"onclick",value:function onclick(callback){this.callbacks.push(callback)}},{key:"update",value:function update(){this.updateButtons(this.config.isSelected?this._isSel=this.config.isSelected(this.gantt):this._isSel)}},{key:"updateButtons",value:function updateButtons(isSel){this.btnSelected.node.parentNode?isSel||this._node.replaceChild(this.btnUnselected.node,this.btnSelected.node):this.btnUnselected.node.parentNode&&this._node.replaceChild(this.btnSelected.node,this.btnUnselected.node)}}]),Toggle}(Component);Toggle.defaultClass=null;var DropDownList=function(_Component13){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(DropDownList,_Component13);var _super13=_createSuper(DropDownList);function DropDownList(gantt,config){var _this17;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,DropDownList),(_this17=_super13.call(this,gantt,config)).setConfiguration(config),_this17}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(DropDownList,[{key:"setConfiguration",value:function setConfiguration(config){var node=this.node=document.createElement("div"),defaultClass=DropDownList.defaultClass;if(defaultClass&&(node.className=defaultClass),config.classes&&Gantt.utils.addClass(node,config.classes),config.text||config.icon||config.fontIcon){var labelNode=document.createElement("div");if(labelNode.className="label",config.icon){var img=document.createElement("img");img.src=config.icon,img.alt="",labelNode.appendChild(img)}if(config.fontIcon){var fontIcon=document.createElement("i");fontIcon.className=config.fontIcon+(config.text?" fa-fw":""),labelNode.appendChild(fontIcon)}config.text&&labelNode.appendChild(document.createTextNode(config.text)),node.appendChild(labelNode)}var select=this.selectNode=document.createElement("select");select.className="g-hoverable";for(var opt,optNode,i=0,count=config.options.length;i<count;i++)opt=config.options[i],(optNode=document.createElement("option")).text=opt.text,optNode.value=opt.value,select.appendChild(optNode);return node.appendChild(select),config.onchange&&this.onchange(config.onchange),node}},{key:"select",value:function select(value){this.selectNode.value=value}},{key:"onchange",value:function onchange(callback){var _this18=this;this.selectNode.onchange=function(e){callback(_this18.selectNode.value,{gantt:_this18.gantt,event:e})}}},{key:"update",value:function update(){}},{key:"setId",value:function setId(id){this.selectNode.id=id}}]),DropDownList}(Component);DropDownList.defaultClass="dropdown-list";var Input=function(_Component14){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(Input,_Component14);var _super14=_createSuper(Input);function Input(gantt,config){var _this19;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Input),(_this19=_super14.call(this,gantt,config)).setConfiguration(config),_this19}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(Input,[{key:"setConfiguration",value:function setConfiguration(config){var node=this.node=document.createElement("div");if(Input.defaultClass&&(node.className=Input.defaultClass),config.classes&&Gantt.utils.addClass(node,config.classes),node.style.display="flex",node.style.flexDirection="row",node.style.alignItems="center",config.text||config.icon||config.fontIcon||"search"===config.type){var labelNode=document.createElement("div");if(labelNode.className="label",labelNode.style.display="inline-block",config.icon){var img=document.createElement("img");img.src=config.icon,img.alt="",labelNode.appendChild(img)}if(config.fontIcon){var fontIcon=document.createElement("i");fontIcon.className=config.fontIcon+(config.text?" fa-fw":""),fontIcon.setAttribute("aria-disabled",!0),labelNode.appendChild(fontIcon)}else if("search"===config.type){var _fontIcon=document.createElement("i");_fontIcon.setAttribute("aria-disabled",!0),_fontIcon.className="fa fa-search fa-lg".concat(config.text?" fa-fw":""),labelNode.appendChild(_fontIcon)}config.text&&labelNode.appendChild(document.createTextNode(config.text)),node.appendChild(labelNode)}var input=this.inputNode=document.createElement("input");node.appendChild(input);var deleteBtn=document.createElement("div");deleteBtn.className="delete-button",deleteBtn.display="inline-block";var deleteIcon=document.createElement("i");return deleteIcon.className="fa fa-times fa-lg",deleteBtn.appendChild(deleteIcon),node.appendChild(deleteBtn),deleteBtn.onclick=function(){if(input.value="","createEvent"in document){var evt=document.createEvent("HTMLEvents");evt.initEvent("change",!1,!0),input.dispatchEvent(evt)}else input.fireEvent("onchange")},config.onchange&&this.onchange(config.onchange),node}},{key:"setText",value:function setText(value){this.input.value=value}},{key:"onchange",value:function onchange(userCallback){var _this20=this,callback=function callback(e){userCallback(_this20.inputNode.value,{gantt:_this20.gantt,event:e})};this.inputNode.onchange=callback,this.inputNode.onkeyup=callback}},{key:"setId",value:function setId(id){this.inputNode.id=id}}]),Input}(Component);Input.defaultClass="input-box";var ButtonGroup=function(_Component15){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(ButtonGroup,_Component15);var _super15=_createSuper(ButtonGroup);function ButtonGroup(gantt,config){var _this21;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,ButtonGroup),(_this21=_super15.call(this,gantt,config)).selected=null,_this21.callbacks=[],_this21.setConfiguration(config),_this21}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(ButtonGroup,[{key:"setConfiguration",value:function setConfiguration(config){var node=this.node=document.createElement("div");config.classes&&(node.className=config.classes),this.buttons=[],Gantt.utils.addClass(node,"button-group"),node.style.display="flex",node.style.flexDirection="row",node.style.alignItems="center";var self=this;function installBtnClicked(button){button.clicked=function(){self.setSelected(button)}}this.value=null;for(var cfgBtns=config.buttons,i=0;i<cfgBtns.length;++i){var btn=new(Gantt.components.Button.impl||Gantt.components.Button)(this.gantt,cfgBtns[i]);this.buttons.push(btn),installBtnClicked(btn),cfgBtns[i].selected&&(this.selected=btn,btn.setSelected(!0),this.value=btn.value),btn.value=cfgBtns[i].value,node.appendChild(btn.node)}return config.onchange&&this.onchange(config.onchange),void 0!==config.value&&this.setValue(config.value),node}},{key:"setValue",value:function setValue(value,noNotify){for(var i=0;i<this.buttons.length;i++)if(this.buttons[i].value===value){this.setSelected(this.buttons[i],noNotify);break}}},{key:"getValue",value:function getValue(){return this.value}},{key:"setSelected",value:function setSelected(btn,noNotify){var _this22=this;this.selected!==btn&&(this.selected&&this.selected.setSelected(!1),this.selected=btn,btn?(this.value=btn.value,btn.setSelected(!0)):this.value=null,noNotify||this.callbacks.map((function(cb){cb(_this22.value)})))}},{key:"onchange",value:function onchange(userCallback){this.callbacks.push(userCallback)}},{key:"setId",value:function setId(id){this.inputNode.id=id}}]),ButtonGroup}(Component),LoadResourceChart=function(_Component16){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(LoadResourceChart,_Component16);var _super16=_createSuper(LoadResourceChart);function LoadResourceChart(gantt,node,config){var _this23;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,LoadResourceChart),(_this23=_super16.call(this,gantt,node,config)).node=node,_this23.setConfiguration(config),_this23}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(LoadResourceChart,[{key:"setConfiguration",value:function setConfiguration(config){}},{key:"setVisible",value:function setVisible(visible){}},{key:"setScrollLeft",value:function setScrollLeft(left){}}]),LoadResourceChart}(Component),ConstraintsGraph=function(_Component17){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(ConstraintsGraph,_Component17);var _super17=_createSuper(ConstraintsGraph);function ConstraintsGraph(gantt,node,config){var _this24;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,ConstraintsGraph),(_this24=_super17.call(this,gantt,node,config)).node=node,_this24.setConfiguration(config),_this24}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(ConstraintsGraph,[{key:"setConfiguration",value:function setConfiguration(config){}},{key:"setConstraints",value:function setConstraints(cts){}},{key:"setNode",value:function setNode(node){}}]),ConstraintsGraph}(Component),ConstraintLayout=function(_Component18){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(ConstraintLayout,_Component18);var _super18=_createSuper(ConstraintLayout);function ConstraintLayout(gantt,config){var _this25;return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,ConstraintLayout),(_this25=_super18.call(this,gantt,null,config)).setConfiguration(config),_this25}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(ConstraintLayout,[{key:"setConfiguration",value:function setConfiguration(config){}},{key:"startInitialize",value:function startInitialize(){}},{key:"addNode",value:function addNode(node){}},{key:"addConstraint",value:function addConstraint(nodeFrom,nodeTo,cons){}},{key:"stopInitialize",value:function stopInitialize(){}},{key:"forEachLink",value:function forEachLink(node,cb){}},{key:"layoutNode",value:function layoutNode(node){}},{key:"layoutRowNodeLinks",value:function layoutRowNodeLinks(rowIndex){}},{key:"drawRowLinks",value:function drawRowLinks(rowIndex,parentElt,renderer,ctx){}}]),ConstraintLayout}(Component);Gantt.components={Component:Component,GanttPanel:GanttPanel,GanttModel:GanttModel,TreeTable:TreeTable,TimeLine:TimeLine,TimeTable:TimeTable,Split:Split,Tooltip:Tooltip,Filter:function Filter(options){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,Filter)},DataFetcher:DataFetcher,ErrorHandler:ErrorHandler,Renderer:Renderer,ActivityLayout:ActivityLayout,SelectionHandler:SelectionHandler,LayoutSynchronizer:LayoutSynchronizer,GanttUpdates:GanttUpdates,Palette:Palette,Toolbar:Toolbar,Button:Button,CheckBox:CheckBox,Toggle:Toggle,DropDownList:DropDownList,Input:Input,ButtonGroup:ButtonGroup,LoadResourceChart:LoadResourceChart,ConstraintsGraph:ConstraintsGraph,ConstraintLayout:ConstraintLayout},Gantt.envReady=function(){return Promise.resolve(!0)}},165:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return core.a}));var classCallCheck=__webpack_require__(2),createClass=__webpack_require__(3),core=__webpack_require__(0);core.a.plugins={plugins:[],register:function register(plugins){for(var i=0;i<arguments.length;i++)-1===this.plugins.indexOf(arguments[i])&&this.plugins.push(arguments[i])},unregister:function unregister(plugins){for(var index,i=0;i<arguments.length;i++)-1!==(index=this.plugins.indexOf(arguments[i]))&&this.plugins.splice(index,1)},clear:function clear(){this.plugins=[]},count:function count(){return this.plugins.length},getAll:function getAll(){return this.plugins},call:function call(method){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var paramsStart,reverse;"string"!=typeof method?(reverse=method,method=arguments[1],paramsStart=2):paramsStart=1;for(var result,params=Array.prototype.slice.call(arguments,paramsStart),i=reverse?this.plugins.length-1:0,inc=reverse?-1:1,end=reverse?-1:this.plugins.length;i!==end;i+=inc){var plugin=this.plugins[i];if("function"==typeof plugin[method]&&void 0!==(result=plugin[method].apply(plugin,params)))return result}}};var inherits=__webpack_require__(6),possibleConstructorReturn=__webpack_require__(9),getPrototypeOf=__webpack_require__(5);function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var selection_Type=function(){function Type(config){var _this=this;Object(classCallCheck.a)(this,Type),core.a.utils.mergeObjects(this,config),this.SelectionChanged={event:function event(){return _this.getSelectionChangedEvent()},method:function method(){return _this.getSelectionChangedMethod()}},this.Selected={event:function event(){return _this.getSelectionEvent()},method:function method(){return _this.getSelectionMethod()}},this.Unselected={event:function event(){return _this.getUnselectionEvent()},method:function method(){return _this.getUnselectionMethod()}},this.SelectionCleared={event:function event(){return _this.getClearSelectionEvent()},method:function method(){return _this.getClearSelectionMethod()}}}return Object(createClass.a)(Type,[{key:"accept",value:function accept(obj){return!1}},{key:"getTypeEvent",value:function getTypeEvent(event){return this[event]&&this[event].event()}},{key:"getTypeMethod",value:function getTypeMethod(method){return this.name+method}},{key:"notify",value:function notify(o,event,params){var m=this[event]&&this[event].method();(m=o[m])&&m.apply(o,params)}},{key:"getClearSelectionEvent",value:function getClearSelectionEvent(){return this.name+"SelectionCleared"}},{key:"getClearSelectionMethod",value:function getClearSelectionMethod(){return this.clearSelectionMethod||this.getTypeMethod("Selected")}},{key:"getSelectionEvent",value:function getSelectionEvent(){return this.name+"Selected"}},{key:"getSelectionMethod",value:function getSelectionMethod(){return this.selectionMethod||this.getTypeMethod("Selected")}},{key:"getUnselectionEvent",value:function getUnselectionEvent(){return this.name+"Unselected"}},{key:"getUnselectionMethod",value:function getUnselectionMethod(){return this.unselectionMethod||this.getTypeMethod("Unselected")}},{key:"getSelectionChangedEvent",value:function getSelectionChangedEvent(){return this.name+"SelectionChanged"}},{key:"getSelectionChangedMethod",value:function getSelectionChangedMethod(){return this.selectionChangedMethod||this.getTypeMethod("SelectionChanged")}}]),Type}(),selection_SelectionHandler=function(_Gantt$components$Sel){Object(inherits.a)(SelectionHandler,_Gantt$components$Sel);var _super=_createSuper(SelectionHandler);function SelectionHandler(config,proto){var _this2;return Object(classCallCheck.a)(this,SelectionHandler),(_this2=_super.call(this,config,proto)).lock=0,_this2.types=[],_this2.genericType=new selection_Type({name:""}),_this2.genericType.SelectionCleared={event:function event(){return core.a.events.SELECTION_CLEARED},method:function method(){return"clearSelection"}},_this2.genericType.StartSelecting={event:function event(){return core.a.events.START_SELECTING},method:function method(){return"startSelection"}},_this2.genericType.StopSelecting={event:function event(){return core.a.events.STOP_SELECTING},method:function method(){return"stopSelection"}},_this2}return Object(createClass.a)(SelectionHandler,[{key:"setConfiguration",value:function setConfiguration(config){if(this.config=config,this.observers=[],config)if(core.a.utils.isArray(config))for(var i=0;i<config.length;i++)this.addConfiguration(config[i]);else this.addConfiguration(config)}},{key:"addConfiguration",value:function addConfiguration(config){this.addObserver(config)}},{key:"select",value:function select(obj,clear,notActive){if(obj){this.startSelecting();var objType=this.getObjectType(obj),selTypeChanged=this.selectionType!==objType;if(this.selections.length&&(clear||selTypeChanged)){var oldType=this.selectionType;this.clear(),selTypeChanged&&this.notify(oldType,"SelectionChanged",this.selections)}if(this.selectionType=objType,notActive&&this.selections.length)if(core.a.utils.isArray(obj)){for(var i=0,count=obj.length;i<count;++i)this.setObjectSelected(obj[i],!0);this.selections=this.selections.concat(obj)}else this.setObjectSelected(obj,!0),this.selections.push(obj);else if(core.a.utils.isArray(obj)){for(var _i=0,_count=obj.length;_i<_count;++_i)this.setObjectSelected(obj[_i],!0);this.selections=obj.concat(this.selections)}else this.setObjectSelected(obj,!0),this.selections.unshift(obj);this.selections.length&&this.notify(this.selectionType,"Selected",this.selections,this.selections[0]),this.stopSelecting()}}},{key:"unselect",value:function unselect(obj){var _this3=this;if(obj){var selecting=!1,uns=core.a.utils.isArray(obj)&&obj||[obj],foundUns=[];uns.forEach((function(o){var index=_this3.selections.indexOf(obj);index>=0&&(selecting||(_this3.startSelecting(),selecting=!0),_this3.selections.splice(index,1),_this3.setObjectSelected(obj,!1),foundUns.push(obj))})),selecting&&(this.notify(this.selectionType,"Unselected",foundUns),this.stopSelecting())}}},{key:"setObjectSelected",value:function setObjectSelected(obj,selected){}},{key:"clear",value:function clear(){if(this.selections.length){this.startSelecting();for(var oldSelection=this.selections,i=0,count=oldSelection&&oldSelection.length||0;i<count;++i)this.setObjectSelected(oldSelection[i],!1);this.selections=[],this.notify(this.selectionType,"SelectionCleared",oldSelection),this.notify(this.genericType,"SelectionCleared",oldSelection),this.stopSelecting()}}},{key:"processClick",value:function processClick(e,obj){obj&&(e.ctrlKey?this.isSelected(obj)?this.unselect(obj):this.select(obj):this.isSelected(obj)||this.select(obj,!e.shiftKey))}},{key:"getObjectType",value:function getObjectType(obj){for(var i=0,count=this.types.length;i<count;++i)if(this.types[i].accept(obj))return this.types[i];return null}},{key:"startSelecting",value:function startSelecting(){1==++this.lock&&this.notify(this.genericType,"StartSelecting")}},{key:"stopSelecting",value:function stopSelecting(){--this.lock||(this.notify(this.genericType,"StopSelecting"),this.selectionType&&this.notify(this.selectionType,"SelectionChanged",this.selections,this.selections.length?this.selections[0]:null))}},{key:"notify",value:function notify(type,event){for(var typeEvent=type.getTypeEvent(event),_len=arguments.length,params=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)params[_key-2]=arguments[_key];typeEvent&&this.triggerEvent(!0,typeEvent,params);for(var o,i=0;i<this.observers.length;i++)o=this.observers[i],type.notify(o,event,params)}},{key:"addObserver",value:function addObserver(o){this.observers.push(o)}},{key:"removeObserver",value:function removeObserver(o){var index=this.observers.indexOf(o);return index>=0?(this.observers.splice(index,1),0):null}},{key:"registerType",value:function registerType(type){return type=new selection_Type(type),this.types.push(type),type}}],[{key:"SELECTION_CHANGED_EVENT",get:function get(){return"SelectionChanged"}},{key:"UNSELECT_EVENT",get:function get(){return"Unselected"}},{key:"SELECT_EVENT",get:function get(){return"Selected"}},{key:"CLEAR_SELECTION_EVENT",get:function get(){return"SelectionCleared"}}]),SelectionHandler}(core.a.components.SelectionHandler);core.a.components.SelectionHandler.impl=selection_SelectionHandler;var esm_typeof=__webpack_require__(368);function renderer_createSuper(Derived){var hasNativeReflectConstruct=function renderer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}function createSelectorFunction(selector,fct,oldFct,fctCtx){return fct&&function(object,ctx,ext){return!selector||selector(object,ctx)?fctCtx?fct.call(fctCtx,object,ctx,ext):fct(object,ctx,ext):oldFct&&oldFct(object,ctx,ext)||void 0}}var renderer_Renderer=function(_Gantt$components$Ren){Object(inherits.a)(Renderer,_Gantt$components$Ren);var _super=renderer_createSuper(Renderer);function Renderer(config,proto,paletteHandler){return Object(classCallCheck.a)(this,Renderer),_super.call(this,config,proto,paletteHandler)}return Object(createClass.a)(Renderer,[{key:"draw",value:function draw(object,parentElt,ctx){var bg,shapeElt=this.createShape&&this.createShape(object,parentElt,ctx)||null;if(this.getCSS){var css=this.getCSS(object,ctx);css&&this.setCSS(shapeElt||parentElt,css)}if((this.getText||this.getIcon)&&this.drawContent){var text=this.getText&&this.getText(object,ctx),icon=this.getIcon&&this.getIcon(object,ctx);this.drawContent(shapeElt||parentElt,icon,text,object,ctx)}return this.background&&(bg=this.background(object,ctx))&&this.setBackground(shapeElt,bg),this.color&&this.setColor(shapeElt,this.color(object,ctx,bg)),parentElt&&shapeElt!==parentElt&&parentElt.appendChild(shapeElt),shapeElt}},{key:"setBackground",value:function setBackground(shapeElt,bg){shapeElt.style.backgroundColor=bg}},{key:"setColor",value:function setColor(shapeElt,c){shapeElt.style.color=c}},{key:"setCSS",value:function setCSS(elt,classname){classname&&(elt.className=elt.className&&"".concat(elt.className," ").concat(classname)||classname)}},{key:"createShape",value:function createShape(object,parentElt,ctx){return null}},{key:"drawContent",value:function drawContent(elt,icon,text,object,ctx){this.drawDefaultContent(elt,icon,text,object,ctx)}},{key:"drawNoDisplayOverflowContent",value:function drawNoDisplayOverflowContent(elt,icon,text,object,ctx){var ctnt=document.createElement("div");if(ctnt.className="content",ctnt.style.overflow="hidden",ctnt.style.display="flex",ctnt.style.justifyContent="center",ctnt.style.left="0",ctnt.style.top="0",ctnt.style.bottom="0",ctnt.style.right="0",ctnt.style.position="absolute",ctnt.style.flexWrap="wrap",icon){var img=document.createElement("img");img.className="image-content",img.src=icon,img.alt="",img.style.float="left",ctnt.appendChild(img)}var separator=document.createElement("div");separator.style.width="1px",separator.style.display="inline-block",separator.style.height="100%",ctnt.appendChild(separator);var t=document.createElement("div");t.className="text-content",t.innerHTML=text,t.style.display="flex",t.style.alignItems="center",t.style.whiteSpace="nowrap",t.style.height="100%",t.style.textAlign="center",ctnt.appendChild(t),elt.appendChild(ctnt)}},{key:"drawCutContent",value:function drawCutContent(elt,icon,text,object,ctx){if(icon){var img=document.createElement("img");img.className="image-content",img.src=icon,img.alt="",elt.appendChild(img)}elt.style.overflow="hidden";var t=document.createElement("div");return t.className="text-content",t.innerHTML=text,elt.appendChild(t),t}},{key:"drawEllipsisContent",value:function drawEllipsisContent(elt,icon,text,object,ctx){if(icon){var img=document.createElement("img");img.className="image-content",img.src=icon,img.alt="",elt.appendChild(img)}var t=document.createElement("div");return t.className="text-content",t.style.textOverflow="ellipsis",t.style.overflow="hidden",t.innerHTML=text,elt.appendChild(t),t}},{key:"drawOverflowVisibleContent",value:function drawOverflowVisibleContent(elt,icon,text,object,ctx){if(icon){var img=document.createElement("img");img.className="image-content",img.src=icon,img.alt="",img.style.float="left",elt.appendChild(img)}var t=document.createElement("div");return t.className="text-content",t.overflow="visible",t.innerHTML=text,elt.appendChild(t),t}},{key:"filter",value:function filter(object,row,search){if(this.getText&&search){var text=this.getText(object,row);return text&&core.a.utils.stringMatches(text,search)}return!1}},{key:"createCSSGetter",value:function createCSSGetter(selector,classOptions,ctx){if("function"==typeof classOptions)return createSelectorFunction(selector,classOptions,null,ctx);if("string"==typeof classOptions)return"@"===classOptions[0]?createSelectorFunction(selector,core.a.utils.propertyEvaluator(classOptions.substring(1))):createSelectorFunction(selector,(function(){return classOptions}));if(!classOptions.property)return console.warn('Missing "property" field in class setter description:'),console.warn(classOptions),null;var propGetter=core.a.utils.propertyEvaluator(classOptions.property);return createSelectorFunction(selector,(function(obj){var prop=propGetter.call(obj,obj);return prop&&(classOptions.prefix&&(prop=classOptions.prefix+prop),classOptions.suffix&&(prop=classOptions.suffix+prop)),prop}))}},{key:"addCSSConfiguration",value:function addCSSConfiguration(selector,classes,ctx){var i,getter;for(core.a.utils.isArray(classes)||(classes=[classes]),i=0;i<classes.length;i++)(getter=this.createCSSGetter(selector,classes[i],ctx))&&(this.cssGetters?this.cssGetters.push(getter):(this.cssGetters=[getter],this.getCSS=function(object,ctx){for(var cssToAdd,cssClasses="",_i=0;_i<this.cssGetters.length;_i++)(cssToAdd=this.cssGetters[_i](object,ctx))&&(cssClasses=cssClasses&&"".concat(cssClasses," ").concat(cssToAdd)||cssToAdd);return cssClasses}))}},{key:"addFilterConfiguration",value:function addFilterConfiguration(selector,config,ctx){var filter;if("function"==typeof config)filter=function filter(){for(var _len=arguments.length,params=new Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];return config.apply(ctx,params)};else if("string"==typeof config){var getter=core.a.utils.propertyEvaluator(config);getter&&(filter=function filter(object,ctx,search){if(search){var value=getter(object,ctx);return value&&core.a.utils.stringMatches(value,search)}return!0})}else console.warn("Cannot process filter config. Must be a string or a function."),console.warn(config);if(filter){var oldFilter=this.filter;this.filter=function(object,ctx,search){return!!oldFilter(object,ctx,search)&&!!(selector&&!selector(object)||filter(object,ctx,search))}}}},{key:"addTooltipPropertiesConfiguration",value:function addTooltipPropertiesConfiguration(selector,config,ctx){var tooltipPropsGetter;"function"==typeof config?tooltipPropsGetter=config:(console.warn("Cannot process tooltip properties config. Must be a a function."),console.warn(config)),tooltipPropsGetter&&(this.getTooltipProperties=selector?createSelectorFunction(selector,tooltipPropsGetter,this.getTooltipProperties,ctx):tooltipPropsGetter)}},{key:"addTooltipConfiguration",value:function addTooltipConfiguration(selector,config,ctx){var tooltipGetter;"function"==typeof config?tooltipGetter=function tooltipGetter(){for(var _len2=arguments.length,params=new Array(_len2),_key2=0;_key2<_len2;_key2++)params[_key2]=arguments[_key2];return config.apply(ctx,params)}:(console.warn("Cannot process tooltip config. Must be a function."),console.warn(config)),tooltipGetter&&(this.getTooltip=selector?createSelectorFunction(selector,tooltipGetter,this.getTooltip):tooltipGetter)}},{key:"addTextConfiguration",value:function addTextConfiguration(selector,config,ctx){var textGetter;"function"==typeof config?textGetter=function textGetter(){for(var _len3=arguments.length,params=new Array(_len3),_key3=0;_key3<_len3;_key3++)params[_key3]=arguments[_key3];return config.apply(ctx,params)}:"string"==typeof config?textGetter=core.a.utils.propertyEvaluator(config):(console.warn("Cannot process text config. Must be a string or a function."),console.warn(config)),textGetter&&(this.getText=selector?createSelectorFunction(selector,textGetter,this.getText):textGetter)}},{key:"addIconConfiguration",value:function addIconConfiguration(selector,config,ctx){var iconGetter;"function"==typeof config?iconGetter=function iconGetter(){for(var _len4=arguments.length,params=new Array(_len4),_key4=0;_key4<_len4;_key4++)params[_key4]=arguments[_key4];return config.apply(ctx,params)}:"string"==typeof config?iconGetter=core.a.utils.propertyEvaluator(config):(console.warn("Cannot process icon config. Must be a string or a function."),console.warn(config)),iconGetter&&(this.getIcon=selector?createSelectorFunction(selector,iconGetter,this.getIcon):iconGetter)}},{key:"addDrawConfiguration",value:function addDrawConfiguration(selector,config){if(selector){var oldDraw=this.draw;this.draw=function(object,elt,ctx){selector(object,ctx)?config.draw(object,elt,ctx):oldDraw(object,elt,ctx)}}else this.draw=function(object,elt,ctx){config.draw(object,elt,ctx)}}},{key:"addDrawContentConfiguration",value:function addDrawContentConfiguration(selector,config){if(selector){var oldDrawContent=this.drawContent;this.drawContent=function(elt,text,object,ctx){selector(object,ctx)?config.drawContent(elt,text,object,ctx):oldDrawContent(elt,text,object,ctx)}}else this.drawContent=function(elt,text,object,ctx){config.drawContent(elt,text,object,ctx)}}},{key:"addTextOverflowConfiguration",value:function addTextOverflowConfiguration(selector,config){var drawDefaultContent;if("ellipsis"===config?drawDefaultContent=this.drawEllipsisContent:"noDisplay"===config?drawDefaultContent=this.drawNoDisplayOverflowContent:"cut"===config&&(drawDefaultContent=this.drawCutContent),selector){var oldDrawDefaultContent=this.drawDefaultContent;this.drawDefaultContent=function(elt,text,object,ctx){selector(object,ctx)?drawDefaultContent.call(this,elt,text,object,ctx):oldDrawDefaultContent.call(this,elt,text,object,ctx)}}else this.drawDefaultContent=drawDefaultContent}},{key:"hexToRgb",value:function hexToRgb(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null}},{key:"getTextColorFromBackgroundColor",value:function getTextColorFromBackgroundColor(hexColor){var rgb=this.hexToRgb(hexColor);return Math.round((299*rgb.r+587*rgb.g+114*rgb.b)/1e3)>125?"#383633":"white"}},{key:"addColorConfiguration",value:function addColorConfiguration(selector,config,property,ctx){var colorGetter,_this=this;if("function"==typeof config)colorGetter=function colorGetter(){for(var _len5=arguments.length,params=new Array(_len5),_key5=0;_key5<_len5;_key5++)params[_key5]=arguments[_key5];return config.apply(ctx,params)};else if("string"==typeof config)colorGetter="color"===property&&"automatic"===config?function colorGetter(obj,ctx,bg){var index=_this.colors&&_this.colors.indexOf(bg)||-1;if(index<0){var textColor;try{textColor=_this.getTextColorFromBackgroundColor(bg)}catch(err){console.error("Invalid color format ".concat(bg)),console.error(err),textColor="black"}return _this.colors?(_this.colors.push(bg),_this.textColors.push(textColor)):(_this.colors=[bg],_this.textColors=[textColor]),textColor}return _this.textColors[index]}:core.a.utils.propertyEvaluator(config);else{var paletteConfig=config.palette,paletteRenderer={paletteHandler:this.paletteHandler,colors:null,value:core.a.utils.propertyEvaluator(config.getValue),getColor:function getColor(obj,ctx){var value=this.value(obj,ctx),colors=this.colors||this.makeColors(obj,ctx),index=this.values.indexOf(value);return index<0&&(index=this.values.length,this.values.push(value)),index<0?null:colors[index%colors.length]},getValues:config.values&&(core.a.utils.isFunction(config.values)&&config.values||function(){return config.values}),makeColors:function makeColors(obj,ctx){var palette;return(palette=paletteConfig?core.a.utils.isString(paletteConfig)?this.paletteHandler.getPalette(paletteConfig):new(core.a.components.Palette.impl||core.a.components.Palette)(paletteConfig):this.paletteHandler.getPalette())||this.colors||(console.error("No palette found for ".concat(paletteConfig)),palette=core.a.defaultPalettes[core.a.defaultPaletteName]),this.values=this.getValues&&this.getValues(obj,ctx)||[],this.colors=palette&&palette.getColors(this.values.length||-1),this.colors}};colorGetter=function colorGetter(obj,ctx){return paletteRenderer.getColor(obj,ctx)}}colorGetter&&(this[property]=selector?createSelectorFunction(selector,colorGetter,this[property]):colorGetter)}},{key:"addConfiguration",value:function addConfiguration(config){var selector;if(config.selector)if("function"==typeof config.selector)selector=function selector(){return config.selector.apply(config,arguments)};else if("object"===Object(esm_typeof.a)(config.selector)&&config.selector.property&&config.selector.value){var prop=core.a.utils.propertyEvaluator(this.config.selector.property),values=this.config.selector.value.split(",");selector=function selector(object){var value=prop(object);return value&&values.indexOf(value)>=0}}else console.warn('Renderer selector must be a function or an object with "property" and "value" fields.'),console.warn(config.selector);this.processConfiguration(selector,config)}},{key:"processConfiguration",value:function processConfiguration(selector,config){this.defaultProcessConfiguration(selector,config)}},{key:"defaultProcessConfiguration",value:function defaultProcessConfiguration(selector,config){(config.classes||config.css)&&this.addCSSConfiguration(selector,config.classes||config.css,config),config.text&&this.addTextConfiguration(selector,config.text,config),config.icon&&this.addIconConfiguration(selector,config.icon,config),config.filter&&this.addFilterConfiguration(selector,config.filter,config),config.tooltip&&this.addTooltipConfiguration(selector,config.tooltip,config),config.tooltipProperties&&this.addTooltipPropertiesConfiguration(selector,config.tooltipProperties,config),config.createShape&&console.warn("config.createShape: Not implemented"),config.drawContent&&this.addDrawContentConfiguration(selector,config),config.textOverflow&&this.addTextOverflowConfiguration(selector,config.textOverflow),config.background&&this.addColorConfiguration(selector,config.background,"background",config),config.color&&this.addColorConfiguration(selector,config.color,"color",config),config.draw&&this.addDrawConfiguration(selector,config)}},{key:"setConfiguration",value:function setConfiguration(config){if(this.drawDefaultContent=this.drawNoDisplayOverflowContent,Array.isArray(config))for(var i=0;i<config.length;i++)this.addConfiguration(config[i]);else config&&this.addConfiguration(config);this.initialized(config)}},{key:"initialized",value:function initialized(config){}},{key:"getTooltipProperties",value:function getTooltipProperties(obj,ctx){return[]}},{key:"getTooltip",value:function getTooltip(parentNode,obj,ctx){if(parentNode.style.display="flex",parentNode.style.flexDirection="column",this.getText){var title=document.createElement("h2");title.appendChild(document.createTextNode(this.getText(obj,ctx))),title.style.display="block",title.style.flex="0 0 auto",parentNode.appendChild(title)}var props=this.getTooltipProperties(obj,ctx),tableCtnr=document.createElement("div");tableCtnr.style.overflow="auto",tableCtnr.style.display="block",tableCtnr.style.flexShrink="1",tableCtnr.style.flexGrow="1";for(var tr,td,table=document.createElement("table"),body=document.createElement("tbody"),iProp=0,count=props.length;iProp<count;)tr=document.createElement("tr"),(td=document.createElement("td")).className="tooltip-key",td.appendChild(document.createTextNode(props[iProp++])),tr.appendChild(td),(td=document.createElement("td")).className="tooltip-table-separator",tr.appendChild(td),(td=document.createElement("td")).className="tooltip-value",td.appendChild(document.createTextNode(props[iProp++])),tr.appendChild(td),body.appendChild(tr);table.appendChild(body),tableCtnr.appendChild(table),parentNode.appendChild(tableCtnr)}}]),Renderer}(core.a.components.Renderer);core.a.components.Renderer.impl=renderer_Renderer;var slicedToArray=__webpack_require__(164);function model_createSuper(Derived){var hasNativeReflectConstruct=function model_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}function updateTimeWindow(wnd,activity){return activity.start&&wnd.start>activity.start&&(wnd.start=activity.start),activity.end&&wnd.end<activity.end&&(wnd.end=activity.end),activity}var ConstraintPrototype={isDisplayed:function isDisplayed(){return null!==this.nodes},clearLink:function clearLink(){this.nodes=null},setNodes:function setNodes(nodes){this.nodes=nodes}},model_GanttModel=function(_Gantt$components$Gan){Object(inherits.a)(GanttModel,_Gantt$components$Gan);var _super=model_createSuper(GanttModel);function GanttModel(gantt,config){return Object(classCallCheck.a)(this,GanttModel),_super.call(this,gantt,config)}return Object(createClass.a)(GanttModel,[{key:"setConfiguration",value:function setConfiguration(config){var _this=this;this.destroy();var fetchConfig,ftchClass=core.a.components.DataFetcher.impl||core.a.components.DataFetcher,checkFetcher=function checkFetcher(fetcher,type){if(!fetcher.get)throw new Error("Could not configure data for ".concat(type,". Probably a configuration issue with key(s) ").concat(Object.keys(fetcher).join(",")))};if(this.dateParser=null,config.dateFormat)try{this.dateParser=core.a.utils.createDateParser(config.dateFormat)}catch(err){throw new Error("Could not process date format ".concat(config.dateFormat,": ").concat(err))}var makeTimeFct=function makeTimeFct(fct){var final;return _this.dateParser?function(obj){if(!final){var value=fct(obj);return core.a.utils.isString(value)?(final=function final(obj){return _this.dateParser(fct(obj))},_this.dateParser(value)):(final=fct,value)}return final(obj)}:fct};this.allFetcher=null,(fetchConfig=config.all)&&(this.allFetcher=new ftchClass(fetchConfig,["reader","resources","activities","reservations","constraints"],{gantt:this.gantt}),checkFetcher(this.allFetcher,"all"),this.allFetcher._reader=fetchConfig.reader&&core.a.utils.isFunction(fetchConfig.reader)?fetchConfig.reader:function(data){return fetchConfig.reader},this.allFetcher._resourcesGetter=fetchConfig.resources&&core.a.utils.propertyEvaluator(fetchConfig.resources),this.allFetcher._activitiesGetter=fetchConfig.activities&&core.a.utils.propertyEvaluator(fetchConfig.activities),this.allFetcher._reservationsGetter=fetchConfig.reservations&&core.a.utils.propertyEvaluator(fetchConfig.reservations),this.allFetcher._constraintsGetter=fetchConfig.constraints&&core.a.utils.propertyEvaluator(fetchConfig.constraints)),this.resourceFetcher=null,(fetchConfig=config.resources)&&(this.resourceFetcher=new ftchClass(fetchConfig,["id","parent","name","activities"],{gantt:this.gantt}),checkFetcher(this.resourceFetcher,"resources"),fetchConfig.parent&&(this.resourceFetcher._parentIdGetter=core.a.utils.propertyEvaluator(fetchConfig.parent||"parentId")),this.resourceFetcher._idGetter=core.a.utils.propertyEvaluator(fetchConfig.id||"id"),this.resourceFetcher._nameGetter=fetchConfig.name&&core.a.utils.propertyEvaluator(fetchConfig.name)||this.resourceFetcher._idGetter,fetchConfig.activities&&(this.resourceFetcher._activityGetter=core.a.utils.propertyEvaluator(fetchConfig.activities))),(fetchConfig=config.activities)&&(this.activityFetcher=this.resourceFetcher&&this.resourceFetcher._activityGetter&&{}||new ftchClass(fetchConfig,["id","parent","name","start","end","resource"],{gantt:this.gantt}),this.resourceFetcher&&this.resourceFetcher._activityGetter||checkFetcher(this.activityFetcher,"activities"),fetchConfig.parent&&(this.activityFetcher._parentIdGetter=core.a.utils.propertyEvaluator(fetchConfig.parent||"parentId")),this.activityFetcher._idGetter=core.a.utils.propertyEvaluator(fetchConfig.id||"id"),this.activityFetcher._nameGetter=fetchConfig.name&&core.a.utils.propertyEvaluator(fetchConfig.name)||this.activityFetcher._idGetter,this.activityFetcher._startGetter=makeTimeFct(core.a.utils.propertyEvaluator(fetchConfig.start||"start")),this.activityFetcher._endGetter=makeTimeFct(core.a.utils.propertyEvaluator(fetchConfig.end||"end")),fetchConfig.resource&&(this.activityFetcher._resourceIdGetter=core.a.utils.propertyEvaluator(fetchConfig.resource))),(fetchConfig=config.reservations)&&(this.reservationFetcher=new ftchClass(fetchConfig,["activity","resource"],{gantt:this.gantt}),checkFetcher(this.reservationFetcher,"reservations"),this.reservationFetcher._activityGetter=core.a.utils.propertyEvaluator(fetchConfig.activity||"activity"),this.reservationFetcher._resourceGetter=core.a.utils.propertyEvaluator(fetchConfig.resource||"resource")),(fetchConfig=config.constraints)&&(this.constraintFetcher=new ftchClass(fetchConfig,["from","to","type"],{gantt:this.gantt}),checkFetcher(this.constraintFetcher,"constraints"),this.constraintFetcher._fromGetter=core.a.utils.propertyEvaluator(fetchConfig.from||"from"),this.constraintFetcher._toGetter=core.a.utils.propertyEvaluator(fetchConfig.to||"to"),this.constraintFetcher._typeGetter=core.a.utils.propertyEvaluator(fetchConfig.type||"type"),this.constraintFetcher._idGetter=fetchConfig.id&&core.a.utils.propertyEvaluator(fetchConfig.id)||null),(fetchConfig=config.timeWindow)&&(this.timeWindowFetcher=new ftchClass(fetchConfig,null,{gantt:this.gantt}),checkFetcher(this.timeWindowFetcher,"timeWindow"),this.timeWindowFetcher._startGetter=makeTimeFct(core.a.utils.propertyEvaluator(fetchConfig.start||"start")),this.timeWindowFetcher._endGetter=makeTimeFct(core.a.utils.propertyEvaluator(fetchConfig.end||"end")))}},{key:"load",value:function load(config){var _this2=this;return config&&(this.destroy(),this.setConfiguration(config)),this.allData=null,this.allFetcher?this.allFetcher.get().then((function(data){return _this2.loadFromData(data)})):this.loadFromData()}},{key:"loadFromData",value:function loadFromData(data){var actPromise,resaPromise,resourcePromise,consPromise,wnd,wndPromise,_this3=this;this.activities=[],this.activities.byIds={},this.rows=[],this.constraints=[],this.constraints.byIds={},this.resources=[],this.resources.byIds={},this.reservations=[],this.reservations.byIds={},this.timeWindow=null,this.flat=!0,this.timeWindowFetcher?wndPromise=this.timeWindowFetcher.get(data).then((function(obj){return{start:_this3.timeWindowFetcher._startGetter(obj),end:_this3.timeWindowFetcher._endGetter(obj)}})):wnd={start:Number.MAX_VALUE,end:0}||null;var resourceGantt=this.gantt.isResourceGantt();if(this.resourceFetcher||this.activityFetcher){var timeWindowProcessed=!!wndPromise;this.resourceFetcher&&(resourcePromise=this.resourceFetcher.get(data).then((function(resources){var computeTimeWindow=!timeWindowProcessed&&resourceGantt&&_this3.resourceFetcher._activityGetter;return _this3.resources=_this3.createTreeNodes(resources,_this3.resourceFetcher,!1,computeTimeWindow&&wnd),timeWindowProcessed=timeWindowProcessed||computeTimeWindow,_this3.resources}))),!this.activityFetcher||resourceGantt&&this.resourceFetcher&&this.resourceFetcher._activityGetter||(actPromise=this.activityFetcher.get(data).then((function(activities){return _this3.activities=_this3.createTreeNodes(activities,_this3.activityFetcher,!0,!timeWindowProcessed&&wnd),_this3.activities}))),this.reservationFetcher&&(resaPromise=this.reservationFetcher.get(data)),this.constraintFetcher&&(consPromise=this.constraintFetcher.get(data))}else resourceGantt?resourcePromise=Promise.resolve([]):actPromise=Promise.resolve([]);return Promise.all([resourcePromise,actPromise,resaPromise,consPromise,wndPromise]).then((function(_ref){var _ref2=Object(slicedToArray.a)(_ref,5),resources=_ref2[0],activities=_ref2[1],resas=_ref2[2],cons=_ref2[3],wndResult=_ref2[4];if(_this3.activityFetcher&&_this3.activityFetcher._resourceIdGetter&&_this3.createReservationsFromActivityResources(resourceGantt?_this3.resources.byIds:_this3.activities.byIds),resas&&resas.length&&_this3.createReservations(resas),cons&&cons.length&&_this3.createConstraints(cons),!(wndResult=wndResult||wnd).end&&resourceGantt&&activities&&activities.length){wndResult.start=activities[0].start,wndResult.end=activities[0].end;for(var i=activities.length-1;i;i--)updateTimeWindow(wndResult,activities[i])}return wndResult.end&&(_this3.timeWindow={start:wndResult.start,end:wndResult.end},_this3.triggerEvent(core.a.events.TIME_WINDOW_CHANGED,_this3.timeWindow)),_this3.rows=resourceGantt?resources:activities}))}},{key:"createReservations",value:function createReservations(data){if(this.reservations=[],this.reservations.byIds={},data&&0!==data.length)for(var resId,res,actId,act,resa,resByIds=this.resources.byIds,actByIds=this.activities.byIds,resIdGetter=this.reservationFetcher._resourceGetter,actIdGetter=this.reservationFetcher._activityGetter,i=0,len=data.length;i<len;++i)((resId=resIdGetter(resa=data[i]))||0===resId)&&(res=resByIds[resId])?((actId=actIdGetter(resa))||0===actId)&&(act=actByIds[actId])?((res.activities||(res.activities=[])).push(resa=this.createReservationNode(act,res)),this.reservations.push(resa),resa.id&&(this.reservations.byIds[resa.id]=resa)):actId?console.error('Cannot find activity "'.concat(actId,'" for reservation ').concat(JSON.stringify(resa))):console.error("No activity specified for reservation ".concat(JSON.stringify(resa))):resId||0===resId?console.error('Cannot find resource "'.concat(resId,'" for reservation ').concat(JSON.stringify(resa))):console.error("No resource specified for reservation ".concat(JSON.stringify(resa)))}},{key:"createReservationsFromActivityResources",value:function createReservationsFromActivityResources(rowByIds){for(var resId,res,actNode,resGetter=this.activityFetcher._resourceIdGetter,i=0,len=this.activities.length;i<len;++i)(resId=resGetter((actNode=this.activities[i]).getData()))||0===resId?(res=rowByIds[resId])?(res.activities||(res.activities=[])).push(this.createReservationNode(actNode,res)):console.error('Cannot find resource "'.concat(resId,'" for activity ').concat(JSON.stringify(actNode.getData()))):console.error("No resource specified for activity ".concat(JSON.stringify(actNode.getData())))}},{key:"createConstraints",value:function createConstraints(data){var len=data.length,consNodes=new Array(len);consNodes.byIds={};for(var node,i=0;i<len;++i)consNodes[i]=node=this.createConstraintNode(data[i],this.activities,i),consNodes.byIds[node.id]=node;return this.constraints=consNodes}},{key:"isResourceGanttModel",value:function isResourceGanttModel(){return!!this.resourceFetcher}},{key:"isFlat",value:function isFlat(){return this.flat}},{key:"createActivityNode",value:function createActivityNode(activity){var node=Object.create(activity);return node.id=this.activityFetcher._idGetter(activity),node.name=this.activityFetcher._nameGetter(activity),node.start=this.activityFetcher._startGetter(activity),node.end=this.activityFetcher._endGetter(activity),node.getData=function(){return activity},node.gantt=this.gantt,node.getObjectType=function(){return core.a.ObjectTypes.Activity},node}},{key:"createReservationNode",value:function createReservationNode(activity,row){var node=Object.create(activity);return node.row=row,node.gantt=this.gantt,node.getObjectType=function(){return core.a.ObjectTypes.Activity},node}},{key:"createConstraintNode",value:function createConstraintNode(cons,activities,index){var id=this.constraintFetcher._fromGetter(cons);if(!id)throw"No from activity specified for the constraint ".concat(JSON.stringify(cons));var from=activities.byIds[id];if(!from)throw"No activity could be found with the ID ".concat(id,"for constraint ").concat(JSON.stringify(cons));if(!(id=this.constraintFetcher._toGetter(cons)))throw"No to activity specified for the constraint ".concat(JSON.stringify(cons));var to=activities.byIds[id];if(!to)throw"No activity could be found with the ID ".concat(id,"for constraint ").concat(JSON.stringify(cons));var node=Object.create(cons,ConstraintPrototype);return node.from=from,node.to=to,node.type=this.constraintFetcher._typeGetter(cons),node.gantt=this.gantt,node.getData=function(){return cons},node.id=this.constraintFetcher._idGetter?this.constraintFetcher._idGetter(cons):"cons_".concat(index),from.consOuts?from.consOuts.push(node):from.consOuts=[node],to.consIns?to.consIns.push(node):to.consIns=[node],node.getObjectType=function(){return core.a.ObjectTypes.Constraint},node}},{key:"createTreeNode",value:function createTreeNode(id,data){var row=Object.create(data);return row.id=id,row.gantt=this.gantt,row.getData=function(){return data},row.hasAncestor=function(node){for(var p=row.parent;p;p=p.parent)if(p===node)return!0;return!0},row.getAncestorsCount=function(){for(var count=0,parent=row.parent;parent;parent=parent.parent)count++;return count},row.setRowHeight=function(row,h){},row.isGanttRow=function(){return!0},row}},{key:"createTreeNodes",value:function createTreeNodes(data,rowFetcher,isActivity,wnd){var row,origData,parentId,arr,i,resultIndex,id,activities,iAct,len,actNode,actsGetter,result=new Array(data.length),byIds=result.byIds={},children={},roots=[],allActivities=this.activities;function addNode(node,parentNode){result[resultIndex++]=node,node.parent=parentNode;var childNodes=children[node.id];node.children=childNodes;for(var childCount=childNodes.length,iChild=0;iChild<childCount;++iChild)addNode(childNodes[iChild],node);if(isActivity&&childCount&&(!node.start||!node.end)){node.start||(node.start=childNodes[0].start),node.end||(node.end=childNodes[0].end);for(var _iChild=1;_iChild<childCount;++_iChild)updateTimeWindow(node,childNodes[_iChild])}wnd&&isActivity&&updateTimeWindow(wnd,node)}(isActivity||(actsGetter=rowFetcher._activityGetter))&&(this.activityFetcher._startGetter,this.activityFetcher._endGetter);var idGetter=rowFetcher._idGetter,nameGetter=rowFetcher._nameGetter,parentIdGetter=rowFetcher._parentIdGetter;for(i=0,len=data.length;i<len;++i){if(origData=data[i],parentId=parentIdGetter?parentIdGetter(origData):null,id=idGetter(origData),row=this.createTreeNode(id,origData,children[id]),children[id]||(children[id]=[]),nameGetter&&(row.name=nameGetter(origData)),isActivity?(row.start=rowFetcher._startGetter(origData),row.end=rowFetcher._endGetter(origData),row.activities=[row],row.getObjectType=function(){return core.a.ObjectTypes.Activity}):row.getObjectType=function(){return core.a.ObjectTypes.Resource},wnd)if(isActivity)updateTimeWindow(wnd,row);else if(activities=actsGetter(origData))for(row.activities=new Array(activities.length),iAct=0;iAct<activities.length;++iAct)actNode=this.createActivityNode(activities[iAct]),allActivities.push(actNode),actNode.id&&(allActivities.byIds[actNode.id]=actNode),row.activities[iAct]=this.createReservationNode(updateTimeWindow(wnd,actNode),row);else row.activities=[];byIds[id]=row,parentId||0===parentId?(arr=children[parentId])?arr.push(row):children[parentId]=[row]:roots.push(row)}for(this.gantt.isResourceGantt()!==isActivity&&(this.flat=roots.length===data.length),i=0,len=roots.length,resultIndex=0;i<len;++i)addNode(roots[i]);return result}},{key:"destroy",value:function destroy(){this.allFetcher&&this.allFetcher.destroy&&this.allFetcher.destroy(),this.allFetcher=null,this.resourceFetcher&&this.resourceFetcher.destroy&&this.resourceFetcher.destroy(),this.resourceFetcher=null,this.resources=null,this.activityFetcher&&this.activityFetcher.destroy&&this.activityFetcher.destroy(),this.activityFetcher=null,this.activities=null,this.reservationFetcher&&this.reservationFetcher.destroy&&this.reservationFetcher.destroy(),this.reservationFetcher=null,this.reservations=null,this.constraintFetcher&&this.constraintFetcher.destroy&&this.constraintFetcher.destroy(),this.constraintFetcher=null,this.constraints=null,this.timeWindowFetcher&&this.timeWindowFetcher.destroy&&this.timeWindowFetcher.destroy(),this.timeWindowFetcher=null,this.timeWindow=null}},{key:"getActivity",value:function getActivity(param){if(core.a.utils.isString(param))return this.activities&&this.activities.byIds[param];if(this.activities)for(var i=0,count=this.activities.length;i<count;++i)if(this.activities[i].getData()===param)return this.activities[i];return null}}]),GanttModel}(core.a.components.GanttModel);core.a.components.GanttModel=model_GanttModel;var loadchartctrl_LoadResourceChartCtrl=function(){function LoadResourceChartCtrl(gantt,visible,config){var _this=this;Object(classCallCheck.a)(this,LoadResourceChartCtrl),this.gantt=gantt,this.visible=visible,this.loadCharts=[];var selectionHandler=gantt.selection,ctlr=this;selectionHandler.on(core.a.events.ROW_SELECTION_CHANGED,(function(e,sels){ctlr.setResources(sels.concat([]).reverse())})),selectionHandler.on(core.a.events.ROW_UNSELECTED,(function(e,sels){return _this.unselectRows(sels,_this.visible)})),selectionHandler.on(core.a.events.ROW_SELECTION_CLEARED,(function(e,sels){return _this.unselectRows(sels,_this.visible)})),this.layoutSynch=this.gantt.synchLayout({timeTableBoundsChanged:function timeTableBoundsChanged(bounds){ctlr.loadCharts.forEach((function(loadChart){return loadChart.setTimeLineBounds(ctlr.layoutSynch.convertBounds(bounds,loadChart.getTimeLineNode))}))},timeWindowChanged:function timeWindowChanged(start,end){ctlr.timeWindowChanged(start,end)},timeLineSizeChanged:function timeLineSizeChanged(width){ctlr.loadCharts.forEach((function(loadChart){return loadChart.setTimeLineWidth(width)}))},timeLineInitialized:function timeLineInitialized(){},timeLineScrolled:function timeLineScrolled(x){ctlr.loadCharts.forEach((function(loadChart){return loadChart.setTimeLineScrollLeft(x)}))}}),this.setConfiguration(config)}return Object(createClass.a)(LoadResourceChartCtrl,[{key:"setConfiguration",value:function setConfiguration(config){var _this2=this,RendererClass=core.a.components.Renderer.impl||core.a.components.Renderer;this.resourceRenderer=new RendererClass(core.a.utils.mergeObjects({background:{getValue:function getValue(res){return _this2.resources.indexOf(res)}}},config&&config.renderer),{},this.gantt)}},{key:"getRowBackground",value:function getRowBackground(row){return row.backgroundColor}},{key:"addLoadResourceChart",value:function addLoadResourceChart(loadChart){this.loadCharts.push(loadChart),loadChart.setResourceRenderer(this.resourceRenderer)}},{key:"addChildResources",value:function addChildResources(resources,a){for(var res,i=0;i<resources.length;i++)res=resources[i],a.push(res),res.children&&this.addChildResources(res.children,a);return a}},{key:"setVisible",value:function setVisible(visible){var _this3=this;if(this.visible!==visible)if(this.visible=visible,this.loadCharts.forEach((function(loadChart){return loadChart.setVisible(visible)})),this.visible){if(this.savedTimeW){var _this$savedTimeW=this.savedTimeW,start=_this$savedTimeW.start,end=_this$savedTimeW.end;delete this.savedTimeW,this.setTimeWindow(start,end,(function(){_this3.resources&&_this3.resources.length&&_this3.setResources(_this3.resources)}))}else this.resources&&this.resources.length&&this.setResources(this.resources);if(this.savedScrollLeft){var left=this.savedScrollLeft;delete this.savedScrollLeft,this.setScrollLeft(left)}}else this.resources&&this.resources.length&&this.unselectRows(this.resources,!0)}},{key:"isVisible",value:function isVisible(){return this.visible}},{key:"timeWindowChanged",value:function timeWindowChanged(start,end){this.visible?this.setTimeWindow(start,end):this.savedTimeW={start:start,end:end}}},{key:"setTimeWindow",value:function setTimeWindow(start,end,onInit){this.loadCharts.forEach((function(loadChart){return loadChart.setTimeWindow(start,end,onInit)}))}},{key:"timeTableXScrolled",value:function timeTableXScrolled(left){this.visible?this.setScrollLeft(left):this.savedScrollLeft=left}},{key:"setScrollLeft",value:function setScrollLeft(left){this.loadCharts.forEach((function(loadChart){return loadChart.setScrollLeft(left)}))}},{key:"setResources",value:function setResources(resources){var allRes=this.addChildResources(resources,[]);if(this.resources=allRes,this.visible){for(var res,i=0,count=allRes.length;i<count;i++)(res=allRes[i]).backgroundColor=this.visible&&this.resourceRenderer.background(res);this.gantt.drawRows(this.resources),this.loadCharts.forEach((function(loadChart){loadChart.setResources(allRes),loadChart.draw()}))}}},{key:"unselectRows",value:function unselectRows(rows,redraw){var all=[];!function unselectDeep(ar){ar.forEach((function(row){all.push(row),row.backgroundColor=void 0,row.children&&unselectDeep(row.children)}))}(rows),redraw&&this.gantt.drawRows(all)}},{key:"destroy",value:function destroy(){this.layoutSynch&&(this.layoutSynch.disconnect(),this.layoutSynch=null)}}]),LoadResourceChartCtrl}();__webpack_require__(353);function utils_createSuper(Derived){var hasNativeReflectConstruct=function utils_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var GanttStrings={"Gantt.MoveActivity":'Move "{name}"',"Gantt.ChangeActivityRow":'Change "{name}" of row',"timeLine.changeRowItem.fmt":'<div class="dragg-item-content"><h2 class="dragg-title">{title}</h2><table><tr><td class="dragg-item-property">From row</td><td class="table-separator"></td><td class="dragg-item-value">{start}</td></tr><tr><td class="dragg-item-property">At date</td><td class="table-separator"></td><td class="dragg-item-value">{startRow}</td></tr><tr><td class="dragg-item-property">To row</td><td class="table-separator"></td><td class="dragg-item-value">{current}</td></tr><tr><td class="dragg-item-property">At date</td><td class="table-separator"></td><td class="dragg-item-value">{currentRow}</td></tr></table></div>',"timeLine.newTimeItem.fmt":'<div class="dragg-item-content"><h2 class="dragg-title {draggStatusClass}">{title}</h2><table><tr><td class="dragg-item-property">From</td><td class="table-separator"></td><td class="dragg-item-value">{start}</td></tr><tr><td class="dragg-item-property">To</td><td class="table-separator"></td><td class="dragg-item-value">{current}</td></tr></table></div>',"gantt.loading":"Loading","gantt.error.details":"Details","gantt.error.title.fmt":"{msg} : {title}","gantt.toolbar.mini.text":"Mini","gantt.toolbar.minimize.text":"Compact","gantt.toolbar.normal.text":"Normal","gantt.toolbar.mini.tooltip":"Change row height","gantt.toolbar.fit.tooltip":"Fit","gantt.toolbar.refresh.text":"Refresh","gantt.toolbar.refresh.tooltip":"Refresh","gantt.toolbar.zoomIn.tooltip":"Zoom In","gantt.toolbar.zoomOut.tooltip":"Zoom Out","gantt.loadResourceChart.load.title":"Load","gantt.loadResourceChart.show.tooltip":"Show Load chart","gantt.loadResourceChart.hide.tooltip":"Hide Load chart","gantt.loadResourceChart.noSelection.title":"Select one or more resources to display in the load chart","gantt.constraintChart.from":"From","gantt.constraintChart.to":"To","gantt.constraintChart.type":"Type","gantt.constraintChart.start.start":"Start to Start","gantt.constraintChart.start.end":"End to Start","gantt.constraintChart.end.end":"End to End","gantt.constraintChart.end.start":"End to Start","gantt.name":"Name","gantt.id":"Id","gantt.start":"Start","gantt.end":"End","gantt.datatables.empty-table":"No data available in table","gantt.error.no-time-window-defined":"No time window defined"},intl={formatMessage:function formatMessage(m,v){var message=GanttStrings[m.id]||m.defaultMessage||m.id;return v&&Object.entries(v).forEach((function(_ref){var _ref2=Object(slicedToArray.a)(_ref,2),key=_ref2[0],value=_ref2[1];message=message.replace("{".concat(key,"}"),value)})),message}};Number.isInteger=Number.isInteger||function(value){return"number"==typeof value&&isFinite(value)&&Math.floor(value)===value},core.a.utils={defaultDateFormat:"mmm d, hh:MM:ss TT",createDateParser:function createDateParser(format){var i=0,fmt={},convertor={yyyy:"year",yy:"year",y:"year",M:"month",MM:"month",MMMM:"month",d:"day",dd:"day",H:"hour",HH:"hour",m:"min",mm:"min",s:"secs",ss:"secs",S:"millis",SS:"millis",SSS:"millis"};return format.replace(/(yyyy|yy|y|MMMM|MM|M|dd|d|HH|H|mm|m|ss|s|SSS|SS|S)/g,(function(part){fmt[convertor[part]]=i++})),function(s){if(!s)return 0;var parts=s.match(/(\d+)/g);return new Date(parts[fmt.year],parts[fmt.month]-1,parts[fmt.day],parts[fmt.hour],parts[fmt.min],parts[fmt.secs]).getTime()}},closest:function closest(elt,selector){},mergeObjects:function mergeObjects(target){target||(target={});for(var obj,prop,_i=1;_i<arguments.length;_i++)if(obj=arguments[_i])for(var j=0,keys=Object.keys(obj);j<keys.length;j++)target[prop=keys[j]]=obj[prop];return target},getChild:function getChild(elt,tagname){tagname=tagname?tagname.toUpperCase():null;for(var _i2=0;_i2<elt.childNodes.length;_i2++)if(!tagname||elt.childNodes[_i2].tagName.toUpperCase()===tagname)return elt.childNodes[_i2];return null},isArray:function isArray(obj){return Array.isArray||(Array.isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)}),Array.isArray(obj)},isString:function isString(obj){return"string"==typeof obj||obj instanceof String},isFunction:function isFunction(obj){return"function"==typeof obj},isDomElement:function isDomElement(obj){return obj.nodeType>0},hasClass:function hasClass(el,className){return el.classList?el.classList.contains(className):!(!el.className||!el.className.match)&&!!el.className.match(new RegExp("(\\s|^)".concat(className,"(\\s|$)")))},addClass:function addClass(el,className){el.classList?el.classList.add(className):this.hasClass(el,className)||(el.className?el.className+=" ".concat(className):el.className=className)},removeClass:function removeClass(el,className){if(el.classList)el.classList.remove(className);else if(this.hasClass(el,className)){var reg=new RegExp("(\\s|^)".concat(className,"(\\s|$)"));el.className=el.className.replace(reg," ")}},toggleClass:function toggleClass(el,classname,set){void 0===set?this.hasClass(el,classname)?this.removeClass(el,classname):this.addClass(el,classname):set?this.addClass(el,classname):this.removeClass(el,classname)},html:function html(node,htmlText){throw new Error("Gantt.utils.html not supported")},walkToAncestor:function walkToAncestor(parent,elt,cb,param){for(var parentNode,matcher="function"==typeof parent?parent:this.isArray(parent)?function makeArrayMatcher(array){return function(obj){for(var _i3=0;_i3<array.length;_i3++)if(obj===array[_i3])return!0;return!1}}(parent):function(obj){return parent===obj},p=elt;p&&p!==document||matcher(p);){if(matcher(p))return void 0===param&&p||param;if((parentNode=p.parentNode)===document&&!matcher(document))return;if(cb){var result=cb(parentNode,p,param);void 0!==result&&(param=result)}p=parentNode}},getWindowScrollLeft:function getWindowScrollLeft(){var t;return(((t=document.documentElement)||(t=document.body.parentNode))&&"number"==typeof t.scrollLeft?t:document.body).scrollLeft},getWindowScrollTop:function getWindowScrollTop(){var t;return(((t=document.documentElement)||(t=document.body.parentNode))&&"number"==typeof t.scrollTop?t:document.body).scrollTop},getScreenPoint:function getScreenPoint(elt,pt){var bounds=elt.getBoundingClientRect();return{x:bounds.left+this.getWindowScrollLeft()+(pt?pt.x:0),y:bounds.top+this.getWindowScrollTop()+(pt?pt.y:0)}},getHeight:function getHeight(elt){return elt.offsetHeight},offsetParent:function offsetParent(elt){return elt.parentNode},ajax:function ajax(url,params){},propertyEvaluator:function propertyEvaluator(path){if(this.isFunction(path))return path;var ar=path.split(".");return ar.length>1?function(obj){for(var _i4=0;obj&&_i4<ar.length;_i4++)obj=obj[ar[_i4]];return obj}:1===ar.length?function(obj){return obj[path]}:function(obj){return obj}},stringMatches:function stringMatches(s,search){return s.toLocaleLowerCase().indexOf(search.toLowerCase())>-1},getIntl:function getIntl(){return intl},setIntl:function setIntl(nintl){intl=nintl},getString:function getString(key,defaultValue){return this.getIntl().formatMessage({id:key,defaultMessage:defaultValue})},formatString:function formatString(tpl,obj){return this.getIntl().formatMessage({id:tpl,defaultMessage:obj},obj)},addEventListener:function addEventListener(target,evt,cb,capture){target.addEventListener?target.addEventListener(evt,cb,capture):target.attachEvent&&target.attachEvent("on".concat(evt),cb)},removeEventListener:function removeEventListener(target,evt,cb){target.removeEventListener?target.removeEventListener(evt,cb,!1):target.detachEvent&&target.detachEvent("on".concat(evt),cb)},implements:function _implements(clazz){for(var _i5=1,count=arguments.length;_i5<count;_i5++){var toImplement=arguments[_i5];for(var key in toImplement)toImplement.hasOwnProperty(key)&&(clazz[key]=toImplement[key])}return clazz},detectIE:function detectIE(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);if(ua.indexOf("Trident/")>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)}},core.a.utils.isInteger=Number.isInteger,core.a.utils.appendSVG=function(elt,cfg){var svgElt=document.createElementNS("http://www.w3.org/2000/svg","svg");svgElt.setAttribute("viewBox",cfg.viewBox),svgElt.style.x="0",svgElt.style.y="0",svgElt.style.width="".concat(cfg.width,"px"),svgElt.style.height="".concat(cfg.height,"px"),svgElt.style.webkitTransform="none",svgElt.style.transform="none",cfg.margin?svgElt.style.margin=cfg.margin:svgElt.style.margin="0",(Array.isArray(cfg.paths)&&cfg.paths||[cfg.paths]).forEach((function(p){var pathElt=document.createElementNS("http://www.w3.org/2000/svg","path");pathElt.setAttribute("d",p),svgElt.appendChild(pathElt)})),elt.appendChild(svgElt)};core.a.components.DataFetcher.impl=function DataFetcher(config,privateFields,settings){var _this=this;Object(classCallCheck.a)(this,DataFetcher);var createEntry=function createEntry(name,cfg){var ctx=config.context||config,postProcess=function postProcess(data){var p=data&&data.then&&data||Promise.resolve(data);return config.success&&(p=p.then((function(data){return config.success.call(ctx,data,settings)}))),p};if(core.a.utils.isFunction(cfg))_this[name]=function(){try{for(var _len=arguments.length,params=new Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];return cfg.apply(settings,params)}catch(err){return Promise.reject(err)}};else if(config.url){var ajaxConfig=core.a.utils.mergeObjects({success:cfg.success,settings:settings},cfg.ajaxConfig);_this[name]=function(){return core.a.utils.ajax(cfg.url,ajaxConfig)}}else if(core.a.utils.isArray(config))_this[name]=function(){return Promise.resolve(config)};else{var data=config.data;if(!data)throw"Data definition for ".concat(JSON.stringify(config)," for '").concat(name,"' does not define ajax parameters nor static data");if(core.a.utils.isString(data)){if(!ctx)throw"No context defined for data fetcher ".concat(name);var propEval=core.a.utils.propertyEvaluator(data),fct="function"==typeof ctx;_this[name]=function(model){return(model=model||(fct?ctx():ctx))&&model.then?model.then((function(res){return postProcess(propEval(res))})):postProcess(propEval(model))}}else if(core.a.utils.isFunction(data)){var _fct="function"==typeof ctx;_this[name]=function(model){if((model=model||(_fct?ctx():ctx))&&model.then)return model.then((function(res){return postProcess(data.call(ctx,model))}));try{return postProcess(data.call(ctx,model))}catch(err){return Promise.reject(err)}}}else _this[name]=function(){return postProcess(data)}}};if(core.a.utils.isFunction(config))createEntry("get",config);else if(core.a.utils.isArray(config))createEntry("get",config);else{for(var useDefault,prop,defConfig={context:settings},entryConfigs=[],_i6=0,keys=Object.keys(config);_i6<keys.length;_i6++)"data"===(prop=keys[_i6])||"url"===prop||"success"===prop||"context"===prop||"ajaxConfig"===prop?(defConfig[prop]=config[prop],useDefault=!0):(!privateFields||privateFields.indexOf(prop)<0)&&(entryConfigs.push(prop),entryConfigs.push(config[prop]));for(var _i7=0;_i7<entryConfigs.length;)createEntry(entryConfigs[_i7++],useDefault&&core.a.utils.mergeObjects({},defConfig,entryConfigs[_i7++])||entryConfigs[_i7++]);!entryConfigs.length&&useDefault&&createEntry("get",defConfig)}};var _addEventListener,prefix="";window.addEventListener?_addEventListener="addEventListener":(_addEventListener="attachEvent",prefix="on");var support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";function _addWheelListener(elem,eventName,callback,useCapture){elem[_addEventListener](prefix+eventName,"wheel"===support?callback:function(originalEvent){!originalEvent&&(originalEvent=window.event);var event={originalEvent:originalEvent,target:originalEvent.target||originalEvent.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===originalEvent.type?0:1,deltaX:0,deltaY:0,deltaZ:0,altKey:originalEvent.altKey,ctrlKey:originalEvent.ctrlKey,shiftKey:originalEvent.shiftKey,preventDefault:function preventDefault(){originalEvent.preventDefault?originalEvent.preventDefault():originalEvent.returnValue=!1}};return"mousewheel"===support?(event.deltaY=-1/40*originalEvent.wheelDelta,originalEvent.wheelDeltaX&&(event.deltaX=-1/40*originalEvent.wheelDeltaX)):event.deltaY=originalEvent.detail,callback(event)},useCapture||!1)}window.addWheelListener=function(elem,callback,useCapture){_addWheelListener(elem,support,callback,useCapture),"DOMMouseScroll"===support&&_addWheelListener(elem,"MozMousePixelScroll",callback,useCapture)};var token,timezone,timezoneClip,pad,dateFormat=(token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function pad(val,len){for(val=String(val),len=len||2;val.length<len;)val="0".concat(val);return val},function(date,mask,utc){var dF=dateFormat;if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(date)||/\d/.test(date)||(mask=date,date=void 0),date=date?new Date(date):new Date,Number.isNaN(date))throw SyntaxError("invalid date");"UTC:"===(mask=String(dF.masks[mask]||mask||dF.masks.default)).slice(0,4)&&(mask=mask.slice(4),utc=!0);var _=utc?"getUTC":"get",d=date["".concat(_,"Date")](),D=date["".concat(_,"Day")](),m=date["".concat(_,"Month")](),y=date["".concat(_,"FullYear")](),H=date["".concat(_,"Hours")](),M=date["".concat(_,"Minutes")](),s=date["".concat(_,"Seconds")](),L=date["".concat(_,"Milliseconds")](),o=utc?0:date.getTimezoneOffset(),flags={d:d,dd:pad(d),ddd:dF.i18n.dayNames[D],dddd:dF.i18n.dayNames[D+7],m:m+1,mm:pad(m+1),mmm:dF.i18n.monthNames[m],mmmm:dF.i18n.monthNames[m+12],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(L>99?Math.round(L/10):L),t:H<12?"a":"p",tt:H<12?"am":"pm",T:H<12?"A":"P",TT:H<12?"AM":"PM",Z:utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(100*Math.floor(Math.abs(o)/60)+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]};return mask.replace(token,(function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1)}))});dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(mask,utc){return dateFormat(this,mask||core.a.utils.defaultDateFormat,utc)};var utils_Palette=function(_Gantt$components$Pal){Object(inherits.a)(Palette,_Gantt$components$Pal);var _super=utils_createSuper(Palette);function Palette(config){var _this2;return Object(classCallCheck.a)(this,Palette),(_this2=_super.call(this,config)).colorSet=null,_this2.setConfiguration(config),_this2}return Object(createClass.a)(Palette,[{key:"setConfiguration",value:function setConfiguration(config){var _this3=this,maxColorsSize=-1,addColorSet=function addColorSet(col,size){if(col.length>=maxColorsSize)_this3.colorSet[size]=col,maxColorsSize=col.length;else{for(var insert=size-1;insert>=0&&_this3.colorSet[insert].length<col.length;)_this3.colorSet[i]=_this3.colorSet[i-1];_this3.colorSet[-1===insert?0:insert]=col}},getColorsFromSet=function getColorsFromSet(count){for(var index=0,setCount=_this3.colorSet.length;index<setCount;++index)if(_this3.colorSet[index].length>=count)return _this3.colorSet[index];return _this3.colorSet.length&&_this3.colorSet[_this3.colorSet.length-1]||null};if(core.a.utils.isArray(config)){var count=config.length;if(count)if(core.a.utils.isArray(config[0])){this.colorSet=new Array(count);for(var _i8=0;_i8<count;_i8++)addColorSet(config[_i8],_i8);this._getColors=getColorsFromSet}else this.colors=config,this._getColors=function(){return _this3.colors};else this._getColors=function(){return null}}else if(core.a.utils.isFunction(config))this._getColors=config;else{var keys=Object.keys(config),keyCount=keys.length,size=0;this.colorSet=new Array(keyCount);for(var val,_i9=0;_i9<keyCount;++_i9)core.a.utils.isArray(val=config[keys[_i9]])&&addColorSet(val,size++);size&&size===keyCount?this._getColors=getColorsFromSet:(console.error("Unkown palette configuration ".concat(config)),console.log(config),this._getColors=function(){return null},this.colorSet=null)}}},{key:"getColors",value:function getColors(count){var colors=this._getColors(count);return colors&&function makeResult(ar){var arLen=ar.length;if(count<0||arLen===count)return ar;if(arLen>count)return ar.slice(0,count);for(var result=new Array(count),_i10=0;_i10<count;++_i10)result[_i10]=ar[_i10%arLen];return result}(colors)}}]),Palette}(core.a.components.Palette);core.a.components.Palette.impl=utils_Palette,core.a.defaultPaletteName="qualitative20",core.a.defaultPalettes[core.a.defaultPaletteName]=new utils_Palette(["#41D6C3","#8CD211","#5AAAFA","#BA8FF7","#00AE9A","#5AA600","#4178BE","#9855D4","#EFC100","#FF7832","#E71D32","#325C80","#AC8C00","#D74108","#AD1625","#1D3649","#FF71D4","#DB2780","#9D9393","#645A5A"]),core.a.components.GanttPanel.prototype.utils=core.a.utils;__webpack_require__(836);function error_createSuper(Derived){var hasNativeReflectConstruct=function error_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var defaults={listClass:"error-list fit-parent-content",maxErrors:5,bodyClass:"error-body clearfix",titleClass:"error-title",barClass:"error-bar",descClass:"error-desc",detailsBtnClass:"error-details-btn",removeBtnClass:"remove-error-btn",errorExpandedDefault:!0,fadingOutDuration:600},error_ErrorGroup=function(){function ErrorGroup(node){Object(classCallCheck.a)(this,ErrorGroup),this.node=node,this.errs=[],this.errNodes=[],this.errorList=null}return Object(createClass.a)(ErrorGroup,[{key:"addError",value:function addError(err,node,maxErrors){var _this=this;maxErrors&&maxErrors>0&&this.errs.length>=maxErrors&&(this.errs.splice(0,this.errs.length-maxErrors+1),this.errNodes.splice(0,this.errNodes.length-maxErrors+1).forEach((function(removedElt){_this.errorList.removeChild(removedElt)})));return this.errs.push(err),this.errNodes.push(node),this.errorList.appendChild(node),node}},{key:"removeError",value:function removeError(err){for(var i=0;i<this.errs.length;i++)if(this.errs[i]===err||this.errNodes[i]===err){this.errs.splice(i,1);var nodes=this.errNodes.splice(i,1);return nodes.length&&this.errorList.removeChild(nodes[0]),!0}}},{key:"clear",value:function clear(){this.errorList&&this.errorList.parentNode===this.node&&this.node.removeChild(this.errorList),this.errs=[],this.errNodes=[],this.errorList=null}},{key:"updateErrorList",value:function updateErrorList(){this.errorList&&(this.errs.length?(this.errorList.style.display="",this.errorList.parentNode||(this.beforeSettingErrorList(this.node),this.node.appendChild(this.errorList))):this.errorList.style.display="none")}},{key:"beforeSettingErrorList",value:function beforeSettingErrorList(node){for(;node.firstChild;)node.removeChild(node.firstChild)}},{key:"hasErrors",value:function hasErrors(){return!!this.errs.length}}]),ErrorGroup}();var error_ErrorHandler=function(_Gantt$components$Err){Object(inherits.a)(ErrorHandler,_Gantt$components$Err);var _super=error_createSuper(ErrorHandler);function ErrorHandler(node,config){var _this2;return Object(classCallCheck.a)(this,ErrorHandler),(_this2=_super.call(this,core.a.utils.mergeObjects({},defaults,config))).node=node,_this2.lockCount=0,_this2.errorGroups=[],_this2}return Object(createClass.a)(ErrorHandler,[{key:"addError",value:function addError(err,msg,node){if(!this.lockCount){var errDetails=this.convertError(err,msg),errNode=errDetails&&this.createErrorNode(err,errDetails);if(errNode){var errorGroup=function ensureErrorGroup(node,errorGroups){for(var i=0;i<errorGroups.length;i++)if(errorGroups[i].node===node)return errorGroups[i];var errorGroup=new error_ErrorGroup(node);return errorGroups.push(errorGroup),errorGroup}(node||this.node,this.errorGroups);return errorGroup.errorList||(errorGroup.errorList=this.createErrorList()),errorGroup.addError(err,errNode,this.config.maxErrors),errorGroup.updateErrorList(),errNode}}}},{key:"lock",value:function lock(){this.lockCount++}},{key:"unlock",value:function unlock(){--this.lockCount}},{key:"getErrors",value:function getErrors(){for(var result=[],iGroup=0,count=this.errorGroups.length;iGroup<count;++iGroup)result=result.concat(this.errorGroups[iGroup].errs);return result}},{key:"hasErrors",value:function hasErrors(){for(var iGroup=0,count=this.errorGroups.length;iGroup<count;++iGroup)if(this.errorGroups[iGroup].hasErrors())return!0;return!1}},{key:"createErrorList",value:function createErrorList(){var lst=document.createElement("ul");return lst.className="error-list",lst}},{key:"createErrorNode",value:function createErrorNode(err,errDetails){var _this3=this,node=document.createElement("li");node.className=this.config.errorExpandedDefault?"error-component error-expanded":"error-component";var errorContent=document.createElement("div");errorContent.className="error-content clearfix";var textContent=document.createElement("div"),divTitle=document.createElement("span");divTitle.innerHTML=errDetails.title,divTitle.className="error-title",divTitle.onclick=function(evt){return _this3._toggleErrorDisplay(node)},textContent.appendChild(divTitle);var divErrorBar=document.createElement("div");if(divErrorBar.className="error-bar",errDetails.desc){var divDesc=document.createElement("div");divDesc.className="error-desc",divDesc.innerHTML=errDetails.desc,textContent.appendChild(divDesc);var detailsBtn=document.createElement("span");detailsBtn.tabIndex=0,detailsBtn.className="error-details-btn",detailsBtn.innerHTML=core.a.utils.getString("gantt.error.details"),detailsBtn.onclick=function(evt){return _this3._toggleErrorDisplay(node)},divErrorBar.appendChild(detailsBtn)}var removeErrorBtn=document.createElement("span");return removeErrorBtn.className="remove-error-btn",removeErrorBtn.tabIndex=0,removeErrorBtn.onclick=function(evt){return _this3.removeError(err)},divErrorBar.appendChild(removeErrorBtn),errorContent.appendChild(divErrorBar),errorContent.appendChild(textContent),node.appendChild(errorContent),node}},{key:"convertError",value:function convertError(err,msg){var c=this.config&&this.config.convertError&&this.config.convertError(err,msg);if(c)return c;if(core.a.utils.isString(err))return{title:err};var title=err.message||err.status||err.statusCode;msg&&(title=core.a.utils.formatString("gantt.error.title.fmt",{msg:msg,title:title}));var desc=err.desc||err.description||err.stack;return desc&&(desc=desc.replace(/(?:\r\n|\r|\n)/g,"<br />")),{title:title,desc:desc}}},{key:"_toggleErrorDisplay",value:function _toggleErrorDisplay(errorNode){core.a.utils.toggleClass(errorNode,"error-expanded")}},{key:"removeError",value:function removeError(err){for(var iGroup=0,count=this.errorGroups.length;iGroup<count;iGroup++)if(this.errorGroups[iGroup].removeError(err))return this.errorGroups[iGroup].updateErrorList(),!0;return!1}},{key:"removeGroup",value:function removeGroup(node){for(var iGroup=0,count=this.errorGroups.length;iGroup<count;iGroup++)if(this.errorGroups[iGroup].node===node)return this.errorGroups[iGroup].clear(),this.errorGroups.splice(iGroup,1),!0;return!1}}]),ErrorHandler}(core.a.components.ErrorHandler);core.a.components.ErrorHandler.impl=error_ErrorHandler;var filter_Filter=function(){function Filter(options){if(Object(classCallCheck.a)(this,Filter),this.filters=[],this.filterKeys=[],options)if(Array.isArray(options))for(var i=0;i<options.length;i++)this.addFilter(options[i]);else this.addFilter(options)}return Object(createClass.a)(Filter,[{key:"addFilter",value:function addFilter(filter){var filterKey=filter;return(filter=this.createFilter(filter))&&(this.filters.push(filter),this.filterKeys.push(filterKey)),filter}},{key:"addOrFilters",value:function addOrFilters(){for(var params=new Array(arguments.length),i=0;i<arguments.length;i++)params[i]=arguments[i];var filter=this.createFilterSet(params,!0);return filter&&(this.filters.push(filter),this.filterKeys.push(filter)),filter}},{key:"addAndFilters",value:function addAndFilters(){for(var params=new Array(arguments.length),i=0;i<arguments.length;i++)params[i]=arguments[i];var filter=this.createFilterSet(params,!1);return filter&&(this.filters.push(filter),this.filterKeys.push(filter)),filter}},{key:"createFilterSet",value:function createFilterSet(){if(!arguments.length)return null;var paramList,orFilter,i,filter,copyLength;if(Array.isArray(arguments[0]))paramList=arguments[0],orFilter=arguments.length>1?arguments[1]:this.DEFAULT_FILTER_SET_MODE_OR;else for("boolean"!=typeof(orFilter=arguments[arguments.length-1])?(orFilter=this.DEFAULT_FILTER_SET_MODE_OR,copyLength=arguments.length):copyLength=arguments.length-1,paramList=new Array(copyLength),i=0;i<copyLength;i++)paramList[i]=arguments[i];var filterList=[];for(i=0;i<paramList.length;i++)(filter=this.createFilter(paramList[i]))&&filterList.push(filter);return filterList.length?filter=orFilter?function(args){for(var f=0;f<filterList.length;f++)if(filterList[f](args))return!0;return!1}:function(args){for(var f=0;f<filterList.length;f++)if(!filterList[f](args))return!1}:null}},{key:"removeFilter",value:function removeFilter(filter){var index=this.filters.indexOf(filter);return index<0&&(index=this.filterKeys.indexOf(filter)),index>-1&&(this.filters.splice(index,1),this.filterKeys.splice(index,1),!0)}},{key:"createFilter",value:function createFilter(filter){if(void 0!==filter){var self=this;if("string"==typeof filter)return filter&&function(){var params=arguments[0];params.push(filter);var result=self.acceptString.apply(self,params);return params.pop(),result}||function(){return!0};if("function"==typeof filter)return function(){return filter.apply(self,arguments[0])};if(filter[this.getObjectFilterMethodName()]){var fct=filter[this.getObjectFilterMethodName()];return function(){return fct.apply(filter,arguments[0])}}if(filter.or)return this.createFilterSet(filter.or,!0);if(filter.and)return this.createFilterSet(filter.and,!1);console.log("Cannot process filter:"),console.log(filter)}else console.log("Null filter specified");return null}},{key:"accept",value:function accept(){var i,params=[];for(i=0;i<arguments.length;i++)params.push(arguments[i]);for(i=0;i<this.filters.length;i++)if(!this.filters[i].call(this,params))return!1;return!0}},{key:"setFilter",value:function setFilter(filter){this.filters=[],this.filterKeys=[];var i,params=[];for(i=0;i<arguments.length;i++)params.push(arguments[i]);this.addFilter.apply(this,params)}},{key:"stringMatches",value:function stringMatches(string,pattern){return string.indexOf(pattern)>-1}},{key:"acceptString",value:function acceptString(object,str){}},{key:"getObjectFilterMethodName",value:function getObjectFilterMethodName(){return"accept"}},{key:"isEmpty",value:function isEmpty(){return 0===this.filters.length}}],[{key:"DEFAULT_FILTER_SET_MODE_OR",get:function get(){return!1}}]),Filter}();core.a.components.Filter.impl=filter_Filter;var assertThisInitialized=__webpack_require__(72);function updates_createSuper(Derived){var hasNativeReflectConstruct=function updates_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var updates_GanttUpdates=function(_Gantt$components$Gan){Object(inherits.a)(GanttUpdates,_Gantt$components$Gan);var _super=updates_createSuper(GanttUpdates);function GanttUpdates(parent,proto){var _this;return Object(classCallCheck.a)(this,GanttUpdates),(_this=_super.call(this,parent)).children=[],_this.updates=[],_this.updateLocks=0,_this._reload=!1,parent&&parent.children.push(Object(assertThisInitialized.a)(_this)),proto&&core.a.utils.mergeObjects(Object(assertThisInitialized.a)(_this),proto),_this._containsRowChanges=!1,_this._tableYScrollChanged=!1,_this}return Object(createClass.a)(GanttUpdates,[{key:"reload",value:function reload(){this._reload=!0,this._containsRowChanges=!0}},{key:"isReload",value:function isReload(){return this._reload||this.parent&&this.parent.isReload()}},{key:"rowsChanged",value:function rowsChanged(event,rows,rowRef){this.addUpdate({type:event,rows:rows,rowRef:rowRef}),this._containsRowChanges=!0}},{key:"addUpdate",value:function addUpdate(update){this.updates.push(update)}},{key:"removeUpdate",value:function removeUpdate(update){var index=this.updates.indexOf(update);index>=0&&this.updates.splice(index,1);for(var i=0,count=this.children?this.children.length:0;i<count;i++)this.children[i].removeUpdate(update)}},{key:"tableScrollYChanged",value:function tableScrollYChanged(){this._tableYScrollChanged=!0}},{key:"hasTableScrollYChanged",value:function hasTableScrollYChanged(){return this._tableYScrollChanged||this.parent&&this.parent.hasTableScrollYChanged()}},{key:"startUpdating",value:function startUpdating(){++this.updateLocks}},{key:"stopUpdating",value:function stopUpdating(){return 0==--this.updateLocks&&(this.applyUpdates(),!0)}},{key:"applyUpdates",value:function applyUpdates(){this.doApplyUpdates(),this.updates=[],this._reload=!1;for(var i=0,count=this.children?this.children.length:0;i<count;i++)this.children[i].applyUpdates();this._containsRowChanges=!1}},{key:"containsRowChanges",value:function containsRowChanges(){return this._containsRowChanges||this.parent&&this.parent.containsRowChanges()}},{key:"applyReload",value:function applyReload(){}},{key:"doApplyUpdates",value:function doApplyUpdates(){if(this._reload)this.applyReload();else for(var iUpdate=0,count=this.updates.length;iUpdate<count;iUpdate++)this.applyUpdate(this.updates[iUpdate])}},{key:"applyUpdate",value:function applyUpdate(update){}},{key:"destroy",value:function destroy(){for(var i=0,count=this.children?this.children.length:0;i<count;i++)this.children[i].destroy();this.children=null}}]),GanttUpdates}(core.a.components.GanttUpdates);core.a.components.GanttUpdates.impl=updates_GanttUpdates;__webpack_require__(837);function toolbar_createSuper(Derived){var hasNativeReflectConstruct=function toolbar_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var checkClass,buttonClass,selectClass,toggleClass,idCount=1;function makeId(prefix){return prefix+idCount++}function Button(gantt,config){return buttonClass||(buttonClass=core.a.components.Button.impl||core.a.components.Button),new buttonClass(gantt,config)}function Toggle(gantt,config){return toggleClass||(toggleClass=core.a.components.Toggle.impl||core.a.components.Toggle),new toggleClass(gantt,config)}var ToolbarComponents={title:{node:function node(parentElt,gantt){var node=core.a.components.Toolbar.createTitle(gantt.getTitle());return gantt.on(core.a.events.TITLE_CHANGED,(function(event,title){node.innerHTML=title})),node},justifyLeft:!0},separator:{node:function node(parentElt){var sep=document.createElement("div");return sep.className="separator",sep}},whitespace:{node:function node(parentElt){var sep=document.createElement("div");return sep.className="white-space",sep}},search:{component:function component(gantt){return new(core.a.components.Input.impl||core.a.components.Input)(gantt,{type:"search",onchange:function onchange(text){gantt.search(text,!0,!0)}})}},mini:{component:function component(gantt){return new Toggle(gantt,{unselected:{tooltip:core.a.utils.getString("gantt.toolbar.mini.tooltip"),svg:{width:20,height:20,viewBox:"0 0 16 16",margin:"-6px 0 0 0 ",paths:["M4 5h16v2H4zM4 9h16v2H4zM4 13h16v2H4zM4 17h16v2H4z"]}},selected:{tooltip:core.a.utils.getString("gantt.toolbar.mini.tooltip"),svg:{width:20,height:20,viewBox:"0 0 24 24",margin:"-6px 0 0 0 ",paths:["M4 5h16v2H4zM4 9h16v2H4zM4 13h16v2H4zM4 17h16v2H4z"]}},isSelected:function isSelected(){var ganttNode=gantt.getPanelNode();return core.a.utils.hasClass(ganttNode,"mini")},onclick:function onclick(){var ganttNode=gantt.getPanelNode();core.a.utils.toggleClass(ganttNode,"mini"),gantt.draw()}})},update:function update(gantt,rows,comp){var ganttNode=gantt.getPanelNode();comp.setChecked(core.a.utils.hasClass(ganttNode,"mini"))}},fitToContent:{component:function component(gantt){return Button(gantt,{svg:{width:20,height:20,viewBox:"0 0 24 24",paths:["m9,3c3.309,0 6,2.691 6,6s-2.691,6 -6,6s-6,-2.691 -6,-6s2.691,-6 6,-6m0,-2a8,8 0 1 0 0,16a8,8 0 0 0 0,-16zm6,17l3,-3l5,5l-3,3l-5,-5z","m5.067202,10.936161l1.794565,-1.677985l-1.794565,-1.677997l1.025685,-0.958955l2.820467,2.636953l-2.820467,2.637771","m13.211615,7.601521l-1.74349,1.712784l1.74349,1.712783l-0.996386,0.979422l-2.739875,-2.692204l2.739875,-2.69241"]},tooltip:core.a.utils.getString("gantt.toolbar.fit.tooltip"),onclick:function onclick(){gantt.fitToContent()}})}},refresh:{component:function component(gantt){return Button(gantt,{fontIcon:"fa fa-refresh fa-lg",text:core.a.utils.getString("gantt.toolbar.refresh.text"),tooltip:core.a.utils.getString("gantt.toolbar.fit.tooltip"),onclick:function onclick(){gantt.draw()}})}},zoomIn:{component:function component(gantt){return Button(gantt,{svg:{width:20,height:20,viewBox:"0 0 24 24",paths:["M9 1a8 8 0 1 0 0 16A8 8 0 0 0 9 1zm0 14c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM15 18l3-3 5 5-3 3z","M10 5H8v3H5v2h3v3h2v-3h3V8h-3z"]},tooltip:core.a.utils.getString("gantt.toolbar.zoomIn.tooltip"),onclick:function onclick(){gantt.zoomIn()}})}},zoomOut:{component:function component(gantt){return Button(gantt,{svg:{width:20,height:20,viewBox:"0 0 24 24",paths:["M9 3c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6m0-2a8 8 0 1 0 0 16A8 8 0 0 0 9 1zM14.999 18l3-3 5 5-3 3z","M9 3c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6m0-2a8 8 0 1 0 0 16A8 8 0 0 0 9 1z","M5 8h8v2H5z"]},tooltip:core.a.utils.getString("gantt.toolbar.zoomOut.tooltip"),onclick:function onclick(){gantt.zoomOut()}})}},toggleLoadChart:{component:function component(gantt){return new Toggle(gantt,{unselected:{classes:"toggle-load-chart",fontIcon:"fa fa-bar-chart fa-lg",tooltip:core.a.utils.getString("gantt.loadResourceChart.show.tooltip")},selected:{classes:"toggle-load-chart selected",fontIcon:"fa fa-bar-chart fa-lg",tooltip:core.a.utils.getString("gantt.loadResourceChart.hide.tooltip")},isSelected:function isSelected(){return gantt.isLoadChartVisible()},onclick:function onclick(){gantt.toggleLoadChartVisible()}})}}},toolbar_Toolbar=function(_Gantt$components$Too){Object(inherits.a)(Toolbar,_Gantt$components$Too);var _super=toolbar_createSuper(Toolbar);function Toolbar(gantt,node,config){return Object(classCallCheck.a)(this,Toolbar),_super.call(this,gantt,node,config)}return Object(createClass.a)(Toolbar,[{key:"setConfiguration",value:function setConfiguration(config,toolbarNode){var _this=this;this.components=[];var leftBar=null;function append(comp,handler){handler.justifyLeft?(leftBar||((leftBar=document.createElement("div")).style.display="flex",leftBar.style.flexDirection="row",leftBar.style.alignItems="center",leftBar.style.marginRight="auto",leftBar.className="left-toolbar-body",toolbarNode.appendChild(leftBar)),leftBar.appendChild(comp.node)):toolbarNode.appendChild(comp.node)}for(var cfgNode,handler,comp,_loop=function _loop(i,count,_cfgNode,_handler,node,_comp){if(_cfgNode=config[i],(_handler=core.a.utils.isString(_cfgNode)?ToolbarComponents[_cfgNode]:_cfgNode).node)if(core.a.utils.isString(_handler.node))_comp={id:_handler.node,node:document.getElementById(_handler.node)};else{if(!core.a.utils.isFunction(_handler.node))throw new Error("The node property of a toolbar element must be either a string ID or a function creating a Dom element");(_comp={}).node=_handler.node(toolbarNode,_this.gantt,_comp),append(_comp,_handler)}else if(_handler.component)(_comp=_handler.component(_this.gantt,toolbarNode)).node&&!_comp.node.parentNode&&append(_comp,_handler);else if(_handler.template){(_comp={id:void 0!==_handler.id?core.a.utils.isFunction(_handler.id)?_handler.id(_handler):_handler.id:makeId(core.a.utils.isString(_cfgNode)?_cfgNode:"toolbarComp")}).node=document.createElement("div");var tpl=core.a.utils.formatString(_handler.template,_comp);core.a.utils.html(_comp.node,tpl),append(_comp,_handler)}else{if(!_handler.type)throw new Error("a node property must be specified in a toolbar element: "+_cfgNode);if("button"===_handler.type)_comp=Button(_this.gantt,_handler);else if("checkbox"===_handler.type)_comp=function Checkbox(gantt,config){return checkClass||(checkClass=core.a.components.CheckBox.impl||core.a.components.CheckBox),new checkClass(gantt,config)}(_this.gantt,_handler);else if("select"===_handler.type)_comp=function Select(gantt,config){return selectClass||(selectClass=core.a.components.DropDownList.impl||core.a.components.DropDownList),new selectClass(gantt,config)}(_this.gantt,_handler);else if("buttonGroup"===_handler.type)_comp=new(core.a.components.ButtonGroup.impl||core.a.components.ButtonGroup)(_this.gantt,_handler);else{if("separator"!==_handler.type)throw new Error("Unknown toolbar component type: "+config.type);(_comp={}).node=(_handler=ToolbarComponents.separator).node(toolbarNode,_this.gantt,_comp)}_comp.node&&!_comp.node.parentNode&&append(_comp,_handler)}_handler.id&&_comp.setId(_handler.id),_handler.connect&&_handler.connect(_comp.node,_comp),_handler.update&&(_comp.update=function(gantt,rows){_handler.update(gantt,rows,_comp)}),_cfgNode.id&&(_comp.id=_cfgNode.id),_this.components.push(_comp),cfgNode=_cfgNode,handler=_handler,comp=_comp},i=0,count=config.length;i<count;i++)_loop(i,0,cfgNode,handler,0,comp);this.initTooltip()}},{key:"onInitialized",value:function onInitialized(){this.components.forEach((function(c){c.onInitialized&&c.onInitialized()}))}},{key:"initTooltip",value:function initTooltip(){var tooltbar=this;this.gantt.tooltip.installTooltip({container:this.node,getTooltipDisplayContainer:function getTooltipDisplayContainer(){return tooltbar.gantt.getBody()},getTooltipElement:function getTooltipElement(node){return function getTooltipNode(elt){for(;elt&&elt!==tooltbar.node;elt=elt.parentNode)if(elt.dataset&&elt.dataset.tooltip)return elt}(node)},renderTooltip:function renderTooltip(tooltipNode,act,tooltipCtnr){tooltipCtnr.appendChild(document.createTextNode(tooltipNode.dataset.tooltip))}})}},{key:"connect",value:function connect(gantt){}},{key:"ganttLoaded",value:function ganttLoaded(gantt,rows){for(var _comp2,i=0,count=this.components.length;i<count;++i)(_comp2=this.components[i]).update&&_comp2.update(gantt,rows)}},{key:"destroy",value:function destroy(){}}]),Toolbar}(core.a.components.Toolbar);core.a.components.Toolbar.impl=toolbar_Toolbar;var toolbar_FlatCheckbox=function(_Gantt$components$Che){Object(inherits.a)(FlatCheckbox,_Gantt$components$Che);var _super2=toolbar_createSuper(FlatCheckbox);function FlatCheckbox(gantt,config){return Object(classCallCheck.a)(this,FlatCheckbox),_super2.call(this,gantt,config)}return Object(createClass.a)(FlatCheckbox,[{key:"setConfiguration",value:function setConfiguration(config){var _this2=this,btn=document.createElement("div");if(config.id&&(btn.id=config.id),btn.className="button g-hoverable g-selectable"+(config.classes?" "+config.classes:""),config.icon){var img=document.createElement("img");img.src=config.icon,img.alt="",btn.appendChild(img)}if(config.fontIcon){var fontIcon=document.createElement("i");fontIcon.className=config.fontIcon+(config.text?" fa-fw":""),btn.appendChild(fontIcon)}return config.text&&btn.appendChild(document.createTextNode(config.text)),this.node=btn,btn.onclick=function(e){core.a.utils.toggleClass(btn,"selected"),config.onclick&&config.onclick(_this2.gantt)},btn}}]),FlatCheckbox}(core.a.components.CheckBox);core.a.components.CheckBox.impl=toolbar_FlatCheckbox;__webpack_require__(838);function tooltip_createSuper(Derived){var hasNativeReflectConstruct=function tooltip_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var tooltip_Tooltip=function(_Gantt$components$Too){Object(inherits.a)(Tooltip,_Gantt$components$Too);var _super=tooltip_createSuper(Tooltip);function Tooltip(options){var _this;return Object(classCallCheck.a)(this,Tooltip),(_this=_super.call(this,options))._tooltip=document.createElement("div"),_this._tooltip.className="gantt-tooltip",_this._tooltip.style.position="fixed",_this._tooltip.style.visibility="hidden",_this._tooltipArrow=document.createElement("div"),_this._tooltipArrow.style.position="absolute",_this._tooltipArrow.style.width="0",_this._tooltipArrow.style.height="0",_this._arrowHeight=5,_this._tooltip.appendChild(_this._tooltipArrow),document.body.appendChild(_this._tooltip),core.a.utils.addEventListener(_this._tooltip,"mouseenter",(function(evt){void 0!==_this._hideTimer&&(clearTimeout(_this._hideTimer),_this._hideTimer=null,_this._hidingElt=null)}),!0),core.a.utils.addEventListener(_this._tooltip,"mouseleave",(function(evt){evt.target===_this._tooltip&&_this.hideTooltip(300)}),!0),_this}return Object(createClass.a)(Tooltip,[{key:"showTooltip",value:function showTooltip(elt,ctx,cb){var _this2=this;if(elt!==this._tooltipElt){if(void 0!==this._hideTimer){clearTimeout(this._hideTimer),delete this._hideTimer;var hidingElt=this._hidingElt;if(this._hidingElt=null,hidingElt===elt)return}if(void 0!==this._showTimer){if(this._tooltipElt===elt)return;clearTimeout(this._showTimer),delete this._showTimer,this._tooltipElt=null}this._tooltip.innerHTML="",2===arguments.length&&(cb=ctx,ctx=null),cb(this._tooltip),this._tooltip.style.visibility="hidden",this._tooltip.style.left=this._tooltip.style.top=0,this._tooltip.style.maxHeight="none";var limits,topAvailHeight,bottomAvailHeight,arrowStyle,arrowPos,tooltipHeight=this._tooltip.offsetHeight+this._arrowHeight,eltScreenPt=core.a.utils.getScreenPoint(elt);if(ctx&&ctx.limitElt){var bounds=ctx.limitElt.getBoundingClientRect(),scrollLeft=core.a.utils.getWindowScrollLeft(),scrollTop=core.a.utils.getWindowScrollTop();(limits={x:Math.max(bounds.left+scrollLeft+(bounds.left<0?bounds.lef:0),0),y:Math.max(bounds.top+scrollTop+(bounds.left<0?bounds.lef:0),0)}).width=Math.min(document.documentElement.clientWidth,bounds.right+scrollLeft)-Math.max(bounds.left,0),limits.height=Math.min(document.documentElement.clientHeight,bounds.bottom+scrollTop)-Math.max(bounds.top,0)}else limits={x:0,y:0,width:document.body.offsetWidth,height:document.body.offsetHeight};eltScreenPt.y-tooltipHeight>=limits.y?(eltScreenPt.y-=tooltipHeight,this._tooltip.style.maxHeight="none",arrowStyle="bottom-arrow"):eltScreenPt.y+tooltipHeight+elt.offsetHeight<=limits.y+limits.height?(eltScreenPt.y+=elt.offsetHeight+this._arrowHeight,this._tooltip.style.maxHeight="none",arrowStyle="top-arrow"):(topAvailHeight=eltScreenPt.y-limits.y)>(bottomAvailHeight=limits.y+limits.height-eltScreenPt.y-elt.offsetHeight)?(eltScreenPt.y=limits.y,this._tooltip.style.maxHeight="".concat(topAvailHeight-this._arrowHeight,"px"),arrowStyle="bottom-arrow"):(eltScreenPt.y+=elt.offsetHeight+this._arrowHeight,this._tooltip.style.maxHeight="".concat(bottomAvailHeight-this._arrowHeight,"px"),arrowStyle="top-arrow");var arrowMargin=10;arrowPos=eltScreenPt.x+elt.offsetWidth/2,limits.width<=this._tooltip.offsetWidth?(eltScreenPt.x=limits.x,this._tooltip.style.maxWidth="".concat(limits.width,"px")):(eltScreenPt.x=adjustHorizontally(eltScreenPt.x+elt.offsetWidth/2-this._tooltip.offsetWidth/2,limits.x,limits.x+limits.width-this._tooltip.offsetWidth),this._tooltip.style.maxWidth="none"),arrowPos=adjustHorizontally(arrowPos-eltScreenPt.x,arrowMargin,this._tooltip.offsetWidth-arrowMargin),this.setArrowPosition(arrowStyle,arrowPos),this._tooltip.appendChild(this._tooltipArrow),this._tooltip.style.top="".concat(eltScreenPt.y,"px"),this._tooltip.style.left="".concat(eltScreenPt.x,"px"),this._tooltipElt=elt,ctx&&ctx.showDelay?this._showTimer=setTimeout((function(){delete _this2._showTimer,_this2._tooltip.style.visibility="visible"}),ctx.showDelay):this._tooltip.style.visibility="visible"}function adjustHorizontally(x,limitLeft,limitRight){return Math.max(Math.min(x,limitRight),limitLeft)}}},{key:"setArrowPosition",value:function setArrowPosition(style,pos){this._tooltipArrow.className="".concat("gantt-tooltip-arrow"," ").concat(style),("top-arrow"===style||"bottom-arrow"===style)&&(this._tooltipArrow.style.left="".concat(pos,"px"))}},{key:"hideTooltip",value:function hideTooltip(millis,cb){var _this3=this;if(void 0!==this._showTimer)return clearTimeout(this._showTimer),this._tooltipElt=null,void delete this._showTimer;if(this._tooltipElt)if(millis){if(this._hideTimer)return;this._hideCB=cb,this._hidingElt=this._tooltipElt,this._hideTimer=setTimeout((function(){_this3._hideTimer=null,_this3._hidingElt=null,_this3._tooltipElt=null,_this3._hideCB&&_this3._hideCB(),_this3._hideCB=null,_this3._tooltip.style.display="none"}),millis)}else cb&&cb(),this._tooltipElt=null,this._tooltip.style.display="none"}},{key:"installTooltip",value:function installTooltip(config){var _this4=this;core.a.utils.addEventListener(config.container,"mouseenter",(function(evt){var tooltipNode=config.getTooltipElement(evt.target);if(tooltipNode){var tooltipData=config.getTooltipData&&config.getTooltipData(tooltipNode);if(config.enteringTooltipElement&&!1===config.enteringTooltipElement(tooltipNode,tooltipData))return;var ctx={limitElt:config.getTooltipDisplayContainer&&config.getTooltipDisplayContainer()||document.body,showDelay:800};_this4.showTooltip(tooltipNode,ctx,(function(parent){config.renderTooltip(tooltipNode,tooltipData,parent)}))}else _this4.hideTooltip(1e3)}),!0),core.a.utils.addEventListener(config.container,"mouseleave",(function(evt){var tooltipNode=config.getTooltipElement(evt.target);if(tooltipNode){if(_this4._tooltipElt===tooltipNode){var tooltipData=config.getTooltipData&&config.getTooltipData(tooltipNode);if(config.leavingTooltipElement&&!1===config.leavingTooltipElement(tooltipNode,tooltipData))return;if(evt.relatedTarget&&config.getTooltipElement(evt.relatedTarget)===tooltipNode)return}_this4.hideTooltip(1e3)}}),!0)}}]),Tooltip}(core.a.components.Tooltip);function layoutsynch_createSuper(Derived){var hasNativeReflectConstruct=function layoutsynch_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}core.a.components.Tooltip.impl=tooltip_Tooltip;var layoutsynch_LayoutSynchronizer=function(_Gantt$components$Lay){Object(inherits.a)(LayoutSynchronizer,_Gantt$components$Lay);var _super=layoutsynch_createSuper(LayoutSynchronizer);function LayoutSynchronizer(config,proto){var _this;return Object(classCallCheck.a)(this,LayoutSynchronizer),(_this=_super.call(this,config,config)).timeTableBounds=null,_this}return Object(createClass.a)(LayoutSynchronizer,[{key:"setConfiguration",value:function setConfiguration(config){config&&core.a.utils.mergeObjects(this,config)}},{key:"connect",value:function connect(gantt){var _this2=this;this.gantt=gantt,this.resizeHandler=function(e){_this2.checkBounds()},gantt.on([core.a.events.RESIZED,core.a.events.SPLIT_RESIZED],this.resizeHandler),this.timeWindowChangeListener=function(e,start,end){_this2.timeWindowChanged(start,end)},gantt.on(core.a.events.TIME_WINDOW_CHANGED,this.timeWindowChangeListener),this.timeLineSizeListener=function(e,width,height){_this2.timeLineSizeChanged(width,height)},gantt.on(core.a.events.TIME_LINE_SIZE_CHANGED,this.timeLineSizeListener),this.timeLineInitializedListener=function(e){_this2.timeLineInitialized()},gantt.on(core.a.events.TIME_LINE_INIT,this.timeLineInitializedListener),this.timeLineScrollListener=function(e,x){_this2.timeLineScrolled(x)},gantt.on(core.a.events.TIME_LINE_SCROLLED,this.timeLineScrollListener)}},{key:"convertBounds",value:function convertBounds(bounds,elt){var parent=core.a.utils.offsetParent(elt),parentBounds=core.a.utils.getScreenPoint(parent);return parentBounds.x=bounds.x-parentBounds.x,parentBounds.y=bounds.y-parentBounds.y,parentBounds.width=bounds.width,parentBounds.height=bounds.height,parentBounds}},{key:"getTimeLine",value:function getTimeLine(){return this.gantt.timeLine}},{key:"getTimeLineWidth",value:function getTimeLineWidth(){return this.gantt.timeLine.getWidth()}},{key:"getTimeLineHeight",value:function getTimeLineHeight(){return this.gantt.timeLine.getTimeAxisHeight()}},{key:"getTimeLineScrollLeft",value:function getTimeLineScrollLeft(){return this.gantt.timeTable.getScroller().scrollLeft}},{key:"getTimeAt",value:function getTimeAt(x){return this.gantt.timeLine.getTimeAt(x)}},{key:"timeLineInitialized",value:function timeLineInitialized(){}},{key:"timeTableBoundsChanged",value:function timeTableBoundsChanged(bounds){}},{key:"timeWindowChanged",value:function timeWindowChanged(start,end){}},{key:"timeLineSizeChanged",value:function timeLineSizeChanged(width,height){}},{key:"timeLineScrolled",value:function timeLineScrolled(x){}},{key:"checkBounds",value:function checkBounds(){var newBounds=this.getScreenTimeTableScrollerBounds();newBounds&&(function sameBounds(rect1,rect2){return rect1&&rect2?rect1.x===rect2.x&&rect1.y===rect2.y&&rect1.width===rect2.width&&rect1.height===rect2.height:!rect1==!rect2}(this.timeTableBounds,newBounds)||(this.timeTableBounds=newBounds,this.timeTableBoundsChanged(newBounds)))}},{key:"getScreenTimeTableScrollerBounds",value:function getScreenTimeTableScrollerBounds(){if(!this.gantt.timeTable)return null;var timeTableScroller=this.gantt.timeTable.getScroller(),pt=core.a.utils.getScreenPoint(timeTableScroller);return function layoutsynch_bounds(x,y,width,height){return{x:x,y:y,width:width,height:height,toString:function toString(){return"{ x = ".concat(this.x,", y = ").concat(this.y,", width = ").concat(this.width,", height = ").concat(this.height," }")}}}(pt.x,pt.y,this.gantt.timeTable.getVisibleWidth(),this.gantt.timeTable.getVisibleHeight())}},{key:"disconnect",value:function disconnect(){this.gantt&&(this.gantt.off([core.a.events.RESIZED,core.a.events.SPLIT_RESIZED],this.resizeHandler),this.gantt.off(core.a.events.TIME_WINDOW_CHANGED,this.timeWindowChangeListener),this.gantt.off(core.a.events.TIME_LINE_SIZE_CHANGED,this.timeLineSizeListener),this.gantt.off(core.a.events.TIME_LINE_INIT,this.timeLineInitializedListener),this.gantt.off(core.a.events.TIME_LINE_SCROLLED,this.timeLineScrollListener))}},{key:"destroy",value:function destroy(){}}]),LayoutSynchronizer}(core.a.components.LayoutSynchronizer);core.a.components.LayoutSynchronizer.impl=layoutsynch_LayoutSynchronizer;__webpack_require__(839);function ganttpanel_createSuper(Derived){var hasNativeReflectConstruct=function ganttpanel_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var ganttpanel_GanttPanel=function(_Gantt$components$Gan){Object(inherits.a)(GanttPanel,_Gantt$components$Gan);var _super=ganttpanel_createSuper(GanttPanel);function GanttPanel(node,config){var _this;return Object(classCallCheck.a)(this,GanttPanel),(_this=_super.call(this,node,config)).resizeHandler=function(){return _this.onResize()},_this.initPromise=core.a.envReady().then((function(){return _this.setConfiguration(config)})),_this}return Object(createClass.a)(GanttPanel,[{key:"setConfiguration",value:function setConfiguration(config){var _this2=this;this.splitPane&&this.destroy(),this.initializing=!0,window.addEventListener("resize",this.resizeHandler),this.config=core.a.utils.mergeObjects({},core.a.defaultConfiguration,config),this.rowHeight=this.config.rowHeight,this.zoomFactor=this.config.zoomFactor,this.tooltip&&this.tooltip.destroy&&this.tooltip.destroy();var TooltipClass=core.a.components.Tooltip.impl||core.a.components.Tooltip;this.tooltip=new TooltipClass(this.config.tooltip),this.config.title?core.a.utils.isFunction(this.config.title)?this.title=this.config.title(this):this.title=this.config.title:this.title=null;var stringMatcher=core.a.utils.stringMatches,FilterClass=core.a.components.Filter.impl||core.a.components.Filter;this.rowFilter=core.a.utils.mergeObjects(new FilterClass(this.config&&this.config.rows&&this.config.rows.filter),{stringMatches:function stringMatches(string,pattern){return stringMatcher(string,pattern)},getObjectFilterMethodName:function getObjectFilterMethodName(){return"acceptRow"},acceptString:function acceptString(row,columnData,rowIndex,text){if(!text)return!0;for(var col=0;col<columnData.length;col++)if(stringMatcher(columnData[col],text))return!0;return!1}}),this.activityFilter=core.a.utils.mergeObjects(new FilterClass(this.config&&this.config.tasks&&this.config.tasks.filter),{stringMatches:function stringMatches(string,pattern){return stringMatcher(string,pattern)},getObjectFilterMethodName:function getObjectFilterMethodName(){return"acceptTask"},acceptString:function acceptString(activity,row,text){var actName=activity.name;return!text||actName&&stringMatcher(actName,text)}}),this.config.table&&this.config.table.hideEmptyRows&&this.setHideEmptyRows(!0,!0),this.config.palette?this.setPaletteConfiguration(this.config.palette):(this.palettes={},this.defaultPalette=null);var SelectionClass=core.a.components.SelectionHandler.impl||core.a.components.SelectionHandler;this.selectionHandler=new SelectionClass(this.config&&this.config.selection,{setObjectSelected:function setObjectSelected(obj,selected){selected?obj.selected=!0:delete obj.selected}});var actType=this.selectionHandler.registerType({name:"activity",accept:function accept(o){return o.getObjectType()===core.a.ObjectTypes.Activity},clearSelectionMethod:"clearActivitySelection",selectionChangedMethod:"activitySelectionChanged",unselectionMethod:"unselectActivities",selectionMethod:"selectActivities"}),resType=this.selectionHandler.registerType({name:"resource",accept:function accept(o){return o.getObjectType()===core.a.ObjectTypes.Resource},clearSelectionMethod:"clearResourceSelection",selectionChangedMethod:"resourceSelectionChanged",unselectionMethod:"unselectResources",selectionMethod:"selectResources"});this.selectionHandler.registerType({name:"constraint",accept:function accept(o){return o.getObjectType()===core.a.ObjectTypes.Constraint},clearSelectionMethod:"clearConstraintSelection",selectionChangedMethod:"constraintSelectionChanged",unselectionMethod:"unselectConstraints",selectionMethod:"selectConstraints"}),this.selectionHandler.registerType({name:"reservation",accept:function accept(o){return o.getObjectType()===core.a.ObjectTypes.Reservation},clearSelectionMethod:"clearReservationSelection",selectionChangedMethod:"reservationSelectionChanged",unselectionMethod:"unselectReservations",selectionMethod:"selectReservations"});var rowType=this.selectionHandler.registerType({name:"row",clearSelectionMethod:"clearRowSelection",selectionChangedMethod:"rowSelectionChanged",unselectionMethod:"unselectRows",selectionMethod:"selectRows"});this.type=config&&config.type||core.a.type.SCHEDULE_CHART;var typeForRow=this.isResourceGantt()?resType:actType,defaultNotify=this.selectionHandler.notify,handler=this.selectionHandler;this.selectionHandler.notify=function(type,event){for(var args=new Array(arguments.length),i=0;i<arguments.length;i++)args[i]=arguments[i];defaultNotify.apply(handler,args),type===typeForRow&&(args[0]=rowType,defaultNotify.apply(handler,args))};var ErrorClass=core.a.components.ErrorHandler.impl||core.a.components.ErrorHandler;this.errorHandler=new ErrorClass(this.node,this.config&&this.config.error),this.updates=new(core.a.components.GanttUpdates.impl||core.a.components.GanttUpdates);var oldApplyUpdates=this.updates.applyUpdates;this.updates.applyUpdates=function(){var containsRowChanges=_this2.updates.containsRowChanges;if(oldApplyUpdates.call(_this2.updates),containsRowChanges&&_this2.updateScrollerHeight(),_this2.updates.hasTableScrollYChanged()){var scrollTop=(_this2.table&&_this2.table.getScrollableTable()).scrollTop;_this2.timeTable.setScrollTop(scrollTop)}},this.model=null;try{this.create()}catch(err){return Promise.reject(err)}try{return this.model=this.createModel(this.config.data||this.createDefaultModelConfig()),this.initializing=!1,this.triggerEvent(core.a.events.RESIZED),this.model&&this.load()||Promise.resolve([]).then((function(){return _this2.updateScrollerHeight()}))}catch(err){return this.errorHandler.addError(err,"Error initializing the Gantt"),Promise.reject(err)}}},{key:"createDefaultModelConfig",value:function createDefaultModelConfig(config){return{resources:{data:[]},activities:{data:[]},reservations:{data:[]}}}},{key:"createModel",value:function createModel(config){var _this3=this,model=new(core.a.components.GanttModel.impl||core.a.components.GanttModel)(this,config);return model.on(core.a.events.TIME_WINDOW_CHANGED,(function(event,wnd){return _this3.setTimeWindow(wnd)})),model}},{key:"create",value:function create(){var _this4=this,getLoadConfig=function getLoadConfig(p){var c=_this4.config.loadResourceChart;return core.a.utils.isArray(c)?c.length?c[0][p]:void 0:c[p]};this.loadChartCtrl&&(this.loadChartCtrl.destroy(),delete this.loadChartCtrl);var loadChartHidden=!this.config.loadResourceChart||!getLoadConfig("visible");this.loadChartCtrl=new loadchartctrl_LoadResourceChartCtrl(this,!loadChartHidden),this.contentElt=document.createElement("div"),this.contentElt.className="gantt-panel docloud-gantt",this.config.loadResourceChart&&(this.contentElt.className+=" gantt-load-resource-chart "+(loadChartHidden?"load-resource-chart-closed":"load-resource-chart-opened")),this.contentElt.style.position="relative",this.contentElt.style.display="flex",this.contentElt.style.flexDirection="column",this.contentElt.style.height="100%",this.toolbars=null,this.config.toolbar?this.createToolbars(this.config.toolbar):this.toolbarElt=null,this.config.classes&&core.a.utils.addClass(this.contentElt,this.config.classes),this.config.header?(this.headerElt=this.createHeader(this.config.header),null!==this.headerElt&&this.contentElt.appendChild(this.headerElt)):this.headerElt=null,this.node.appendChild(this.contentElt);var bodyCtnr,bodyElt=this.body=document.createElement("div");bodyElt.className="gantt-body",bodyElt.style.position="relative",bodyElt.style.flexGrow=1,bodyElt.style.flexShrink=1,bodyElt.style.height="10px",this.errorHandler.node=bodyElt,this.contentElt.appendChild(bodyElt);var SplitClass=core.a.components.Split.impl||core.a.components.Split;if(this.config.loadResourceChart){this.legendConfig={selector:function selector(){return _this4.loadChartCtrl.isVisible()},background:this.loadChartCtrl.getRowBackground.bind(this.loadChartCtrl)};var h=150,hConfig=getLoadConfig("height");hConfig&&(h=core.a.utils.isFunction(hConfig)?hConfig():core.a.utils.isString(hConfig)?Number.parseInt(hConfig,10):hConfig);try{this.loadChartSplit=new SplitClass(bodyElt,core.a.utils.mergeObjects({},this.config&&this.config.divider,{pos:-h,horizontal:!1,fixedFirst:!1,hideSecond:!this.loadChartCtrl.isVisible()})),this.loadChartSplit.onDividerDragEnd=function(e){_this4.initPromise&&_this4.initPromise.then((function(){_this4.triggerEvent(core.a.events.SPLIT_RESIZED),_this4.onResize()}))}}catch(err){throw this.errorHandler.addError(err,"Load split pane initialization error",this.node),new Error("Load split pane initialization error")}bodyCtnr=this.loadChartSplit.getLeftComponent()}else bodyCtnr=bodyElt,this.legendConfig=void 0;try{this.splitPane=new SplitClass(bodyCtnr,this.config&&this.config.divider),this.splitPane.onresized=function(e){_this4.triggerEvent(core.a.events.SPLIT_RESIZED)}}catch(err){throw this.errorHandler.addError(err,"Split pane initialization error",this.node),new Error("Split pane initialization error")}this.loadCharts=null,this.loadResPanel=null,this.config.loadResourceChart&&(this.loadResPanel=this.createLoadResourceChart(this.config.loadResourceChart),this.loadResPanel&&(this.loadResPanel.style.width="100%",this.loadResPanel.style.height="100%",this.loadChartSplit.getRightComponent().appendChild(this.loadResPanel),this.loadChartSplit.rightComponentCreated())),this.tablePanel=null;var leftComp=this.splitPane.getLeftComponent();leftComp.style.overflow="hidden";try{this.tablePanel=this.createTreeTable(leftComp),this.splitPane.leftComponentCreated()}catch(err){throw this.errorHandler.addError(err,"Tree table initialization error",this.tablePanel||this.node),new Error("Table creation error")}var rightPanel=this.splitPane.getRightComponent();rightPanel.style.overflow="hidden";try{this.createTimePanel(rightPanel)}catch(err){throw this.errorHandler.addError(err,"Error creating the time panel",rightPanel),new Error("Time panel creation error")}try{this.createTimeLine(this.timeLineScroller)}catch(err){throw this.errorHandler.addError(err,"Error create the time line",this.timeLineScroller),new Error("Time line creation error")}if(this.toolbars)for(var i=0;i<this.toolbars.length;i++)this.toolbars[i].connect(this,this.toolbars[i].node)}},{key:"load",value:function load(config){var _this5=this;config&&(this.model&&this.model.destroy&&this.model.destroy(),this.model=this.createModel(config)),this.timeLineInit=null,this.loadingPanel=null;var loadTimeout=setTimeout((function(){_this5.loadingPanel=_this5.createLoadingPanel(_this5.config),_this5.body.appendChild(_this5.loadingPanel)}),this.config.loadingPanelThresold),stopLoading=function stopLoading(){_this5.loadingPanel?_this5.body.removeChild(_this5.loadingPanel):clearTimeout(loadTimeout),_this5.loading=!1};return this.model.load().then((function(rows){var wnd=_this5.getTimeWindow();if(!wnd||!wnd.start){if(rows.length)return stopLoading(),Promise.reject(core.a.utils.getString("gantt.error.no-time-window-defined"));var today=(new Date).getTime();_this5.setTimeWindow({start:today-1728e5,end:today+1728e5})}return _this5.loading=!0,_this5.startUpdating(),_this5._resourceGantt=_this5.isResourceGantt(),core.a.utils.toggleClass(_this5.contentElt,"schedule_chart",_this5._resourceGantt),core.a.utils.toggleClass(_this5.contentElt,"activity_chart",!_this5._resourceGantt),core.a.utils.toggleClass(_this5.contentElt,"constraints_chart",_this5.hasConstraints),Promise.all([_this5.table.setRows(rows)||rows,_this5.timeLineInit||rows]).then((function(){return stopLoading(),_this5.triggerEvent(core.a.events.DATA_LOADED,rows),_this5.timeTable.setConstraints(_this5.model.constraints),_this5.updates.timeTable.reload(),_this5.stopUpdating(),_this5.toobars&&_this5.toolbars.forEach((function(bar){bar.ganttLoaded(_this5,rows)})),rows}))})).catch((function(err){return stopLoading(),_this5.errorHandler.addError(err,"Loading error",_this5.tablePanel),Promise.reject(err)}))}},{key:"isResourceGantt",value:function isResourceGantt(){return!this.type||this.type!==core.a.type.ACTIVITY_CHART}},{key:"hasConstraints",value:function hasConstraints(){return this.model&&this.model.constraints&&this.model.constraints.length}},{key:"isFlat",value:function isFlat(){return!this.model||this.model.isFlat()}},{key:"getTimeWindow",value:function getTimeWindow(){return this.timeWindow}},{key:"setTimeWindow",value:function setTimeWindow(_ref){var _this6=this,start=_ref.start,end=_ref.end;if(0===end)throw new Error("Invalid time window + ".concat(JSON.stringify({start:start,end:end}),", may not have been processed correctly"));return this.timeWindow&&this.timeWindow.start===start&&this.timeWindow.end===end?Promise.resolve(this.timeWindow):(this.timeWindow={start:start,end:end},this.timeLineInit=this.timeLine.setTimeWindow(start,end).then((function(_ref2){var start=_ref2.start,end=_ref2.end;_this6.updateTableHeaderHeight(),_this6.updateWidthFromTimeLine(),_this6.scrollTimeTableToX(_this6.timeLine.getXFromMillis(_this6.timeLine.getHorizon().start)),_this6.updateTimeLineHeight(),_this6.triggerEvent(core.a.events.TIME_WINDOW_CHANGED,start,end)})))}},{key:"getBody",value:function getBody(){return this.body}},{key:"initialized",value:function initialized(){return this.initPromise}},{key:"createTreeTable",value:function createTreeTable(ctnr){var _this7=this,tablePanel=document.createElement("div");tablePanel.className="table-panel",tablePanel.style.position="relative",tablePanel.style.height="100%",tablePanel.style.width="100%",tablePanel.style.overflow="hidden",tablePanel.style.minWidth="100px";var TreeTableClass=core.a.components.TreeTable.impl||core.a.components.TreeTable,tableConfig=this.config.table;if(this.legendConfig||this.config.rows){var rowsConfig=core.a.utils.mergeObjects({},this.legendConfig&&{rows:{renderer:this.legendConfig}},{rows:this.config.rows});tableConfig=core.a.utils.mergeObjects(rowsConfig,tableConfig)}return this.table=new TreeTableClass(this,tablePanel,tableConfig),this.table.setRowFilter(this.rowFilter),this.updates.table=this.table.createUpdates(this.updates),ctnr.appendChild(tablePanel),window.addWheelListener(tablePanel,(function(evt){var delta=(1===evt.deltaMode?32:.8)*evt.deltaY||-evt.wheelDelta||evt.detail;_this7.timeTable.scrollToY(_this7.timeTable.getScrollTop()+delta),evt.preventDefault&&evt.preventDefault()})),tablePanel}},{key:"createTimePanel",value:function createTimePanel(ctnr){var _this8=this;this.timePanel=document.createElement("div"),this.timePanel.className="time-panel",this.timePanel.style.position="relative",this.timePanel.style.height="100%";var vScrollerFiller=document.createElement("div");vScrollerFiller.className="vertical-scroller-filler",vScrollerFiller.style.position="absolute",vScrollerFiller.style.right=0,vScrollerFiller.top=0,this.timePanel.appendChild(vScrollerFiller),this.updateTimeLineRightMargin=function(){var rightMargin=_this8.timeTable.getRightMargin();_this8.timeLineScroller.style.paddingRight=rightMargin?"".concat(rightMargin,"px"):"0",vScrollerFiller.style.width=_this8.timeLineScroller.style.paddingRight,vScrollerFiller.style.display=rightMargin?"block":"none"},this.updateTableHeaderHeight=function(force){if(!_this8.initializing&&_this8.timeLine){var h=_this8.timeLine.getTimeAxisHeight();(force||_this8.headersHeight!==h)&&(_this8.headersHeight=h,_this8.table||console.log("no table"),_this8.table.setHeaderHeight(h),h&&(_this8.timeTablePanel.style.top=vScrollerFiller.style.height="".concat(h,"px")))}},this.timeLineScroller=document.createElement("div"),this.timeLineScroller.className="time-line-scroller",this.timeLineScroller.style.overflow="hidden",this.timeLineScroller.style.width="100%",this.timeLineScroller.style.height="100%",this.timePanel.appendChild(this.timeLineScroller),this.timeTablePanel=document.createElement("div"),this.timeTablePanel.className="time-table",this.timeTablePanel.style.position="absolute",this.timeTablePanel.style.left="0",this.timeTablePanel.style.right="0",this.timeTablePanel.style.bottom="0",this.timePanel.appendChild(this.timeTablePanel);var TimeTableClass=core.a.components.TimeTable.impl||core.a.components.TimeTable,timeTableConfig=this.config&&this.config.timeTable;if(this.legendConfig||this.config.rows){var rowsConfig=core.a.utils.mergeObjects({},this.legendConfig&&{rows:{renderer:this.legendConfig}},this.config.rows&&{rows:this.config.rows});timeTableConfig=core.a.utils.mergeObjects(rowsConfig,timeTableConfig)}return this.timeTable=new TimeTableClass(this,this.timeTablePanel,timeTableConfig),this.updates.timeTable=this.timeTable.createUpdates(this.updates),this.attachTimeTableMouseWheel(this.timeTable.getScroller()),this.timeTable.getScroller().addEventListener("scroll",(function(e){_this8.timeLineScroller.scrollLeft=e.target.scrollLeft,_this8.triggerEvent(core.a.events.TIME_LINE_SCROLLED,e.target.scrollLeft)})),ctnr.appendChild(this.timePanel),this.timePanel}},{key:"drawTimeTable",value:function drawTimeTable(clear){clear&&this.table.deleteDrawCache&&this.table.deleteDrawCache(),this.timeTable.draw(clear)}},{key:"createLoadingPanel",value:function createLoadingPanel(config){var lp=document.createElement("div");lp.className="loading-panel",lp.style.position="absolute",lp.style.left="0",lp.style.right="0",lp.style.top="0",lp.style.bottom="0",lp.style.display="flex",lp.style.alignItems="center",lp.style.justifyContent="center";var loaderCtnr=document.createElement("div");loaderCtnr.style.position="absolute",loaderCtnr.style.left="50%",loaderCtnr.style.top="50%",loaderCtnr.style.transform="translate(-50%, -50%)";var loader=document.createElement("div");loader.className="loader",loaderCtnr.appendChild(loader),lp.appendChild(loaderCtnr);var label=document.createElement("div");return label.className="label",label.appendChild(document.createTextNode(core.a.utils.getString("gantt.loading"))),lp.appendChild(label),lp}},{key:"createLoadResourceChart",value:function createLoadResourceChart(config){var loadChartNode,chartPanel,_this9=this;return(core.a.utils.isArray(config)&&config.length&&core.a.utils.isArray(config[0])?config:[config]).forEach((function(loadConfig){chartPanel||((chartPanel=document.createElement("div")).className="load-resource-chart-panel",chartPanel.style.flexShrink=0,chartPanel.style.position="relative",chartPanel.style.display="flex",chartPanel.style.flexDirection="columm"),(loadChartNode=document.createElement("div")).className="load-resource-chart",chartPanel.appendChild(loadChartNode),_this9.loadCharts||(_this9.loadCharts=[]);var loadChart=new(core.a.components.LoadResourceChart.impl||core.a.components.LoadResourceChart)(_this9,loadChartNode,core.a.utils.mergeObjects({},loadConfig,{height:""}));_this9.loadChartCtrl.addLoadResourceChart(loadChart),loadChart.node.style.flex="1 1",_this9.loadCharts.push(loadChart),window.addWheelListener(loadChart.getScroller(),(function(evt){evt.preventDefault()}))})),chartPanel}},{key:"toggleLoadChartVisible",value:function toggleLoadChartVisible(){this.setLoadChartVisible(!this.isLoadChartVisible())}},{key:"setLoadChartVisible",value:function setLoadChartVisible(visible){this.loadChartHidden=!visible,this.loadChartSplit.setRightComponentVisible(visible),core.a.utils.toggleClass(this.contentElt,"load-resource-chart-opened",visible),core.a.utils.toggleClass(this.contentElt,"load-resource-chart-closed",!visible),this.loadChartCtrl.setVisible(visible),this.onResize()}},{key:"isLoadChartVisible",value:function isLoadChartVisible(){return this.loadChartCtrl.isVisible()}},{key:"getPanelNode",value:function getPanelNode(){return this.contentElt}},{key:"updateTimeLineHeight",value:function updateTimeLineHeight(){var bottomMargin=this.timeTable.getBottomMargin();this.timeLineScroller.style.paddingBottom=bottomMargin?"".concat(bottomMargin,"px"):"0"}},{key:"attachTimeTableMouseWheel",value:function attachTimeTableMouseWheel(scroller){var _this10=this;window.addWheelListener(scroller,(function(evt){evt.ctrlKey&&0!==evt.deltaY&&(evt.deltaY<0?_this10.zoomIn(evt):_this10.zoomOut(evt),evt.preventDefault())}))}},{key:"createTimeLine",value:function createTimeLine(timeLineCtnr){var _this11=this,TimeLineClass=core.a.components.TimeLine.impl||core.a.components.TimeLine;return this.timeLine=new TimeLineClass(this,timeLineCtnr,this.config),this.timeLine.on([core.a.events.TIME_LINE_RANGE_CHANGE,core.a.events.TIME_LINE_RANGE_CHANGED,core.a.events.TIME_LINE_PAN_MOVED],(function(){_this11.updateTableHeaderHeight(),_this11.updateWidthFromTimeLine(),_this11.drawTimeTable(!0)})),this.timeLine.on(core.a.events.TIME_LINE_SIZE_CHANGED,(function(e,w,h){_this11.updateWidthFromTimeLine(),_this11.drawTimeTable(!0),_this11.triggerEvent(core.a.events.TIME_LINE_SIZE_CHANGED,w,h)})),this.timeLine.on(core.a.events.TIME_LINE_INIT,(function(e){_this11.triggerEvent(core.a.events.TIME_LINE_INIT)})),this.timeLine}},{key:"createToolbars",value:function createToolbars(config){var _this12=this;this.toolbars=[];var toolbarNode,ToolbarClass=core.a.components.Toolbar.impl||core.a.components.Toolbar;return this.toolbarElt=null,(core.a.utils.isArray(config)&&config.length&&core.a.utils.isArray(config[0])?config:[config]).forEach((function(barConfig){if(barConfig.node){if(core.a.utils.isString(barConfig.node))toolbarNode=document.getElementById(barConfig.node);else if(core.a.utils.isDomElement(node))toolbarNode=node;else{if(!core.a.utils.isFunction(barConfig.node))throw new Error("The toolbar.node must be a string(Dom element ID) or a Dom element or a function returning a Dom element");toolbarNode=barConfig.node(_this12)}barConfig=barConfig.components}else _this12.toolbarElt||(_this12.toolbarElt=document.createElement("div"),_this12.toolbarElt.className="gantt-toolbars",_this12.toolbarElt.style.flexShrink=0),(toolbarNode=document.createElement("div")).className="gantt-toolbar",_this12.toolbarElt.appendChild(toolbarNode);_this12.toolbars.push(new ToolbarClass(_this12,toolbarNode,barConfig))})),this.toolbarElt&&this.contentElt.appendChild(this.toolbarElt),this.toolbars.forEach((function(t){t.onInitialized()})),this.toolbarElt}},{key:"createHeader",value:function createHeader(config){var header=document.createElement("div");if(header.className="gantt-header",core.a.utils.isString(config))header.appendChild(document.createTextNode(config));else if(core.a.utils.isFunction(config)){var _node=config(this);_node&&header.appendChild(_node)}return header}},{key:"getRowCount",value:function getRowCount(){return this.table.getRowCount()}},{key:"getRow",value:function getRow(param){return this.table.getRow(param)}},{key:"getRows",value:function getRows(selector){return this.table.getRows(selector)}},{key:"getVisibleRows",value:function getVisibleRows(){return this.table.getVisibleRows()}},{key:"getVisibleHeight",value:function getVisibleHeight(){return this.timeTable.getVisibleHeight()}},{key:"ensureRowVisible",value:function ensureRowVisible(param){var row=this.table.getRow(param);if(!row)throw new Error("Cannot find row for ".concat(param));if(this.table.isRowFiltered(row))throw new Error("Cannot show the filtered row: ".concat(param));this.table.expandParents(row),this.timeTable.scrollToRow(row)}},{key:"isRowVisible",value:function isRowVisible(param){return this.table.isRowVisible(param)}},{key:"getFirstVisibleRow",value:function getFirstVisibleRow(){return this.table.getFirstVisibleRow()}},{key:"setFirstVisibleRow",value:function setFirstVisibleRow(param){this.timeTable.setFirstVisibleRow(this.getRow(param))}},{key:"isRowFiltered",value:function isRowFiltered(param){return this.table.isRowFiltered(param)}},{key:"toggleCollapseRow",value:function toggleCollapseRow(param,collapse){this.table.toggleCollapseRow(this.getRow(param),collapse)}},{key:"scrollToY",value:function scrollToY(y){this.timeTable.scrollToY(y)}},{key:"getRowHeight",value:function getRowHeight(row){return(row=this.getRow(row))&&(row.activityRow?row.activityRow.height:row.tr.offsetHeight)}},{key:"draw",value:function draw(forceTableRedraw){this.timeLine&&(this.timeLine.draw(!0),this.table.deleteDrawCache&&this.table.deleteDrawCache(),this.table.draw(forceTableRedraw),this.timeTable.draw(),this.updateScrollerHeight())}},{key:"drawRows",value:function drawRows(selector){var rows=this.getRows(selector);this.table.drawRows(rows),this.timeTable.drawRows(rows)}},{key:"updateScrollerHeight",value:function updateScrollerHeight(){this.timeTable.setBodyHeight(this.loadOnDemand?this.table.getRowCount()*this.getRowHeight():this.table.getHeight()),this.updateTimeLineRightMargin()}},{key:"getRowActivities",value:function getRowActivities(row){return(row=this.getRow(row))&&row.activities||[]}},{key:"getActivity",value:function getActivity(param,row){if(!row)return this.model.getActivity(param);var acts=this.getRowActivities(row);if(core.a.utils.isString(param)){for(var i=0,count=acts.length;i<count;++i)if(acts[i].id===param)return acts[i]}else{if(core.a.utils.isInteger(param))return acts[param];for(var _i=0,_count=acts.length;_i<_count;++_i)if(acts[_i].getData()===param)return acts[_i]}}},{key:"getActivityNode",value:function getActivityNode(param,res){var activity=this.getActivity(param,res);return activity&&activity.node}},{key:"getToolbarComponent",value:function getToolbarComponent(id){for(var i=0;i<this.toolbars.length;i++)for(var j=0;j<this.toolbars[i].components.length;j++){var c=this.toolbars[i].components[j];if(c&&id===c.id)return c}}},{key:"onResize",value:function onResize(){this.timeLine&&this.timeLine.onResize&&this.timeLine.onResize(),this.updateTimeLineRightMargin&&this.updateTimeLineRightMargin(),this.table&&this.table.onResize&&this.table.onResize(),this.updateTableHeaderHeight&&this.timeLine&&this.updateTableHeaderHeight(!0),this.table&&this.triggerEvent(core.a.events.RESIZED),this.timeTable&&this.timeTable.onResize&&this.timeTable.onResize(),this.timeTable&&this.updateScrollerHeight()}},{key:"destroy",value:function destroy(){for(core.a.plugins.call("destroy",this),this.errorHandler&&this.errorHandler.destroy&&this.errorHandler.destroy(),this.splitPane&&this.splitPane.destroy&&this.splitPane.destroy(),this.table&&this.table.destroy&&this.table.destroy(),this.model&&this.model.destroy&&this.model.destroy(),this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.updates&&this.updates.destroy(),this.toolbars&&(this.toolbars.forEach((function(bar){bar.destroy()})),this.toobars=null);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.contentElt=null,this.table=null,this.body=null}},{key:"disconnect",value:function disconnect(){}},{key:"highlightRow",value:function highlightRow(row,highlight,deselectAll){"string"==typeof row&&(row=this.table.getRow(row)),highlight=void 0===highlight||highlight,this.table.highlightRow(row,highlight,deselectAll),this.timeTable.highlightRow(row,highlight,deselectAll)}},{key:"selection",get:function get(){return this.selectionHandler},set:function set(sel){var currentSel=this.selectionHandler&&this.selectionHandler.get();this.selectionHandler&&this.selectionHandler.destroy(),this.selectionHandler=sel,this.selectionHandler&&currentSel&&currentSel.length&&this.selectionHandler.select(sel)}},{key:"synchLayout",value:function synchLayout(config){var ls=new(core.a.components.LayoutSynchronizer.impl||core.a.components.LayoutSynchronizer)(config);return ls.connect(this),ls}},{key:"resetZoom",value:function resetZoom(){this.timeLine.resetZoom(),this.scrollTimeTableToX(this.timeLine.getXFromMillis(this.timeLine.getHorizon().start))}},{key:"zoomIn",value:function zoomIn(evt){this.zoom(this.zoomFactor,evt)}},{key:"zoomOut",value:function zoomOut(evt){this.zoom(-this.zoomFactor,evt)}},{key:"zoom",value:function zoom(zoomFactor,evt){if(0!==(zoomFactor=this.timeLine.validateZoomFactor(zoomFactor))){var visibleW=this.timeTable.getVisibleWidth(),xRef=evt&&this.getTimeTableCoordinates(evt.target,{x:evt.offsetX,y:evt.offsetY}).x||this.timeTable.getScrollLeft()+visibleW/2,timeRef=this.timeLine.getTimeAt(xRef);xRef-=this.timeTable.getScrollLeft(),this.timeLine.zoom(zoomFactor);var newScrollLeft=this.timeLine.getXFromMillis(timeRef)-xRef;this.scrollTimeTableToX(newScrollLeft)}}},{key:"fitToContent",value:function fitToContent(){var timeRange=this.timeTable.getDisplayedActivitiesTimeRange();this.timeLine.setVisibleTimeWindow(timeRange),this.scrollTimeTableToX(this.timeLine.getXFromMillis(timeRange&&timeRange.start||this.timeLine.getHorizon().start))}},{key:"updateScrollFromTimeLine",value:function updateScrollFromTimeLine(){}},{key:"updateWidthFromTimeLine",value:function updateWidthFromTimeLine(){this.timeTable.setBodyWidth(this.timeLine.getWidth())}},{key:"addFilter",value:function addFilter(filter,rows,activities){var result={activities:activities&&this.activityFilter.addFilter(filter)},actFilter=result.activities;return rows&&(result.row=actFilter?this.rowFilter.addOrFilters(filter,(function(row,columnData,rowIndex){for(var count=row.activities.length,params=[null,row],i=0;i<count;i++)if(params[0]=row.activities[i],actFilter(params))return!0;return!1})):this.rowFilter.addFilter(filter)),result.row||result.activities?(this.filterChanged(),result):null}},{key:"removeFilter",value:function removeFilter(key,preventNotify){var success=!1;return key&&(key.row&&(success=this.rowFilter.removeFilter(key.row)),key.activities&&(success=this.activityFilter.removeFilter(key.activities)),this.searchFilter===key&&(this.searchFilter=null)),success&&!preventNotify&&this.filterChanged(),success}},{key:"search",value:function search(text,rows,activities){this.searchFilter&&(this.searchFilter.row&&this.rowFilter.removeFilter(this.searchFilter.row),this.searchFilter.activities&&this.activityFilter.removeFilter(this.searchFilter.activities)),text&&(rows||activities)?this.searchFilter=this.addFilter(text,rows,activities):(this.searchFilter=null,this.filterChanged())}},{key:"setHideEmptyRows",value:function setHideEmptyRows(hide,preventNotify){var _this13=this;return!!(hide&&!this.hideEmptyRowsFilter||!hide&&this.hideEmptyRowsFilter)&&(this.hideEmptyRowsFilter?(this.rowFilter.removeFilter(this.hideEmptyRowsFilter),this.hideEmptyRowsFilter=null):this.hideEmptyRowsFilter=this.rowFilter.addFilter((function(row,columnData,rowIndex){var activityFilter=_this13.activityFilter;activityFilter=activityFilter&&!activityFilter.isEmpty()?activityFilter:null;var count=row.activities&&row.activities.length;if(!count||!activityFilter)return count;for(var i=0;i<count;i++)if(activityFilter.accept(row.activities[i],row))return!0;return!1})),preventNotify||this.filterChanged(),!0)}},{key:"filterChanged",value:function filterChanged(){if(this.table&&this.timeTable){this.table.filterChanged();var table=this.table&&this.table.getScrollableTable();this.updateScrollerHeight();var scrollTop=table.scrollTop;this.timeTable.setScrollTop(scrollTop),this.drawTimeTable(!0),this.triggerEvent(core.a.events.ROWS_FILTERED)}}},{key:"getTitle",value:function getTitle(){return this.title}},{key:"setTitle",value:function setTitle(title){this.title=title,this.triggerEvent(core.a.events.TITLE_CHANGED,title)}},{key:"setRowColor",value:function setRowColor(row,color){row.color=color,this.table.setRowColor&&this.table.setRowColor(row,color),this.timeTable.setRowColor&&this.timeTable.setRowColor(row,color)}},{key:"centerTimeSheetOnX",value:function centerTimeSheetOnX(x){this.scrollTimeTableToX(x-this.timeTable.getVisibleWidth()/2)}},{key:"scrollTimeTableToX",value:function scrollTimeTableToX(x){x=Math.min(Math.max(Math.round(x),0),this.timeTable.getBodyWidth()-this.timeTable.getVisibleWidth()),this.timeTable.setScrollLeft(x),this.loadChartCtrl&&this.loadChartCtrl.timeTableXScrolled(x),this.triggerEvent(core.a.events.TIME_LINE_SCROLLED,x)}},{key:"getTimeTableCoordinates",value:function getTimeTableCoordinates(target,position){var _this14=this;return core.a.utils.walkToAncestor([this.timeTable.getScroller(),this.timeLineScroller],target,(function(parent,node,position){if(parent===_this14.timeLineScroller)position.x+=_this14.timeTable.getScrollLeft();else if(parent===_this14.timeTable.getScroller())return position;return{x:position.x+node.offsetLeft-parent.scrollLeft,y:position.y+node.offsetTop-parent.scrollTop}}),{x:position&&position.x||0,y:position&&position.y||0})}},{key:"addTimeMarker",value:function addTimeMarker(id,time,classes){this.timeLine.addTimeMarker(id,time,classes)}},{key:"removeTimeMarker",value:function removeTimeMarker(id){this.timeLine.removeTimeMarker(id)}},{key:"setTimeLineItem",value:function setTimeLineItem(id,item){this.timeLine.setTimeLineItem(id,item)}},{key:"addTimeLineItem",value:function addTimeLineItem(id,item){this.timeLine.addTimeLineItem(id,item)}},{key:"removeTimeLineItem",value:function removeTimeLineItem(id){this.timeLine.removeTimeLineItem(id)}},{key:"hasErrors",value:function hasErrors(){return this.errorHandler.hasErrors()}},{key:"setPaletteConfiguration",value:function setPaletteConfiguration(config){if(core.a.utils.isArray(config)||core.a.utils.isFunction(config))this.palettes=null,this.defaultPalette=new(core.a.components.Palette.impl||core.a.components.Palette)(config);else if(core.a.utils.isString(config))this.palettes=null,this.defaultPalette=core.a.defaultPalettes[config],this.defaultPalette||console.error("Palette [".concat(config,"] does not exist"));else{var paletteNames=Object.keys(config);this.palettes={},this.defaultPalette=null;for(var i=0,count=paletteNames.length;i<count;++i)this.palettes[paletteNames[i]]=new(core.a.components.Palette.impl||core.a.components.Palette)(config[paletteNames[i]])}}},{key:"getPalette",value:function getPalette(name){return name?this.palettes&&this.palettes[name]||core.a.defaultPalettes[name]:this.defaultPalette||core.a.defaultPaletteName&&core.a.defaultPalettes[core.a.defaultPaletteName]}},{key:"startUpdating",value:function startUpdating(){this.updates.startUpdating()}},{key:"stopUpdating",value:function stopUpdating(){this.updates.stopUpdating()}},{key:"rowsChanged",value:function rowsChanged(event,rows){this.updates.startUpdating(),this.triggerEvent(event,rows),this.updates.rowsChanged(event,rows),this.updates.stopUpdating()}}]),GanttPanel}(core.a.components.GanttPanel);core.a.components.GanttPanel.impl=ganttpanel_GanttPanel;var get=__webpack_require__(369),defaultConfig={keySpeed:10,showMoveOnInvalid:!0,dragActivationThresoldWidth:5,dragActivationThresoldHeight:5},dragdrop_DragDropHandler=function(){function DragDropHandler(container,config){Object(classCallCheck.a)(this,DragDropHandler),core.a.utils.mergeObjects(this,defaultConfig,config),this.container=container,this.initialMouseX=void 0,this.initialMouseY=void 0,this.startX=void 0,this.startY=void 0,this.dXKeys=void 0,this.dYKeys=void 0,this.draggedObject=void 0,this.clickedObject=void 0,this.handlers=[],this.methodsToHitch=[],this.hitchedMethods=[]}return Object(createClass.a)(DragDropHandler,[{key:"addHandler",value:function addHandler(handler){this.handlers.push(handler)}},{key:"removeHandler",value:function removeHandler(handler){var index=this.handlers.indexOf(handler);return index>-1&&(this.handlers.splice(index,1),!0)}},{key:"attach",value:function attach(element){var _this=this;element.onmousedown=function(e){return _this.startDragMouse(e)}}},{key:"startDragMouse",value:function startDragMouse(e){var evt=e||window.event;if(2===evt.button)this.draggedObject&&this.cancel(evt);else if(!evt.button)return this.initialMouseX=evt.clientX,this.initialMouseY=evt.clientY,evt.target.blur(),this.connectDragStarter(evt),!1}},{key:"connectDragStarter",value:function connectDragStarter(evt){this.initOffsetX=evt.offsetX,this.initOffsetY=evt.offsetY,this.clickedObject=evt.target,this.dXKeys=this.dYKeys=0,this.addEventListener(document,"mousemove",this.checkStartDrag),this.addEventListener(document,"mouseup",this.cancelDragStarter),this.addEventListener(document,"keydown",this.dragStarterKeys),this.addEventListener(document,"keypress",this.dragStartSwitchKeyEvents)}},{key:"checkStartDrag",value:function checkStartDrag(e){var evt=e||window.event,dX=evt.clientX-this.initialMouseX,dY=evt.clientY-this.initialMouseY;(Math.abs(dX)>=this.dragActivationThresoldWidth||Math.abs(dY)>=this.dragActivationThresoldHeight)&&(this.cancelDragStarter(),this.startDrag()&&this.move(dX,dY))}},{key:"dragStartSwitchKeyEvents",value:function dragStartSwitchKeyEvents(){this.removeEventListener(document,"keydown",this.dragStarterKeys),this.removeEventListener(document,"keypress",this.switchKeyEvents),this.addEventListener(document,"keypress",this.dragStarterKeys)}},{key:"dragStarterKeys",value:function dragStarterKeys(e){var evt=e||window.event;switch(evt.keyCode){case 37:case 63234:this.dXKeys-=this.keySpeed;break;case 38:case 63232:this.dYKeys-=this.keySpeed;break;case 39:case 63235:this.dXKeys+=this.keySpeed;break;case 40:case 63233:this.dYKeys+=this.keySpeed;break;case 13:case 27:return evt.preventDefault&&evt.preventDefault(),this.cancelDragStarter(evt),!1;default:return!0}return evt.preventDefault&&evt.preventDefault(),this.cancelDragStarter(),this.startDrag()&&this.move(this.dXKeys,this.dYKeys),!1}},{key:"cancelDragStarter",value:function cancelDragStarter(){this.removeEventListener(document,"mousemove",this.checkStartDrag),this.removeEventListener(document,"mouseup",this.cancelDragStarter),this.removeEventListener(document,"keypress",this.dragStarterKeys),this.removeEventListener(document,"keypress",this.dragStartSwitchKeyEvents),this.removeEventListener(document,"keydown",this.dragStarterKeys)}},{key:"startDrag",value:function startDrag(){var obj=this.startMove(this.clickedObject,this.initOffsetX,this.initOffsetY);return!!obj&&(this.draggedObject&&this.releaseElement(),this.addEventListener(document,"mousemove",this.dragMouse),this.addEventListener(document,"mouseup",this.dropped),this.addEventListener(document,"keydown",this.dragKeys),this.addEventListener(document,"keypress",this.switchKeyEvents),this.startX=obj.offsetLeft,this.startY=obj.offsetTop,this.initLeft=obj.style.left,this.initTop=obj.style.top,this.initParentNode=obj.parentNode,this.draggedObject=obj,this.invalid=!1,obj.className+=" dragged",!0)}},{key:"callHandlers",value:function callHandlers(meth,evt){var result,i,handler;for(i=0;i<this.handlers.length;i++)if((handler=this.handlers[i])[meth]&&void 0!==(result=handler[meth](evt))&&!result)return!1;return result}},{key:"startMove",value:function startMove(obj,offsetX,offsetY){var result=this.callHandlers("startMove",obj,offsetX,offsetY);return void 0===result?obj:result}},{key:"dragMouse",value:function dragMouse(e){var evt=e||window.event,dX=evt.clientX-this.initialMouseX,dY=evt.clientY-this.initialMouseY;return this.move(dX,dY),!1}},{key:"move",value:function move(dx,dy){var i,handler,result,pos={dx:dx,dy:dy,x:this.startX+dx,y:this.startY+dy};for(this.invalid=!1,i=0;i<this.handlers.length;i++)(handler=this.handlers[i]).move&&(void 0===(result=handler.move(pos))||result||(this.invalid=!0));return!(this.invalid&&!this.showMoveOnInvalid)&&(this.moved(dx,dy),void 0!==pos.x&&(this.draggedObject.style.left="".concat(pos.x,"px")),void 0!==pos.y&&(this.draggedObject.style.top="".concat(pos.y,"px")),!0)}},{key:"dragKeys",value:function dragKeys(e){var evt=e||window.event;switch(evt.keyCode){case 37:case 63234:this.dXKeys-=this.keySpeed;break;case 38:case 63232:this.dYKeys-=this.keySpeed;break;case 39:case 63235:this.dXKeys+=this.keySpeed;break;case 40:case 63233:this.dYKeys+=this.keySpeed;break;case 13:case 27:return this.cancel(evt),!1;default:return!0}return this.move(this.dXKeys,this.dYKeys),evt.preventDefault&&evt.preventDefault(),!1}},{key:"addEventListener",value:function addEventListener(elt,event,method,capturing){var _this2=this,index=this.methodsToHitch.indexOf(method),hitched=index>=0?this.hitchedMethods[index]:null;index<0?(this.methodsToHitch.push(method),this.hitchedMethods.push(hitched=function hitched(e){return method.call(_this2,e)})):hitched=this.hitchedMethods[index],capturing?core.a.utils.addEventListener(elt,event,hitched,!0):core.a.utils.addEventListener(elt,event,hitched)}},{key:"removeEventListener",value:function removeEventListener(elt,event,method){var index=this.methodsToHitch.indexOf(method);index>=0&&core.a.utils.removeEventListener(elt,event,this.hitchedMethods[index])}},{key:"switchKeyEvents",value:function switchKeyEvents(){this.removeEventListener(document,"keydown",this.dragKeys),this.removeEventListener(document,"keypress",this.switchKeyEvents),this.addEventListener(document,"keypress",this.dragKeys)}},{key:"moved",value:function moved(dx,dy){this.callHandlers("moved")}},{key:"stopDrag",value:function stopDrag(){this.callHandlers("stopMove")}},{key:"cancel",value:function cancel(evt){this.restoreInitPosition(),this.callHandlers("cancel"),this.releaseElement(evt)}},{key:"restoreInitPosition",value:function restoreInitPosition(){this.draggedObject&&!1!==this.callHandlers("restoreInitPosition")&&(this.draggedObject.style.left=this.initLeft,this.draggedObject.style.top=this.initTop,this.initParentNode!==this.draggedObject.parentNode&&this.initParentNode.appendChild(this.draggedObject))}},{key:"dropped",value:function dropped(e){var evt=e||window.event;if(!evt.button&&this.draggedObject){var dX=evt.clientX-this.initialMouseX,dY=evt.clientY-this.initialMouseY;this.move(dX,dY,!0),this.applyMove(),this.releaseElement(evt)}}},{key:"applyMove",value:function applyMove(){this.callHandlers("applyMove")}},{key:"releaseElement",value:function releaseElement(evt){this.stopDrag(evt),this.removeEventListener(document,"mousemove",this.dragMouse),this.removeEventListener(document,"mouseup",this.dropped),this.removeEventListener(document,"keypress",this.dragKeys),this.removeEventListener(document,"keypress",this.switchKeyEvents),this.removeEventListener(document,"keydown",this.dragKeys),core.a.utils.removeClass(this.draggedObject,"dragged"),this.draggedObject=null}}]),DragDropHandler}(),DEFAULT_ACTIVITY_CLASSNAME="".concat("time-table-activity"," ").concat("g-unselectable"),MILESTONE_CLASSNAME="".concat(DEFAULT_ACTIVITY_CLASSNAME," milestone"),PARENT_ACTIVITY_CLASSNAME="".concat(DEFAULT_ACTIVITY_CLASSNAME," parent-activity"),activityrenderer={createShape:function createShape(activity){var elt=document.createElement("div"),start=activity.start;if(activity.end===start){elt.className=MILESTONE_CLASSNAME,elt.style.border="none",elt.style.maxWidth="0";var diamond=document.createElement("div");diamond.className="shape",diamond.style.position="absolute",diamond.style.top="8px",diamond.style.left="0",diamond.style.right="0",diamond.style.bottom="-8px",diamond.style.minWidth="16px",diamond.style.maxHeight="16px",diamond.style.background="inherit",elt.appendChild(diamond)}else if(activity.children&&activity.children.length){elt.className=PARENT_ACTIVITY_CLASSNAME,elt.style.display="block",elt.style.backgroundColor="transparent";var bar=document.createElement("div");bar.className="parent-activity-bar",bar.style.width="100%",bar.style.height="50%",elt.appendChild(bar);var triangleBar=document.createElement("div");triangleBar.style.width="100%",triangleBar.style.height="50%",triangleBar.style.backgroundColor="transparent";var leftTriangle=document.createElement("div");leftTriangle.className="top-left-triangle activity-limit",leftTriangle.style.display="inline-block",leftTriangle.style.float="left",leftTriangle.style.width="0",leftTriangle.style.height="0",leftTriangle.style.borderTopStyle="solid",leftTriangle.style.borderTopWidth="".concat(7,"px"),leftTriangle.style.borderRightStyle="solid",leftTriangle.style.borderRightWidth="".concat(7,"px"),leftTriangle.style.borderRightColor="transparent",triangleBar.appendChild(leftTriangle);var rightTriangle=document.createElement("div");rightTriangle.className="top-right-triangle activity-limit",triangleBar.appendChild(rightTriangle),rightTriangle.style.display="inline-block",rightTriangle.style.float="right",rightTriangle.style.width="0",rightTriangle.style.height="0",rightTriangle.style.borderTopStyle="solid",rightTriangle.style.borderTopWidth="".concat(7,"px"),rightTriangle.style.borderLeftStyle="solid",rightTriangle.style.borderLeftWidth="".concat(7,"px"),rightTriangle.style.borderLeftColor="transparent",elt.appendChild(triangleBar)}else elt.className=DEFAULT_ACTIVITY_CLASSNAME;var selElt=document.createElement("div");return selElt.className="select-content",selElt.style.height="100%",selElt.style.display="flex",selElt.style.justifyContent="space-between",selElt.style.alignItems="center",selElt.style.border="none",elt.appendChild(selElt),elt},drawRightContent:function drawRightContent(elt,icon,text,object){var textCtnr=document.createElement("div");if(textCtnr.style.position="absolute",textCtnr.className="text-container right",textCtnr.style.left="100%",textCtnr.style.top="0",textCtnr.style.height="100%",icon){var img=document.createElement("img");img.className="image-content",img.src=icon,img.alt="",textCtnr.appendChild(img)}elt.style.overflowX="visible";var t=document.createElement("span");return t.className="text-content",t.innerHTML=text,textCtnr.appendChild(t),elt.appendChild(textCtnr),object.label={getTextWidth:function getTextWidth(){return t.offsetWidth},getTextHeight:function getTextHeight(){return t.offsetHeight},move:function move(left,dist){core.a.utils.toggleClass(textCtnr,"left",left),textCtnr.style.marginLeft=0,left?(textCtnr.style.left="".concat(-dist,"px"),textCtnr.style.paddingLeft=0):(textCtnr.style.left="100%",textCtnr.style.paddingLeft="".concat(dist,"px"))}},textCtnr},getText:function getText(activity){return activity.name},getTooltipProperties:function getTooltipProperties(act){var props=[core.a.utils.getString("gantt.start"),new Date(act.start).format(),core.a.utils.getString("gantt.end"),new Date(act.end).format()];return void 0!==act.id&&(props.push(core.a.utils.getString("gantt.id")),props.push(act.id)),props},processConfiguration:function processConfiguration(selector,config){this.defaultProcessConfiguration(selector,config),config.rowHeight&&this.addRowHeightConfiguration(selector,config.rowHeight),config.generateRowDecorations&&this.addGenerateRowDecorations(selector,config.generateRowDecorations),config.generateDecorations&&this.addGenerateDecorations(selector,config.generateDecorations)},initialized:function initialized(config){var _this=this,gantt=this.paletteHandler;this.defaultSetBackground=this.setBackground,this.drawDefaultContentSet=this.drawDefaultContent,this.ganttLoadListener=function(e){gantt.isResourceGantt()?(_this.drawDefaultContent=_this.drawNoDisplayOverflowContent,_this.setBackground=_this.defaultSetBackground,_this.drawDefaultContent=_this.drawDefaultContentSet):(_this.setBackground=function(shapeElt,bg){core.a.utils.hasClass("parent-activity")?(shapeElt.querySelectorAll(".activity-limit").forEach((function(elt){elt.style.borderColor=bg})),shapeElt.querySelector("parent-activity-bar").style.backgroundColor=bg):this.drawDefaultContentSet(shapeElt,bg)},_this.drawDefaultContent=_this.drawRightContent)},gantt.on(core.a.events.DATA_LOADED,this.ganttLoadListener)},destroy:function destroy(){this.ganttLoadListener&&(this.paletteHandler.off(core.a.events.DATA_LOADED,this.ganttLoadListener),this.ganttLoadListener=null)},addRowHeightConfiguration:function addRowHeightConfiguration(selector,config){var rowHeight;if("function"==typeof config)rowHeight=config;else if("string"==typeof config){var getter=core.a.utils.propertyEvaluator(config);getter&&(rowHeight=function rowHeight(object,ctx){return getter(object,ctx)})}else rowHeight=function rowHeight(){return config};if(rowHeight){var oldRowHeight=this.rowHeight;this.rowHeight=function(object,ctx){return!selector||selector(object)?rowHeight(object,ctx):oldRowHeight&&oldRowHeight(object,ctx)}}},addGenerateRowDecorations:function addGenerateRowDecorations(selector,config){var generateRowDecorations;if("function"==typeof config)generateRowDecorations=config;else{if("string"!=typeof config)throw new Error("generateRowDecorations must be a function or an accessor to a row method");var getter=core.a.utils.propertyEvaluator(config);getter&&(generateRowDecorations=function generateRowDecorations(row,start,end,ctx){return getter(row,start,end,ctx)})}if(generateRowDecorations){var oldGenerateRowDecorations=this.generateRowDecorations;this.generateRowDecorations=function(row,start,end,ctx){var decorations=oldGenerateRowDecorations&&oldGenerateRowDecorations(row,start,end,ctx)||null;if(!selector||selector(row)){var newDecos=generateRowDecorations(row,start,end,ctx);if(newDecos&&newDecos.length)return decorations&&decorations.length?decorations.concat(newDecos):newDecos}return decorations}}},addGenerateDecorations:function addGenerateDecorations(selector,config){var generateDecorations;if("function"!=typeof config)throw new Error("generateDecorations must be a function");if(generateDecorations=config){var oldGenerateDecorations=this.generateDecorations;this.generateDecorations=function(start,end,ctx){var decorations=oldGenerateDecorations&&oldGenerateDecorations(start,end,ctx)||null;if(!selector||selector(ctx)){var newDecos=generateDecorations(start,end,ctx);if(newDecos&&newDecos.length)return decorations&&decorations.length?decorations.concat(newDecos):newDecos}return decorations}}}},rowrenderer={createShape:function createShape(activity,parentElt){return parentElt}};function activitylayout_createSuper(Derived){var hasNativeReflectConstruct=function activitylayout_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var defaultOptions={cascadeOffset:5,topMargin:1,bottomMargin:1,subRowPadding:1,constantRowHeight:!1,compareBoundingBoxes:!1,miniWidth:4},STRATEGIES={};STRATEGIES.logistic=function(row){activitylayout_ActivityLayout.sortTasksOnStart(row);var offset,subRowsCount=activitylayout_ActivityLayout.computeSubRows(row),actHeight=row.height-this.topMargin-this.bottomMargin-1;subRowsCount>1&&(offset=this.cascadeOffset,0===(actHeight=Math.max(actHeight-this.cascadeOffset*(subRowsCount-1),0))&&(offset=0));for(var act,actCount=row.activities&&row.activities.length||0,iAct=0;iAct<actCount;++iAct)(act=row.activities[iAct]).node&&(act.node.style.top="".concat(this.topMargin+offset*act.subRowIndex,"px"),act.node.style.height=actHeight)},STRATEGIES.tile=function(row){var rowHeight=row.tableRowHeight,topMargin=this.topMargin,bottomMargin=this.bottomMargin,subRowHeight=rowHeight-topMargin-bottomMargin-1;if(subRowHeight<=0){var availMargin=rowHeight-(subRowHeight=1);bottomMargin=availMargin-(topMargin=availMargin*topMargin/(topMargin+bottomMargin))}var activitiyComparator=this.compareBoundingBoxes?function(act1,act2){return act1.left-act2.left}:function(act1,act2){return act1.start-act2.start};row.activities.sort(activitiyComparator);var subRows=this.setTaskSubRows(row),subRowMargin=this.subRowPadding;this.constantRowHeight?(subRowMargin*(subRows.length-1)>=subRowHeight&&(subRowMargin=subRowHeight/(subRows.length-1)),subRowHeight=(subRowHeight-(subRows.length-1)*subRowMargin)/subRows.length):(rowHeight=topMargin+bottomMargin+subRows.length*subRowHeight+(subRows.length-1)*subRowMargin,row.setRowHeight(Math.round(rowHeight)));for(var subRowTasks,task,iTask,top=topMargin,i=0;i<subRows.length;i++){for(subRowTasks=subRows[i],iTask=0;iTask<subRowTasks.length;iTask++)(task=subRowTasks[iTask]).node.style.top="".concat(top,"px"),task.node.style.height="".concat(subRowHeight,"px");top+=subRowHeight+subRowMargin}};var activitylayout_ActivityLayout=function(_Gantt$components$Act){Object(inherits.a)(ActivityLayout,_Gantt$components$Act);var _super=activitylayout_createSuper(ActivityLayout);function ActivityLayout(config,proto,ctx){var _this;return Object(classCallCheck.a)(this,ActivityLayout),_this=_super.call(this,config),core.a.utils.mergeObjects(Object(assertThisInitialized.a)(_this),defaultOptions,config,proto),_this.ctx=ctx,_this.strategy&&("string"==typeof config.strategy?_this.getLayoutStrategy=function(){return _this.strategy}:"function"==typeof _this.strategy&&(_this.getLayoutStrategy=function(){return _this.strategy(_this.ctx)})),_this}return Object(createClass.a)(ActivityLayout,[{key:"layout",value:function layout(row){if(row.activities&&row.activities.length){var vLayout,strategyKey=this.getLayoutStrategy();if(this.layoutHorizontally(row),strategyKey&&(vLayout=STRATEGIES[strategyKey]))vLayout.call(this,row);else for(var elt,iAct=0;iAct<row.activities.length;iAct++)(elt=row.activities[iAct].node)&&(elt.style.top="".concat(this.topMargin,"px"),elt.style.height="".concat(row.height-this.topMargin-this.bottomMargin-1,"px"))}}},{key:"allowVariableRowHeight",value:function allowVariableRowHeight(){var strategyKey=this.getLayoutStrategy();return!(!strategyKey||"tile"!==strategyKey)&&!this.constantRowHeight}},{key:"layoutHorizontally",value:function layoutHorizontally(row){for(var act,elt,left,actCount=row.activities.length,iAct=0;iAct<actCount;iAct++)(elt=(act=row.activities[iAct]).node)&&(left=act.left=row.getX(act.start),elt.style.left="".concat(left,"px"),elt.style.width="".concat(act.width=row.getX(act.end)-left+1,"px"),act.width<=this.miniWidth&&!core.a.utils.hasClass(elt,"milestone")&&(act.width=this.miniWidth,elt.style.width="".concat(act.width,"px"),core.a.utils.addClass(elt,"mini-activity")))}},{key:"getLayoutStrategy",value:function getLayoutStrategy(){return null}},{key:"layoutVertically",value:function layoutVertically(row){row.subRows=[]}},{key:"setTaskSubRows",value:function setTaskSubRows(row){for(var act,iSubRow,subRows=[],iAct=0,actCount=row.activities&&row.activities.length||0;iAct<actCount;++iAct)if((act=row.activities[iAct]).node){for(iSubRow=0;iSubRow<subRows.length&&!this.addGraphicToSubRowIfFits(act,subRows[iSubRow]);iSubRow++);iSubRow===subRows.length&&subRows.push([act])}return subRows}},{key:"addGraphicToSubRowIfFits",value:function addGraphicToSubRowIfFits(activity,subRow){if(subRow.length){var lastRowTask=subRow[subRow.length-1];if(this.compareBoundingBoxes){if(activity.left<lastRowTask.left+lastRowTask.width)return!1}else if(activity.start<lastRowTask.end)return!1;subRow.push(activity)}else subRow.push(activity);return!0}}],[{key:"STRATEGY_LOGISTIC",get:function get(){return"logistic"}},{key:"STRATEGY_TILE",get:function get(){return"tile"}},{key:"STRATEGIES",get:function get(){return STRATEGIES}},{key:"sortTasksOnStart",value:function sortTasksOnStart(row){row.activities.sort((function(act1,act2){return act1.start-act2.start}))}},{key:"computeSubRows",value:function computeSubRows(row){var endTime,iAct,act,e,endTimes=[],endTimesCount=0,actCount=row.activities&&row.activities.length||0;for(iAct=0;iAct<actCount;++iAct)if((act=row.activities[iAct]).node){for(e=0;e<endTimesCount&&(endTime=endTimes[e],!(act.start===endTime||act.start>endTime));e++);act.subRowIndex=e,e<endTimesCount?endTimes[e]=act.end:(endTimes.push(act.end),endTimesCount++)}return endTimesCount}}]),ActivityLayout}(core.a.components.ActivityLayout);function linkrenderer_createSuper(Derived){var hasNativeReflectConstruct=function linkrenderer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}core.a.components.ActivityLayout.impl=activitylayout_ActivityLayout;var linkrenderer_NodeLabelLayout=function(){function NodeLabelLayout(){Object(classCallCheck.a)(this,NodeLabelLayout)}return Object(createClass.a)(NodeLabelLayout,[{key:"startLayout",value:function startLayout(act,ctx){}},{key:"getNodeToLabelSpacing",value:function getNodeToLabelSpacing(act,bbox,textWidth,ctx){}}]),NodeLabelLayout}(),linkrenderer_DefaultNodeLabelLayout=function(_NodeLabelLayout){Object(inherits.a)(DefaultNodeLabelLayout,_NodeLabelLayout);var _super=linkrenderer_createSuper(DefaultNodeLabelLayout);function DefaultNodeLabelLayout(left){var _this;return Object(classCallCheck.a)(this,DefaultNodeLabelLayout),(_this=_super.call(this)).left=left,_this}return Object(createClass.a)(DefaultNodeLabelLayout,[{key:"getNodeToLabelSpacing",value:function getNodeToLabelSpacing(act,bbox,textWidth,ctx){return this.left?-ctx.nodeToLinkPadding:ctx.nodeToLinkPadding}}]),DefaultNodeLabelLayout}(linkrenderer_NodeLabelLayout),LinkRendererPrototype={drawLink:function drawLink(object,points,style,parentElt,ctx){if(points.length<2)return null;for(var line,pt,horiz,lastX=points[0].x,lastY=points[0].y,nodes=[],color=this.color?this.color(object,ctx):void 0,css=this.getCSS&&this.getCSS(object,ctx),w=this.lineWidth&&this.lineWidth(object,ctx),i=0;;){if((line=document.createElement("div")).style.position="absolute",line.style.pointerEvents="auto",pt=points[++i],object&&object.id&&(line.id=object.id+"_"+i),horiz=pt.y===lastY,line.className="".concat("constraint-link"," ").concat(horiz?"constraint-horiz-link":"constraint-vert-link"),this.linkOutlineWidth)if(line.className="".concat("constraint-link-ctnr"," ").concat(horiz?"constraint-horiz-link":"constraint-vert-link"),horiz){line.style.height="".concat((w||1)+this.linkOutlineWidth+this.linkOutlineWidth,"px"),line.style.paddingTop=line.style.paddingBottom="".concat(this.linkOutlineWidth,"px"),line.style.top="".concat(lastY-this.linkOutlineWidth,"px"),line.style.left="".concat(Math.min(lastX,pt.x),"px"),line.style.width="".concat(Math.abs(lastX-pt.x)+(i&&lastX>pt.x?w||1:0),"px"),css&&(line.className+=" ".concat(css));var link=document.createElement("div");link.className="".concat("constraint-link"," constraint-horiz-link"),w&&(link.style.height="".concat(w,"px")),link.style.width="100%",line.appendChild(link)}else{line.style.width="".concat((w||1)+this.linkOutlineWidth+this.linkOutlineWidth,"px"),line.style.paddingLeft=line.style.paddingRight="".concat(this.linkOutlineWidth,"px"),line.style.left="".concat(lastX-this.linkOutlineWidth,"px"),line.style.top="".concat(Math.min(lastY,pt.y),"px"),line.style.height="".concat(Math.abs(lastY-pt.y),"px"),css&&(line.className+=" ".concat(css));var _link=document.createElement("div");_link.className="".concat("constraint-link"," constraint-vert-link"),w&&(_link.style.width="".concat(w,"px")),_link.style.height="100%",line.appendChild(_link)}else horiz?(w&&(line.style.height="".concat(w,"px")),line.style.top="".concat(lastY,"px"),line.style.left="".concat(Math.min(lastX,pt.x),"px"),line.style.width="".concat(Math.abs(lastX-pt.x)+(i&&lastX>pt.x?w||1:0),"px"),css&&(line.className+=" ".concat(css))):(w&&(line.style.width="".concat(w,"px")),line.style.left="".concat(lastX,"px"),line.style.top="".concat(Math.min(lastY,pt.y),"px"),line.style.height="".concat(Math.abs(lastY-pt.y),"px"),css&&(line.className+=" ".concat(css)));if(nodes.push(line),parentElt.appendChild(line),i===points.length-1){if(1===style&&horiz){var arrowWidth=this.arrowWidth(object,ctx),arrowHeight=this.arrowHeight(object,ctx);(line=lastX<pt.x?this.drawRightArrow(pt.x,lastY,arrowWidth,arrowHeight,color):this.drawLeftArrow(pt.x,lastY,arrowWidth,arrowHeight,color)).style.pointerEvents="auto",css&&(line.className+=" ".concat(css)),object&&object.id&&(line.id="".concat(object.id+"_","arrow")),nodes.push(line),parentElt.appendChild(line)}return nodes}lastX=pt.x,lastY=pt.y}},drawLeftArrow:function drawLeftArrow(x,y,arrowWidth,arrowHeight,color){var node=document.createElement("div");return node.style.position="absolute",node.className="".concat("constraint-arrow"," constraint-left-arrow"),node.style.left="".concat(x,"px"),node.style.top="".concat(y-(arrowHeight-1),"px"),node.style.width="0",node.style.height="0",node.style.borderTop="".concat(arrowHeight,"px solid transparent"),node.style.borderBottom="".concat(arrowHeight,"px solid transparent"),node.style.borderRightWidth="".concat(arrowWidth,"px"),node.style.borderRightStyle="solid",color&&(node.style.borderRightColor=color),node},drawRightArrow:function drawRightArrow(x,y,arrowWidth,arrowHeight,color){var node=document.createElement("div");return node.style.position="absolute",node.className="".concat("constraint-arrow"," constraint-right-arrow"),node.style.left="".concat(x-arrowWidth,"px"),node.style.top="".concat(y-(arrowHeight-1),"px"),node.style.width="0",node.style.height="0",node.style.borderTop="".concat(arrowHeight,"px solid transparent"),node.style.borderBottom="".concat(arrowHeight,"px solid transparent"),node.style.borderLeftWidth="".concat(arrowWidth,"px"),node.style.borderLeftStyle="solid",color&&(node.style.borderLeftColor=color),node},arrowWidth:function arrowWidth(){return 5},arrowHeight:function arrowHeight(){return 5},getTooltipProperties:function getTooltipProperties(cons,ctx){var type,getName=function getName(act){return act.name||act.id},props=[core.a.utils.getString("gantt.constraintChart.from"),getName(cons.from),core.a.utils.getString("gantt.constraintChart.to"),getName(cons.to),core.a.utils.getString("gantt.constraintChart.type")];return type=cons.type===core.a.constraintTypes.START_TO_START?core.a.utils.getString("gantt.constraintChart.start.start"):cons.type===core.a.constraintTypes.START_TO_END?core.a.utils.getString("gantt.constraintChart.start.end"):cons.type===core.a.constraintTypes.END_TO_END?core.a.utils.getString("gantt.constraintChart.end.end"):core.a.utils.getString("gantt.constraintChart.end.start"),props.push(type),props},processConfiguration:function processConfiguration(selector,config){this.defaultProcessConfiguration(selector,config),config.lineWidth&&this.addLineWidthConfiguration(selector,config.lineWidth),config.arrowWidth&&this.addArrowConfiguration(selector,config.arrowWidth,"arrowWidth"),config.arrowHeight&&this.addArrowConfiguration(selector,config.arrowWidth,"arrowHeight"),config.nodeLabelLayout&&this.addNodeLabelLayoutConfiguration(selector,config.nodeLabelLayout)},setColor:function setColor(elt,color){elt.style.color=color},destroy:function destroy(){},addLineWidthConfiguration:function addLineWidthConfiguration(selector,config){var lineWidth;if("function"==typeof config)lineWidth=config;else if("string"==typeof config){var getter=core.a.utils.propertyEvaluator(config);getter&&(lineWidth=function lineWidth(object,ctx){return getter(object,ctx)})}else lineWidth=function lineWidth(){return config};if(lineWidth){var oldLineWidth=this.lineWidth;this.lineWidth=function(object,ctx){return!selector||selector(object,ctx)?lineWidth(object,ctx):oldLineWidth&&oldLineWidth(object,ctx)}}},addArrowConfiguration:function addArrowConfiguration(selector,config,field){var arrowSize;if("function"==typeof config)arrowSize=config;else if("string"==typeof config){var getter=core.a.utils.propertyEvaluator(config);getter&&(arrowSize=function arrowSize(object,ctx){return getter(object,ctx)})}else arrowSize=function arrowSize(){return config};if(arrowSize){var oldArrowSize=this[field];this[field]=function(object,ctx){return!selector||selector(object,ctx)?arrowSize(object,ctx):oldArrowSize&&oldArrowSize(object,ctx)}}},addNodeLabelLayoutConfiguration:function addNodeLabelLayoutConfiguration(selector,config){var labelLayout;if("string"==typeof config?"left"===config||"LEFT"===config?labelLayout=new linkrenderer_DefaultNodeLabelLayout(!0):"right"!==config&&"RIGHT"!==config||(labelLayout=new linkrenderer_DefaultNodeLabelLayout(!1)):core.a.utils.isFunction(config)?(labelLayout=new linkrenderer_NodeLabelLayout).getNodeToLabelSpacing=config:labelLayout=config,labelLayout){var oldGetLabelLayout=this.getLabelLayout;this.getLabelLayout=function(object,ctx){return!selector||selector(object,ctx)?labelLayout:oldGetLabelLayout&&oldGetLabelLayout(object,ctx)}}}};function constraintlayout_createSuper(Derived){var hasNativeReflectConstruct=function constraintlayout_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var LOCKED=Number.MAX_VALUE,INCOMINGS=new Array(4);INCOMINGS[core.a.constraintTypes.START_TO_START]=0,INCOMINGS[core.a.constraintTypes.START_TO_END]=2,INCOMINGS[core.a.constraintTypes.END_TO_START]=0,INCOMINGS[core.a.constraintTypes.END_TO_END]=2;var OUTGINGS=new Array(4);OUTGINGS[core.a.constraintTypes.START_TO_START]=1,OUTGINGS[core.a.constraintTypes.START_TO_END]=1,OUTGINGS[core.a.constraintTypes.END_TO_START]=3,OUTGINGS[core.a.constraintTypes.END_TO_END]=3;var constraintlayout_Link=function(){function Link(cons){Object(classCallCheck.a)(this,Link),this.ar=[cons],cons.from.consNode.index<cons.to.consNode.index?(this.topNode=cons.from.consNode,this.bottomNode=cons.to.consNode):(this.topNode=cons.to.consNode,this.bottomNode=cons.from.consNode)}return Object(createClass.a)(Link,[{key:"addConstraint",value:function addConstraint(cons){this.ar.push(cons);var rowIndex=cons.from.consNode.index;rowIndex<this.topNode.index?this.topNode=cons.from.consNode:rowIndex>this.bottomNode.index&&(this.bottomNode=cons.from.consNode)}},{key:"topIndex",value:function topIndex(){return this.topNode.index}},{key:"bottomIndex",value:function bottomIndex(){return this.bottomNode.index}},{key:"toNode",value:function toNode(){return this.ar[0].to.consNode}},{key:"switchSides",value:function switchSides(){var type=this.ar[0].type;return type===core.a.constraintTypes.END_TO_START||type===core.a.constraintTypes.START_TO_END}},{key:"isDisplayed",value:function isDisplayed(){for(var i=0;i<this.ar.length;i++)if(!this.ar[i].nodes)return!1;return!0}},{key:"toString",value:function toString(){var s="Link[";return this.ar.length>1?s+="(".concat(this.ar.map((function(cons){return cons.from.consNode.toString()})).join(","),")"):s+=this.ar[0].from.consNode.toString(),s+=" -> ",s+=this.ar[0].to.consNode.toString(),"".concat(s,"]")}},{key:"resetLayout",value:function resetLayout(){this.x=void 0;for(var i=0;i<this.ar.length;i++)this.ar[i].nodes=void 0}}]),Link}();var constraintlayout_Node=function(){function Node(act,index){Object(classCallCheck.a)(this,Node),this.act=act,this.index=index,this.links=[[],[]],this.layoutLinks=0,this.linksDisplayed=0,this.bbox=null,this.incomingLinks=new Array(4),this.connectors=new Array(4),this.nodeLabelLayout=!1;for(var i=0;i<4;i++)this.connectors[i]=0}return Object(createClass.a)(Node,[{key:"addLink",value:function addLink(link,side){for(var l1,l2,i1,i2,ar=this.links[side],i=0,count=ar.length;i<count;i++)if(ar[i],l1=ar[i],l2=link,i1=void 0,i2=void 0,i1=l1.topIndex(),i2=l2.topIndex(),(i1<i2?1:i1>i2?-1:(i1=l1.bottomIndex())<(i2=l2.bottomIndex())?1:i1>i2?-1:0)>=0)return void ar.splice(i,0,link);ar.push(link)}},{key:"getLinks",value:function getLinks(side){return this.links[side]}},{key:"getIncomingLink",value:function getIncomingLink(type){return this.incomingLinks[type]}},{key:"setIncomingLink",value:function setIncomingLink(type,link){this.incomingLinks[type]=link}},{key:"incConnectionCount",value:function incConnectionCount(type){this.connectors[type]++}},{key:"setBBox",value:function setBBox(bbox){this.bbox=bbox}},{key:"hasLinks",value:function hasLinks(){for(var side=0;side<2;side++)if(this.links[side].length)return!0;return!1}},{key:"clearLinks",value:function clearLinks(){this.links=[[],[]],this.connectors=new Array(4),this.bbox=null}},{key:"resetLayout",value:function resetLayout(){for(var side=0;side<2;++side)for(var iLink=0,ar=this.links[side];iLink<ar.length;iLink++)ar[iLink].toNode()===this&&ar[iLink].resetLayout();this.nodeLabelLayout=!1}},{key:"topRight",value:function topRight(){for(var n=this;n.next;)n=n.next;return n}},{key:"toString",value:function toString(){return this.act.name||this.act.id}}]),Node}(),defaultLayoutOptions={horizLinkToNodeDist:11,horizSwitchSideLinkToNodeDist:8,horizLinkToLinkDist:10,switchSideLinkVertMargin:1},constraintlayout_ConstraintLayout=function(_Gantt$components$Con){Object(inherits.a)(ConstraintLayout,_Gantt$components$Con);var _super=constraintlayout_createSuper(ConstraintLayout);function ConstraintLayout(gantt,config){return Object(classCallCheck.a)(this,ConstraintLayout),_super.call(this,gantt,config)}return Object(createClass.a)(ConstraintLayout,[{key:"setConfiguration",value:function setConfiguration(config){core.a.utils.mergeObjects(this,defaultLayoutOptions,config)}},{key:"startInitialize",value:function startInitialize(){this.nodes=[]}},{key:"addNode",value:function addNode(act,index){var node=new constraintlayout_Node(act,index);return node.next=this.nodes[index],this.nodes[index]=node,node}},{key:"addConstraint",value:function addConstraint(from,to,cons){var i,type=cons.type,side=core.a.constraintTypes.isFromStart(cons.type)?0:1,link=to.getIncomingLink(INCOMINGS[type]);if(from.incConnectionCount(OUTGINGS[type]),to.incConnectionCount(INCOMINGS[type]),link){var beforeTop=link.topIndex(),beforeBottom=link.bottomIndex();for(link.addConstraint(cons),i=link.topIndex();i<beforeTop;i++)this.nodes[i].addLink(link,side);for(i=beforeBottom+1;i<=link.bottomIndex();i++)this.nodes[i].addLink(link,side)}else for(to.setIncomingLink(INCOMINGS[type],link=new constraintlayout_Link(cons)),i=link.topIndex();i<=link.bottomIndex();i++)this.nodes[i].addLink(link,side)}},{key:"stopInitialize",value:function stopInitialize(){}},{key:"layoutRowNodeLinks",value:function layoutRowNodeLinks(rowIndex,renderer,ctx){this.reinteringPath=null;for(var consNode=this.nodes[rowIndex];consNode;consNode=consNode.next)this.layoutOneSideNodeLinks(consNode,0),this.layoutOneSideNodeLinks(consNode,1),this.layoutNodeLabel(consNode,renderer,ctx)}},{key:"processConnectors",value:function processConnectors(consNode,bbox){if(consNode.links[0].length||consNode.links[1].length)for(var incoming,outgoing,h=consNode.act.children&&consNode.act.children.length?bbox.height/2:bbox.height,side=0,connectIndex=0;side<2;side++,connectIndex+=2)incoming=consNode.connectors[connectIndex],outgoing=consNode.connectors[connectIndex+1],(incoming||outgoing)&&(incoming&&(consNode.connectors[connectIndex]=bbox.y+bbox.top+h/(outgoing?3:2)),outgoing&&(consNode.connectors[connectIndex+1]=bbox.y+bbox.top+h-h/(incoming?3:2)))}},{key:"layoutOneSideNodeLinks",value:function layoutOneSideNodeLinks(consNode,side,beforeLink){consNode.bbox||(consNode.setBBox(this.getNodeRect(consNode.act,consNode.index)),this.processConnectors(consNode,consNode.bbox));for(var link,left=0===side,nodeLimit=consNode.bbox.x+(left?-this.horizLinkToNodeDist:consNode.bbox.width+this.horizLinkToNodeDist),limit=nodeLimit,i=0,links=consNode.getLinks(side),lastIndex=beforeLink?links.indexOf(beforeLink):links.length;i<lastIndex;i++){if(void 0===(link=links[i]).x){link.x=LOCKED;var x=nodeLimit,skipIndex=void 0;if(link.switchSides()){var toNode=link.toNode();skipIndex=toNode.index,toNode.bbox||(toNode.setBBox(this.getNodeRect(toNode.act,toNode.index)),this.processConnectors(toNode,toNode.bbox))}for(var value,index=link.topIndex(),last=link.bottomIndex();index<=last;index++)if(index!==consNode.index&&index!==skipIndex){if(value=this.layoutOneSideNodeLinks(this.nodes[index],side,link),this.reinteringPath){if(this.reinteringPath="".concat(this.nodes[index].toString()," -> ").concat(link.toString()," -> ").concat(this.reinteringPath),!beforeLink)throw new Error("Re-entering layout on ".concat(left?"left side of ":"right side of ").concat(this.reinteringPath));return left?Number.MAX_VALUE:Number.MIN_VALUE}x=left?Math.min(x,value):Math.max(x,value)}link.x=x,consNode.layoutLinks++}else if(link.x===LOCKED)return this.reinteringPath="".concat(consNode.toString()," -> ").concat(link.toString()),left?Number.MAX_VALUE:Number.MIN_VALUE;limit=left?Math.min(limit,link.x-this.horizLinkToLinkDist):Math.max(limit,link.x+this.horizLinkToLinkDist)}return limit}},{key:"layoutNodeLabel",value:function layoutNodeLabel(consNode,renderer,ctx){var _this=this,label=consNode.act.label;if(label){var labelLayout=renderer.getLabelLayout&&renderer.getLabelLayout(consNode.act,ctx);if(labelLayout){var labelW=label.getTextWidth(),iterLinks=function iterLinks(side){for(var x,link,limit=consNode.bbox.x+(0===side?0:consNode.bbox.width),links=consNode.links[side],lastX=limit,i=0;i<links.length;i++)if((link=links[i]).toNode()!==consNode||!link.switchSides()){if(x=link.x,labelLayout.nextLink(consNode.act,0===side,link.x,lastX,limit,ctx))break;lastX=x}return Math.abs(lastX+(0===side?-1:1)*(i?_this.horizLinkToLinkDist:_this.horizLinkToNodeDist)-limit)};labelLayout.startLayout(consNode.act,labelW,ctx),consNode.hasLinks()&&labelLayout.nextLink&&(iterLinks(1),iterLinks(0));var spacing=labelLayout.getNodeToLabelSpacing(consNode.act,consNode.bbox,labelW,ctx);spacing<0?label.move(!0,-spacing+labelW):label.move(!1,spacing)}}}},{key:"drawLink",value:function drawLink(link,parentElt,renderer,ctx){var cons=link.ar[0],toNode=cons.to.consNode,startLeft=core.a.constraintTypes.isFromStart(cons.type),endLeft=core.a.constraintTypes.isToStart(cons.type),points=new Array(startLeft!==endLeft?6:4);link.nodes=null;for(var fromNode,x,y,iPoint,i=0,count=link.ar.length;i<count;i++)iPoint=0,fromNode=(cons=link.ar[i]).from.consNode,points[iPoint++]={x:startLeft?fromNode.bbox.x:fromNode.bbox.x+fromNode.bbox.width,y:y=fromNode.connectors[OUTGINGS[cons.type]]},points[iPoint++]={x:link.x,y:y},startLeft!==endLeft?(y=fromNode.index<toNode.index?toNode.bbox.y+this.switchSideLinkVertMargin:toNode.bbox.y+toNode.bbox.rowHeight-this.switchSideLinkVertMargin,points[iPoint++]={x:link.x,y:y},x=endLeft?toNode.bbox.x-this.horizSwitchSideLinkToNodeDist:toNode.bbox.x+toNode.bbox.width+this.horizSwitchSideLinkToNodeDist,points[iPoint++]={x:x,y:y},points[iPoint++]={x:x,y:y=toNode.connectors[INCOMINGS[cons.type]]}):points[iPoint++]={x:link.x,y:y=toNode.connectors[INCOMINGS[cons.type]]},points[iPoint++]={x:endLeft?toNode.bbox.x:toNode.bbox.x+toNode.bbox.width,y:y},cons.nodes=renderer.drawLink(cons,points,1,parentElt,ctx)}},{key:"drawRowLinks",value:function drawRowLinks(rowIndex,parentElt,renderer,ctx){for(var side,links,i,count,consNode=this.nodes[rowIndex];consNode;consNode=consNode.next)if(consNode.linksDisplayed!==consNode.links.length)for(side=0;side<2;side++)for(i=0,count=(links=consNode.getLinks(side)).length;i<count;++i)links[i].isDisplayed()||(consNode.linksDisplayed++,this.drawLink(links[i],parentElt,renderer,ctx))}},{key:"clearLinks",value:function clearLinks(){for(var i=0,count=this.nodes?this.nodes.length:0;i<count;i++)for(var node=this.nodes[i];node;node=node.next)node.clearLinks()}},{key:"resetLayout",value:function resetLayout(){for(var i=0,count=this.nodes?this.nodes.length:0;i<count;i++)for(var node=this.nodes[i];node;node=node.next)node.resetLayout()}},{key:"destroy",value:function destroy(){if(this.nodes){for(var i=0,count=this.nodes.length;i<count;i++)this.nodes[i].act&&(this.nodes[i].act.consNode=null);this.nodes=null}}}]),ConstraintLayout}(core.a.components.ConstraintLayout);function constraintgraph_createSuper(Derived){var hasNativeReflectConstruct=function constraintgraph_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}core.a.components.ConstraintLayout.impl=constraintlayout_ConstraintLayout;var constraintgraph_defaultOptions={linkOutlineWidth:2},constraintgraph_ConstraintsGraph=function(_Gantt$components$Con){Object(inherits.a)(ConstraintsGraph,_Gantt$components$Con);var _super=constraintgraph_createSuper(ConstraintsGraph);function ConstraintsGraph(gantt,node,config){return Object(classCallCheck.a)(this,ConstraintsGraph),_super.call(this,gantt,node,core.a.utils.mergeObjects({},constraintgraph_defaultOptions,config))}return Object(createClass.a)(ConstraintsGraph,[{key:"setConfiguration",value:function setConfiguration(config){var _this=this;if(this.destroy(),this.create(),this.ready=Promise.resolve([]),config.layout&&core.a.utils.isFunction(config.layout))this.layout=new config.layout(this.gantt);else{var LayoutClass=core.a.components.ConstraintLayout.impl||core.a.components.ConstraintLayout;this.layout=new LayoutClass(this.gantt,config.layout)}var LinkRendererClass=core.a.components.Renderer.impl||core.a.components.Renderer;this.linkRenderer=new LinkRendererClass(config.renderer,LinkRendererPrototype,this.gantt),config.linkOutlineWidth&&(this.linkRenderer.linkOutlineWidth=config.linkOutlineWidth);var node=this.node;this.node=null,this.setNode(node);var selectionHandler=this.gantt.selection;selectionHandler.on(core.a.events.CONSTRAINT_SELECTION_CLEARED,(function(e,sels){return _this.clearConstraintSelection(sels)})),selectionHandler.on(core.a.events.CONSTRAINT_SELECTED,(function(e,sels){return _this.selectConstraints(sels)})),selectionHandler.on(core.a.events.CONSTRAINT_UNSELECTED,(function(e,sels){return _this.unselectConstraints(sels)}))}},{key:"setNode",value:function setNode(node){var _this2=this;this.node&&(this.gantt.errorHandler.removeGroup(this.node),this.tooltipEnter&&(core.a.utils.removeEventListener(this.node,"mouseenter",this.tooltipEnter),core.a.utils.removeEventListener(this.node,"mouseleave",this.tooltipLeave),core.a.utils.removeEventListener(this.node,"click",this.clickHandler)),this.node.innerHTML=""),this.node=node,node&&(this.tooltipEnter||(this.tooltipEnter=function(evt){var ctNode=_this2.getConstraintNode(evt.target);!ctNode||_this2.gantt.timeTable.isDragAndDropping&&_this2.gantt.timeTable.isDragAndDropping()||_this2.showTooltip(ctNode)},this.tooltipLeave=function(evt){_this2.getConstraintNode(evt.target)&&_this2.tooltipElt===node&&_this2.hideTooltip(1e3)},this.clickHandler=function(e){return _this2.processClick(e)}),core.a.utils.addEventListener(this.node,"mouseenter",this.tooltipEnter,!0),core.a.utils.addEventListener(this.node,"mouseleave",this.tooltipLeave,!0),core.a.utils.addEventListener(this.node,"click",this.clickHandler,!0))}},{key:"create",value:function create(){this.config&&this.config.classes&&core.a.utils.addClass(this.config.classes)}},{key:"setConstraints",value:function setConstraints(cts){var _this3=this;this.cts=cts,cts&&cts.length?this.ready=new Promise((function(resolve){setTimeout((function(){_this3.processConstraints(cts),resolve()}),0)})):this.ready=Promise.resolve([])}},{key:"processConstraints",value:function processConstraints(cts){var row,count,acts,act,i,table=this.gantt.table,activityFilter=this.gantt.timeTable.getActivityFilter();this.layout.startInitialize();try{for(row=table.getFirstVisibleRow();row;row=table.nextRow(row))if(count=(acts=row.activities)&&acts.length)for(i=0;i<count;++i)act=acts[i],(act=!activityFilter||activityFilter.accept(act,row)?act:null)&&(act.consNode=this.layout.addNode(act,row.index));var from,to,cons;for(i=0,count=cts.length;i<count;++i)(cons=cts[i]).nodes=null,from=cons.from.consNode,to=cons.to.consNode,from&&to&&this.layout.addConstraint(from,to,cons)}catch(e){throw this.addError(e,"Error processing constraints"),this.layout.stopInitialize(),e}this.layout.stopInitialize()}},{key:"addError",value:function addError(e,msg){this.errorNode||(this.errorNode=document.createElement("div"),this.errorNode.style.opacity="0.80",this.gantt.timeTablePanel.appendChild(this.errorNode)),this.gantt.errorHandler.addError(e,msg,this.errorNode)}},{key:"destroy",value:function destroy(){this.layout&&this.layout.destroy&&this.layout.destroy(),this.layout=null,this.node&&this.tooltipEnter&&(core.a.utils.removeEventListener(this.node,"mouseenter",this.tooltipEnter),core.a.utils.removeEventListener(this.node,"mouseleave",this.tooltipLeave),this.tooltipEnter=this.tooltipLeave=null)}},{key:"clearCache",value:function clearCache(){if(this.cts)for(var i=0,count=this.cts.length;i<count;++i)this.cts[i].fromNode=null,this.cts[i].toNode=null}},{key:"clear",value:function clear(){this.node.innerHTML="",this.clearCache()}},{key:"clearLinks",value:function clearLinks(){this.layout.clearLinks()}},{key:"resetLayout",value:function resetLayout(){this.layout.resetLayout()}},{key:"draw",value:function draw(rows,drawCB){var _this4=this;return rows.length?this.ready.then((function(){var table=_this4.gantt.table,firstRowIndex=rows[0].row.index,lastRowIndex=rows[rows.length-1].row.index;_this4.layout.getNodeRect=function getNodeRect(act,index){var row,y;if(index<firstRowIndex)for(row=rows[0].row,y=rows[0].y;index<firstRowIndex;)row=table.prevRow(row),drawCB(row),y-=row.activityRow.height,rows.splice(0,0,{y:y,row:row,height:row.activityRow.height,index:--firstRowIndex});else if(index>lastRowIndex)for(y=(row=rows[lastRowIndex]).y+row.height,row=row.row;index>lastRowIndex;)row=table.nextRow(row),drawCB(row),rows.push({y:y,row:row,height:row.activityRow.height,index:++lastRowIndex}),y+=row.activityRow.height;return row=rows[index-firstRowIndex],act.node?{x:act.left,y:row.y,top:Number.parseInt(act.node.style.top,10),width:act.node.offsetWidth,height:act.node.offsetHeight,rowHeight:row.height}:{x:0,y:row.y,top:0,width:0,height:0,rowHeight:row.height}};var i,rowIndex,ctx={gantt:_this4.gantt,nodeToLinkPadding:_this4.layout.horizLinkToNodeDist,linkToLinkPadding:_this4.layout.horizLinkToLinkDist},count=rows.length;try{for(i=0,rowIndex=firstRowIndex;i<count;i++,rowIndex++)_this4.layout.layoutRowNodeLinks(rowIndex,_this4.linkRenderer,ctx)}catch(e){_this4.addError(e)}try{var fragment=document.createDocumentFragment();for(i=0,rowIndex=firstRowIndex;i<count;i++,rowIndex++)_this4.layout.drawRowLinks(rowIndex,fragment,_this4.linkRenderer,ctx);_this4.node.appendChild(fragment)}catch(e){_this4.addError(e,"Error drawing constraints")}})):this.ready}},{key:"getConstraint",value:function getConstraint(node){var index,cons,id=node.id,lastIndex=id.indexOf("_");if(lastIndex>=0){for(;(index=id.indexOf("_",lastIndex+1))>0;)lastIndex=index;id=id.substring(0,lastIndex)}return this.cts.byIds&&(cons=this.cts.byIds[id])?cons:null}},{key:"getConstraintNode",value:function getConstraintNode(elt){for(var node=null;elt&&elt!==this.node;elt=elt.parentNode){if(core.a.utils.hasClass(elt,"constraint-link-ctnr")||core.a.utils.hasClass(elt,"constraint-arrow"))return elt;core.a.utils.hasClass(elt,"constraint-link")&&(node=elt)}return node}},{key:"showTooltip",value:function showTooltip(consNode){var cons,_this5=this;if(consNode&&consNode!==this.tooltipElt&&(cons=this.getConstraint(consNode))){this.tooltipElt=consNode;var ctx={limitElt:this.gantt.getBody(),showDelay:800};this.gantt.tooltip.showTooltip(consNode,ctx,(function(parent){var tooltipCtx={gantt:_this5.gantt};_this5.linkRenderer.getTooltip(parent,cons,tooltipCtx)}))}}},{key:"hideTooltip",value:function hideTooltip(fadingTime){this.tooltipElt=null,this.gantt.tooltip.hideTooltip(fadingTime)}},{key:"processClick",value:function processClick(e){this.hideTooltip();var cons,consNode=this.getConstraintNode(e.target);consNode&&(cons=this.getConstraint(consNode))&&this.gantt.selection.processClick(e,cons)}},{key:"clearConstraintSelection",value:function clearConstraintSelection(sels){for(var nodes,i=0,count=sels.length;i<count;++i)if(nodes=sels[i].nodes)for(var j=0,nodesCount=nodes.length;j<nodesCount;j++)core.a.utils.removeClass(nodes[j],"selected")}},{key:"selectConstraints",value:function selectConstraints(sels){for(var nodes,i=0;i<sels.length;i++)if(nodes=sels[i].nodes)for(var j=0,count=nodes.length;j<count;j++)core.a.utils.addClass(nodes[j],"selected")}},{key:"unselectConstraints",value:function unselectConstraints(sels){for(var nodes,i=0;i<sels.length;i++)if(nodes=sels[i].nodes)for(var j=0,count=nodes.length;j<count;j++)core.a.utils.removeClass(nodes[j],"selected")}}]),ConstraintsGraph}(core.a.components.ConstraintsGraph);core.a.components.ConstraintsGraph.impl=constraintgraph_ConstraintsGraph;__webpack_require__(841),__webpack_require__(842);function timetable_createSuper(Derived){var hasNativeReflectConstruct=function timetable_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var timetable_defaultOptions={bufferPageSize:3},timetable_TimeTable=function(_Gantt$components$Tim){Object(inherits.a)(TimeTable,_Gantt$components$Tim);var _super=timetable_createSuper(TimeTable);function TimeTable(gantt,node,config){var _this;Object(classCallCheck.a)(this,TimeTable),_this=_super.call(this,gantt,node,core.a.utils.mergeObjects({},timetable_defaultOptions,config)),core.a.utils.addEventListener(node,"click",(function(e){return _this.processClick(e)}),!0),core.a.utils.addEventListener(node,"dblclick",(function(e){return _this.processDoubleClick(e)}),!0),core.a.utils.addEventListener(node,"contextmenu",(function(e){return _this.processMouseDown(e)}),!0);var selectionHandler=gantt.selection;return selectionHandler.on(core.a.events.ACTIVITY_SELECTION_CLEARED,(function(e,sels){return _this.clearActivitySelection(sels)})),selectionHandler.on(core.a.events.ACTIVITY_SELECTED,(function(e,sels){return _this.selectActvities(sels)})),selectionHandler.on(core.a.events.ACTIVITY_UNSELECTED,(function(e,sels){return _this.unselectActvities(sels)})),selectionHandler.on(core.a.events.ROW_SELECTED,(function(e,sels){return _this.selectRows(sels)})),selectionHandler.on(core.a.events.ROW_UNSELECTED,(function(e,sels){return _this.unselectRows(sels)})),selectionHandler.on(core.a.events.ROW_SELECTION_CLEARED,(function(e,sels){return _this.unselectRows(sels)})),selectionHandler.on(core.a.events.ROW_SELECTION_CHANGED,(function(e,sels){return _this.rowSelectionChanged(sels)})),_this}return Object(createClass.a)(TimeTable,[{key:"setConfiguration",value:function setConfiguration(config){var _this2=this;this.destroy(),this.create(),this.bufferPageSize=config.bufferPageSize;var RendererClass=core.a.components.Renderer.impl||core.a.components.Renderer;this.activityRenderer=new RendererClass(config.renderer,activityrenderer,this.gantt),this.rowRenderer=config.rows&&config.rows.renderer&&new RendererClass(config.rows.renderer,rowrenderer,this.gantt),this.interactor=this.config.interactor,this.moveInterator=this.interactor&&this.interactor.move,this.mouseHandler=this.interactor&&this.interactor.click;core.a.utils.addEventListener(this.scroller,"scroll",(function onScroll(e){_this2.synchronizeTableTop(e.target.scrollTop)&&e.preventDefault&&e.preventDefault()})),this.moveInterator&&this.initDragAndDrop(),this.initTooltip(),this.events={};var LayoutClass=core.a.components.ActivityLayout.impl||core.a.components.ActivityLayout;this.layout=new LayoutClass(config&&config.layout,null,{gantt:this.gantt})}},{key:"create",value:function create(){var _this3=this;this.scroller=document.createElement("div"),this.scroller.className="time-table-scroller",this.scroller.style.position="absolute",this.scroller.style.height="100%",this.scroller.style.top="0",this.scroller.style.left="0",this.scroller.style.right="0",this.scroller.style.bottom="0",this.scroller.style.overflowX="scroll",this.node.appendChild(this.scroller);var timeTableWidthTester=document.createElement("div");this.getVisibleWidth=function(){return timeTableWidthTester.offsetWidth},timeTableWidthTester.style.width="100%",timeTableWidthTester.style.height=0,this.scroller.appendChild(timeTableWidthTester);var timeTableHeightTester=document.createElement("div");this.getVisibleHeight=function(){return timeTableHeightTester.offsetHeight},timeTableHeightTester.style.width=0,timeTableHeightTester.style.position="absolute",timeTableHeightTester.style.top=0,timeTableHeightTester.style.height="100%",this.scroller.appendChild(timeTableHeightTester),this.body=document.createElement("div"),this.body.style.minHeight="1px",this.body.className="time-table-body",this.scroller.appendChild(this.body),core.a.utils.addEventListener(this.body,"mouseenter",(function(e){var row=_this3.getTimeTableRowNode(e.target);row&&_this3.gantt.highlightRow(row.id.substring("timeTableRow_".length),!0,!0)}),!0),core.a.utils.addEventListener(this.body,"mouseleave",(function(e){var row=_this3.getTimeTableRowNode(e.target);row&&_this3.gantt.highlightRow(row.id.substring("timeTableRow_".length),!1,!0)}),!0)}},{key:"update",value:function update(){this.draw()}},{key:"createUpdates",value:function createUpdates(parent){var _this4=this;return new(core.a.components.GanttUpdates.impl||core.a.components.GanttUpdates)(parent,{applyReload:function applyReload(){_this4.draw()},applyUpdates:function applyUpdates(){parent.containsRowChanges()?(_this4.ctsGraph&&_this4.resetConstraints(),_this4.draw(!0)):_this4.draw()}})}},{key:"renderRow",value:function renderRow(row,ctx){var timeLine=this.gantt.timeLine,actRow={row:row,getX:function getX(date){return timeLine.getXFromMillis(date)},setRowHeight:function setRowHeight(h){this.height=h}},node=document.createElement("div");node.id="timeTableRow_"+row.id;var table=this.gantt.table,oldRowHeight=table.getRowHeight(row),variableLayoutRowHeight=this.layout.allowVariableRowHeight();actRow.tableRowHeight=actRow.height=!variableLayoutRowHeight&&this.activityRenderer.rowHeight&&this.activityRenderer.rowHeight(row)||oldRowHeight,variableLayoutRowHeight||actRow.height===oldRowHeight||(table.setRowHeight(row,actRow.height),actRow.height=oldRowHeight=table.getRowHeight(row)),node.className="".concat(ctx.odd?"".concat("time-table-row"," odd"):"time-table-row"," ").concat("g-unselectable")+(row.classes?" "+row.classes:"")+(row.selected?" selected":""),this.rowRenderer&&this.rowRenderer.draw(row,node,ctx);var rowSpan=document.createElement("div");return rowSpan.innerHTML="".concat(row.index+1),rowSpan.className="row-number",node.appendChild(rowSpan),actRow.rowNode=node,this.activityRenderer.generateRowDecorations&&this.generateRowDecorations(row,node,ctx),this.renderActivities(actRow,ctx),actRow.height!==oldRowHeight&&(table.setRowHeight(row,actRow.height),actRow.height=table.getRowHeight(row)),node.style.height="".concat(actRow.height,"px"),actRow}},{key:"renderActivities",value:function renderActivities(activityRow){var actNodes,iAct,act,actNode,activityFilter=this.getActivityFilter(),activities=activityRow.row.activities,actCount=activities&&activities.length||0;if(activityRow.activities=actNodes=[],actCount){for(iAct=0;iAct<actCount;++iAct)(act=activities[iAct]).node=actNode=(!activityFilter||activityFilter.accept(act,activityRow.row))&&this.renderActivity(act,activityRow.row,activityRow.rowNode)||null,actNode&&(act.id&&(actNode.id=""+activityRow.rowNode.id+act.id),actNodes.push(act),activityRow.rowNode.appendChild(actNode));this.layout.layout(activityRow)}}},{key:"getActivityFilter",value:function getActivityFilter(){var activityFilter=this.gantt.activityFilter;return activityFilter&&!activityFilter.isEmpty()?activityFilter:null}},{key:"renderActivity",value:function renderActivity(act,row,timeTableRowNode){return this.activityRenderer.draw(act,timeTableRowNode,row)}},{key:"getX",value:function getX(date){return this.gantt.timeLine.getXFromMillis(date)}},{key:"draw",value:function draw(forceRedraw){var _this5=this;this.container&&(this.body.removeChild(this.container),this.container=null),this.ctsGraph&&forceRedraw&&this.resetConstraints();var top=this.scroller.scrollTop;this.lastRepaintY=top,top<0&&(top=0);var table=this.gantt.table;(top-=Math.abs((this.bufferPageSize-1)/2*this.scroller.clientHeight))<0&&(top=0);var timeLine=this.gantt.timeLine,ctx={getX:function getX(millis){timeLine.getXFromMillis(millis)},horiz:this.gantt.timeLine.getScrollableHorizon(),gantt:this.gantt};!this.activityRenderer.generateDecorations||!forceRedraw&&this.backgroundCtnr||this.generateGlobalDecorations(ctx);var row=table.getRowAt(top);if(row&&row.getData()){top=table.getRowTop(row);var activityRow,ctsRows=this.ctsGraph?[]:null,firstRowIndex=row.index,maxBufferHeight=top+this.bufferPageSize*this.scroller.clientHeight,yFinal=Math.min(maxBufferHeight,table.getHeight()),variableHeightLayout=this.layout.allowVariableRowHeight()||this.activityRenderer.rowHeight;for(ctx.odd=row.index%2==0,this.container=this.createContainer(top);row&&top<yFinal;)activityRow=row.activityRow,!forceRedraw&&activityRow&&activityRow.rowNode||(row.activityRow=activityRow=this.renderRow(row,ctx)),this.container.appendChild(activityRow.rowNode),ctsRows&&ctsRows.push({y:top,height:activityRow.height,row:row}),top+=activityRow.height,variableHeightLayout&&(yFinal=Math.min(maxBufferHeight,table.getHeight())),ctx.odd=!ctx.odd,row=table.nextRow(row);if(this.ctsGraph&&this.ctsGraph.node?this.body.insertBefore(this.container,this.ctsGraph.node):this.body.appendChild(this.container),variableHeightLayout&&this.gantt.updateScrollerHeight(),this.ctsGraph){var updateScrolls=!1;this.ctsGraph.draw(ctsRows,(function(row){activityRow=row.activityRow,!forceRedraw&&activityRow&&activityRow.rowNode||(row.activityRow=activityRow=_this5.renderRow(row,ctx)),row.index>firstRowIndex&&(_this5.container.appendChild(activityRow.rowNode),updateScrolls=!0)})).then((function(){updateScrolls&&_this5.gantt.updateScrollerHeight()}))}}this._ready=!0}},{key:"drawRows",value:function drawRows(){this.draw(!0)}},{key:"createContainer",value:function createContainer(y){var c=document.createElement("div");return c.className="time-table-row-container",c.style.width="".concat(this.getBodyWidth(),"px"),c.style.overflow="none",c.style.position="absolute",c.style.padding=0,c.style.border="none",c.style.top="".concat(y,"px"),c.style.left=0,c}},{key:"on",value:function on(event,handler){event===core.a.events.TIME_TABLE_INIT&&(this._ready?handler.call(this):Object(get.a)(Object(getPrototypeOf.a)(TimeTable.prototype),"on",this).call(this,this,core.a.events.TIME_TABLE_INIT,handler))}},{key:"onResize",value:function onResize(){this.draw(!1)}},{key:"getActivityNode",value:function getActivityNode(elt){for(;elt&&elt!==this.body;elt=elt.parentNode)if(TimeTable.isActivityNode(elt))return elt;return null}},{key:"getActivity",value:function getActivity(activityElt){var tr=this.getTimeTableRowNode(activityElt);if(tr){var row=this.getRow(tr.id.substring("timeTableRow_".length)),activities=row&&row.activityRow&&row.activityRow.activities;if(activities)for(var iAct=0;iAct<activities.length;iAct++)if(activities[iAct].node===activityElt)return activities[iAct]}return null}},{key:"getTimeTableRowNode",value:function getTimeTableRowNode(activityNode){for(var tr=activityNode;tr!==this.body;tr=tr.parentNode)if(core.a.utils.hasClass(tr,"time-table-row"))return tr;return null}},{key:"getActivityRow",value:function getActivityRow(activity){var tr;for(tr=(activity.node&&activity.start&&activity.node||activity).parentNode;tr!==this.body&&!this.utils.hasClass(tr,"time-table-row");tr=tr.parentNode);return tr&&this.getRow(tr.id.substring("timeTableRow_".length))}},{key:"getRow",value:function getRow(id){return this.gantt.table.getRow(id)}},{key:"scrollToRow",value:function scrollToRow(row){var y=this.gantt.table.getRowTop(row),top=this.scroller.scrollTop;if(y<top||y>top+this.getVisibleHeight())this.scrollToY(y);else{var rowHeight=this.gantt.getRowHeight(row);top+this.getVisibleHeight()<y+rowHeight&&this.scrollToY(y)}}},{key:"setFirstVisibleRow",value:function setFirstVisibleRow(row){var y=this.gantt.table.getRowTop(row);this.scrollToY(y)}},{key:"scrollToY",value:function scrollToY(y){this.scroller.scrollTop=y,this.synchronizeTableTop(y)}},{key:"setScrollTop",value:function setScrollTop(y){this.scroller.scrollTop=y}},{key:"getScrollTop",value:function getScrollTop(){return this.scroller.scrollTop}},{key:"synchronizeTableTop",value:function synchronizeTableTop(top){var table=this.gantt.table&&this.gantt.table.getScrollableTable();if(table){table.scrollTop=top;var scrollTop=table.scrollTop;return(void 0===this.lastRepaintY||Math.abs(scrollTop-this.lastRepaintY)>this.scroller.clientHeight)&&this.draw(),!0}return!1}},{key:"highlightActivity",value:function highlightActivity(act,highlight,deSelectAll){if(deSelectAll&&(!act||!core.a.utils.hasClass(act,"highlight"))){var highlightActs=this.body.querySelectorAll(".".concat("time-table-activity",".").concat("highlight"));if(highlightActs&&highlightActs.length)for(var i=0;i<highlightActs.length;i++)core.a.utils.removeClass(highlightActs[i],"highlight")}act&&core.a.utils.toggleClass(act,"highlight",highlight)}},{key:"highlightRow",value:function highlightRow(row,highlight,deSelectAll){if(deSelectAll){var highlightRows=this.body.querySelectorAll(".".concat("time-table-row",".").concat("highlight"));if(highlightRows&&highlightRows.length)for(var i=0;i<highlightRows.length;i++)core.a.utils.removeClass(highlightRows[i],"highlight")}row&&row.activityRow&&row.activityRow.rowNode&&core.a.utils.toggleClass(row.activityRow.rowNode,"highlight",highlight)}},{key:"getDisplayedActivitiesTimeRange",value:function getDisplayedActivitiesTimeRange(){var top=this.scroller.scrollTop;top<0&&(top=0);var table=this.gantt.table,row=table.getRowAt(top);if(!row||!row.getData())return null;top=table.getRowTop(row);for(var minDate,activities,act,iAct,start,end,actCount,yFinal=Math.min(top+this.scroller.clientHeight,table.getHeight()),activityFilter=this.getActivityFilter(),maxDate=0;row&&top<yFinal;){if(top+=row.tr.offsetHeight,actCount=(activities=row.activityRow&&row.activityRow.activities)&&activities.length)for(iAct=0;iAct<actCount;++iAct)act=activities[iAct],activityFilter&&!activityFilter.accept(act,row)||(start=act.start,end=act.end,minDate?(minDate>start&&(minDate=start),maxDate<end&&(maxDate=end)):(minDate=start,maxDate=end));row=table.nextRow(row)}return minDate&&{start:minDate,end:maxDate}}},{key:"getScrollLeft",value:function getScrollLeft(){return this.scroller.scrollLeft}},{key:"setScrollLeft",value:function setScrollLeft(x){this.scroller.scrollLeft=x}},{key:"getScroller",value:function getScroller(){return this.scroller}},{key:"getRightMargin",value:function getRightMargin(){return this.scroller.offsetWidth-this.getVisibleWidth()}},{key:"getBottomMargin",value:function getBottomMargin(){return this.scroller.offsetHeight-this.getVisibleHeight()}},{key:"setBodyWidth",value:function setBodyWidth(w){this.body.style.width="".concat(w,"px")}},{key:"getBodyWidth",value:function getBodyWidth(){return this.body.offsetWidth}},{key:"setBodyHeight",value:function setBodyHeight(h){this.body.style.height="".concat(h,"px")}},{key:"getBodyHeight",value:function getBodyHeight(){return core.a.utils.getHeight(this.scroller)}},{key:"initTooltip",value:function initTooltip(){var timeTable=this,resGantt=this.gantt.isResourceGantt();this.gantt.tooltip.installTooltip({container:this.body,getTooltipDisplayContainer:function getTooltipDisplayContainer(){return timeTable.gantt.getBody()},getTooltipElement:function getTooltipElement(node){return timeTable.getActivityNode(node)},getTooltipData:function getTooltipData(actNode){return timeTable.getActivity(actNode)},renderTooltip:function renderTooltip(actNode,act,tooltipCtnr){act&&(resGantt&&act.row||act)&&timeTable.activityRenderer.getTooltip(tooltipCtnr,act,act.row)},enteringTooltipElement:function enteringTooltipElement(actNode,act){return!timeTable.isDragAndDropping()&&(actNode&&timeTable.highlightActivity(actNode,!0,!0),!0)},leavingTooltipElement:function leavingTooltipElement(actNode,act){actNode&&timeTable.highlightActivity(actNode,!1,!0)}})}},{key:"hideTooltip",value:function hideTooltip(){this.gantt.tooltip.hideTooltip(0)}},{key:"searchActivities",value:function searchActivities(row,filter){var _this6=this,activities=row.activities,actCount=activities&&activities.length;if(actCount)for(var filterFct="string"==typeof filter&&function(act,object,filter){return _this6.activityRenderer.filter(act,row,filter)}||filter,iAct=0;iAct<actCount;++iAct)if(filterFct(activities[iAct],row,filter))return!0;return!1}},{key:"initDragAndDrop",value:function initDragAndDrop(){var node=this.body,timeTable=this;this.dragDropHandler=new dragdrop_DragDropHandler(node),this.dragDropHandler.addHandler({startMove:function startMove(target,initOffsetX,initOffsetY){var actNode=timeTable.getActivityNode(target);return!!actNode&&(this.activity=timeTable.getActivity(actNode),null===this.activity?(console.log("null activity!"),!1):(this.initActivityRow=timeTable.getTimeTableRowNode(actNode),this.row=this.initRow=timeTable.getRow(this.initActivityRow.id.substring("timeTableRow_".length)),this.initTimeTablePos=timeTable.gantt.getTimeTableCoordinates(target,{x:initOffsetX,y:initOffsetY}),this.initScrollLeft=node.scrollLeft,this.initScrollTop=node.scrollTop,this.timeLineItem={start:new Date(this.activity.start),type:"box"},this.timeLineItem.context={start:this.timeLineItem.start.format(),startRow:this.initRow.name},timeTable.hideTooltip(),timeTable.gantt.highlightRow(this.row,!0,!0),timeTable.startDraggingActivity(this),actNode))},move:function move(pos){pos.y=void 0;var scrollDiffX=node.scrollLeft-this.initScrollLeft;scrollDiffX&&(pos.dx+=scrollDiffX,pos.x+=scrollDiffX);var scrollDiffY=node.scrollTop-this.initScrollTop;scrollDiffY&&(pos.dy+=scrollDiffY);var preRow=this.row,newRow=timeTable.gantt.table.getRowAt(this.initTimeTablePos.y+pos.dy,preRow);return this.currentTime=new Date(timeTable.gantt.timeLine.getTimeAt(pos.x)),!!newRow&&(this.row=newRow,preRow.id!==newRow.id&&this.initRow.id!==preRow.id&&timeTable.gantt.highlightRow(preRow,!1),preRow.id!==newRow.id&&(this.initRow.id!==preRow.id&&timeTable.gantt.highlightRow(preRow,!1),this.initRow.id!==newRow.id&&timeTable.gantt.highlightRow(newRow,!0),newRow.activityRow&&newRow.activityRow.rowNode.appendChild(timeTable.dragDropHandler.draggedObject)),this.row.id!==this.initRow.id?timeTable.acceptActivityRowChange(this):timeTable.acceptActivityMove(this))},moved:function moved(){this.updateTimeLineItem()},restoreInitPosition:function restoreInitPosition(){this.row&&this.initRow.id!==this.row.id&&(timeTable.gantt.highlightRow(this.row,!1),this.row=this.initRow),node.scrollTop=this.initTop},stopMove:function stopMove(){timeTable.stopDraggingActivity(this),timeTable.gantt.timeLine.removeTimeLineItem("dragg-item"),this.row&&timeTable.gantt.highlightRow(this.row,!0,!0)},applyMove:function applyMove(){timeTable.applyActivityMove(this)},cancel:function cancel(){timeTable.abortActivityMove()},updateTimeLineItem:function updateTimeLineItem(){timeTable.gantt.timeLine.setTimeLineItem("dragg-item",this.createDragTimeLineItem())},createDragTimeLineItem:function createDragTimeLineItem(){var item=this.timeLineItem,changeRow=this.row.id!==this.initRow.id;return item.className="".concat("dragg-item"," ").concat(timeTable.dragDropHandler.invalid?"dragg-invalid":"dragg-valid"),item.context.current=this.currentTime.format(),item.start=this.currentTime,item.context.title=core.a.utils.formatString(changeRow?"Gantt.ChangeActivityRow":"Gantt.MoveActivity",this.activity),changeRow&&(item.context.currentRow=this.row.name),item.content=core.a.utils.formatString(changeRow?"timeLine.changeRowItem.fmt":"timeLine.newTimeItem.fmt",item.context),item}}),this.dragDropHandler.addEventListener(node,"mousedown",this.dragDropHandler.startDragMouse,!0)}},{key:"startDraggingActivity",value:function startDraggingActivity(actParam){this.moveInterator&&this.moveInterator.startMove&&this.moveInterator.startMove(actParam)}},{key:"acceptActivityRowChange",value:function acceptActivityRowChange(actParam){return!this.moveInterator||!this.moveInterator.acceptRowChange||this.moveInterator.acceptRowChange(actParam)}},{key:"acceptActivityMove",value:function acceptActivityMove(actParam){return!this.moveInterator||!this.moveInterator.acceptMove||this.moveInterator.acceptMove(actParam)}},{key:"abortActivityMove",value:function abortActivityMove(actParam){return!this.moveInterator||!this.moveInterator.abortMove||this.moveInterator.abortMove(actParam)}},{key:"applyActivityMove",value:function applyActivityMove(actParam){return!this.moveInterator||!this.moveInterator.applyMove||this.moveInterator.applyMove(actParam)}},{key:"stopDraggingActivity",value:function stopDraggingActivity(actParam){return!this.moveInterator||!this.moveInterator.stopMove||this.moveInterator.stopMove(actParam)}},{key:"isDragAndDropping",value:function isDragAndDropping(){return this.dragDropHandler&&this.dragDropHandler.draggedObject}},{key:"processClick",value:function processClick(e){var _this7=this;this.hideTooltip(),this.processMouseEvent(e,(function(e,row,date){_this7.gantt.highlightRow(row,!0,!0),_this7.gantt.selection.processClick(e,row),_this7.mouseHandler&&_this7.mouseHandler.rowClicked&&_this7.mouseHandler.rowClicked(e,row,date)}),(function(e,activity,date,row){_this7.gantt.selection.processClick(e,activity),_this7.mouseHandler&&_this7.mouseHandler.activityClicked&&_this7.mouseHandler.activityClicked(e,activity,date,row)}))}},{key:"processMouseEvent",value:function processMouseEvent(e,rowCB,activityCB){var coord=this.gantt.getTimeTableCoordinates(e.target,{x:event.offsetX,y:event.offsetY}),date=new Date(this.gantt.timeLine.getTimeAt(coord.x));if(e.target&&core.a.utils.hasClass(e.target,"time-table-row")){var row=this.getRow(e.target.id.substring("timeTableRow_".length));row&&(this.gantt.highlightRow(row,!0,!0),rowCB&&rowCB(e,row,date),this.gantt.selection.processClick(e,row))}else{var actNode=core.a.utils.closest(e.target,".".concat("time-table-activity")),act=actNode&&this.getActivity(actNode);if(act){var _row=act.row;if(!_row){var rowNode=core.a.utils.closest(e.target,".".concat("time-table-row"));_row=this.getRow(rowNode.id.substring("timeTableRow_".length))}_row&&this.gantt.highlightRow(_row,!0,!0),activityCB&&activityCB(e,act,date,_row)}}}},{key:"processDoubleClick",value:function processDoubleClick(e){var _this8=this;this.hideTooltip(),this.processMouseEvent(e,(function(e,row,date){_this8.mouseHandler&&_this8.mouseHandler.rowDoubleClicked&&row&&_this8.mouseHandler.rowDoubleClicked(e,row,date)}),(function(e,activity,date,row){_this8.mouseHandler&&_this8.mouseHandler.activityDoubleClicked&&_this8.mouseHandler.activityDoubleClicked(e,activity,date,row)}))}},{key:"processMouseDown",value:function processMouseDown(e){var _this9=this;if(this.hideTooltip(),3===e.which)return this.processMouseEvent(e,(function(e,row,date){_this9.mouseHandler&&_this9.mouseHandler.rowRightClicked&&row&&_this9.mouseHandler.rowRightClicked(e,row,date)}),(function(e,activity,date,row){_this9.mouseHandler&&_this9.mouseHandler.activityRightClicked&&_this9.mouseHandler.activityRightClicked(e,activity,date,row)})),e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),!1}},{key:"clearActivitySelection",value:function clearActivitySelection(sels){for(var sel,i=0,count=sels.length;i<count;++i)(sel=sels[i]).node&&core.a.utils.removeClass(sel.node,"selected")}},{key:"selectActvities",value:function selectActvities(sels){for(var node,i=0;i<sels.length;i++)(node=sels[i].node)&&core.a.utils.addClass(node,"selected")}},{key:"unselectActvities",value:function unselectActvities(sels){for(var node,i=0;i<sels.length;i++)(node=sels[i].node)&&core.a.utils.removeClass(node,"selected")}},{key:"selectRows",value:function selectRows(rows){for(var node,i=0;i<rows.length;i++)(node=rows[i].activityRow)&&(node=node.rowNode)&&core.a.utils.addClass(node,"selected")}},{key:"unselectRows",value:function unselectRows(rows){for(var node,i=0;i<rows.length;i++)(node=rows[i].activityRow)&&(node=node.rowNode)&&core.a.utils.removeClass(node,"selected")}},{key:"rowSelectionChanged",value:function rowSelectionChanged(){this.draw()}},{key:"generateGlobalDecorations",value:function generateGlobalDecorations(ctx){var decoContainer=this.gantt.timeLine.getDecorationContainer();if(decoContainer){if(this.backgroundCtnr&&(decoContainer.removeChild(this.backgroundCtnr),this.backgroundCtnr=null),this.activityRenderer.generateDecorations){var ctnr=document.createElement("div");ctnr.className="time-table-decoration-ctnr decoration-background-ctnr",ctnr.style.position="absolute",ctnr.style.left=0,ctnr.style.top=0,ctnr.style.bottom=0,ctnr.style.width="100%",ctnr.style.height="100%";for(var obj,objs=this.activityRenderer.generateDecorations(ctx.horiz.start,ctx.horiz.end,ctx),i=0,count=objs?objs.length:0;i<count;++i)obj=objs[i],this.addDecoration(obj,ctnr);ctnr.firstChild&&decoContainer.appendChild(this.backgroundCtnr=ctnr)}}else console.warn("No decoration container found in time line")}},{key:"generateRowDecorations",value:function generateRowDecorations(row,rowNode,ctx){for(var obj,objs=this.activityRenderer.generateRowDecorations(row,ctx.horiz.start,ctx.horiz.end,ctx),i=0,count=objs?objs.length:0;i<count;++i)obj=objs[i],this.addDecoration(obj,rowNode).style.zIndex=obj.foreground?1:-1}},{key:"addDecoration",value:function addDecoration(obj,ctnr){var node;obj.create?node=obj.create():(node=document.createElement("div"),obj.type?"invalid"===obj.type?node.className="time-table-invalid":"break"===obj.type&&(node.className="time-table-break"):node.className="time-table-break",node.display="inline-block"),obj.className&&core.a.utils.addClass(node,obj.className),node.style.position="absolute",obj.background&&(node.style.background=obj.background),(obj.color||obj.foreground)&&(node.style.color=obj.color||obj.foreground);var left=this.gantt.timeLine.getXFromMillis(obj.start);return node.style.left="".concat(left,"px"),node.style.width=this.gantt.timeLine.getXFromMillis(obj.end)-left,node.style.top="1px",node.style.bottom="1px",ctnr.appendChild(node),node}},{key:"createConstraintGrapherNode",value:function createConstraintGrapherNode(){this.ctsGraph&&this.ctsGraph.node&&this.body.removeChild(this.ctsGraph.node);var ctsNode=document.createElement("div");return ctsNode.className="constraints-grapher",ctsNode.style.height="100%",ctsNode.style.width="100%",ctsNode.style.position="relative",ctsNode.style.pointerEvents="none",ctsNode}},{key:"setConstraints",value:function setConstraints(constraints){if(this.constraints=constraints,constraints&&constraints.length){if(!this.ctsGraph){var ctsNode=this.createConstraintGrapherNode();this.ctsGraph=new(core.a.components.ConstraintsGraph.impl||core.a.components.ConstraintsGraph)(this.gantt,ctsNode,this.gantt.config&&this.gantt.config.constraints),this.body.appendChild(ctsNode)}this.ctsGraph.setConstraints(constraints)}else this.ctsGraph&&(this.ctsGraph.node&&this.body.removeChild(this.ctsGraph.node),this.ctsGraph.destroy&&this.ctsGraph.destroy(),this.ctsGraph=null)}},{key:"resetConstraints",value:function resetConstraints(){var ctsNode=this.createConstraintGrapherNode();this.ctsGraph.setNode(ctsNode),this.ctsGraph.setConstraints(this.constraints),this.body.appendChild(ctsNode)}},{key:"destroy",value:function destroy(){this.backgroundCtnr&&(this.node.removeChild(this.backgroundCtnr),this.backgroundCtnr=null),this.foregroundCtnr&&(this.node.removeChild(this.foregroundCtnr),this.foregroundCtnr=null),this.activityRenderer&&(this.activityRenderer.destroy(),this.activityRenderer=null),this.ctsGraph&&(this.ctsGraph.destroy(),this.ctsGraph=null)}}],[{key:"isActivityNode",value:function isActivityNode(elt){return core.a.utils.hasClass(elt,"time-table-activity")}}]),TimeTable}(core.a.components.TimeTable);core.a.components.TimeTable.impl=timetable_TimeTable},235:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return RESOURCE_LOAD_CLASS})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Block}));var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),RESOURCE_LOAD_CLASS="resource-load",Block=function(){function Block(start,end,prev,next){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Block),this.start=start,this.end=end,this.prev=prev,this.next=next,this.resNodes=[]}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Block,[{key:"addResource",value:function addResource(resNode){this.resNodes.push(resNode)}},{key:"insertBefore",value:function insertBefore(start,end,resNode){var block=new Block(start,end,this.prev,this);return this.prev.next=block,this.prev=block,resNode&&block.addResource(resNode),block}},{key:"insertAfter",value:function insertAfter(start,end,resNode){if(this.next)return this.next.insert(start,end,resNode);var block=new Block(start,end,this,null);return this.next=block,resNode&&block.addResource(resNode),block}},{key:"insert",value:function insert(start,end,resNode){var block;if(start>=this.end)return this.insertAfter(start,end,resNode);if(start<this.start){if(this.insertBefore(start,Math.min(this.start,end),resNode),end<=this.start)return;start=this.start}return start>this.start&&(this.insertBefore(this.start,start).resNodes=[].concat(this.resNodes),this.start=start),end<this.end?((block=this.insertBefore(this.start,end)).resNodes=this.resNodes.concat([resNode]),this.start=end,block):(this.resNodes.push(resNode),end>this.end?this.insertAfter(this.end,end,resNode):this)}},{key:"computeMax",value:function computeMax(useMaxLoad){var max=0,usedRes=[];return this.resNodes.forEach((function(node){useMaxLoad?usedRes.indexOf(node.resource)<0&&(usedRes.push(node.resource),max+=node.maxLoad):max+=node.load})),this.max=max,Math.max(max,this.next?this.next.computeMax(useMaxLoad):0)}},{key:"createVisItem",value:function createVisItem(ctx){if(!this.resNodes.length)return null;var tpl='<div style="display: flex; flex-direction: column-reverse; height: 100%" class="load-resource-bar">',closing="</div>",max=ctx.max,height=ctx.plotAreaHeight;ctx.useMaxLoad&&this.max&&(tpl+='<div style="display: flex; flex-direction: column-reverse; height: '+Math.round(height=height*this.max/max)+'px;" class="max-load">',max=this.max,closing="</div>"+closing);for(var res,i=0;i<this.resNodes.length;i++)res=this.resNodes[i],tpl+='<div style="background-color: '+ctx.chartRenderer.background(res.resource,res.activity)+"; height: "+Math.round(height*res.load/max)+'px;" data-res-name="'+res.resource.name+'" data-act-name="'+(res.activity.name||"")+'" data-res-load="'+res.load+'"'+(res.maxLoad?' data-max-load="'+res.maxLoad+'"':"")+' class="'+RESOURCE_LOAD_CLASS+'"></div>';return tpl+=closing,{start:this.start,end:this.end,type:"background",content:tpl}}},{key:"toString",value:function toString(){var s;return this.start?(s="[ start: "+new Date(this.start).toLocaleDateString()+" - end: "+new Date(this.end).toLocaleDateString()+"(",s+=this.resNodes.join(", "),s+=")]"):s="",s+(this.next?"\n     "+this.next.toString():"")}}]),Block}()},24:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(829);var _index_jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(352);__webpack_require__.d(__webpack_exports__,"a",(function(){return _index_jquery__WEBPACK_IMPORTED_MODULE_1__.a}))},352:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var _gantt__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(165);__webpack_require__(843),__webpack_require__(844),__webpack_require__(861),__webpack_require__(862),__webpack_require__(860);"undefined"!=typeof window&&(window.Gantt=_gantt__WEBPACK_IMPORTED_MODULE_0__.a),_gantt__WEBPACK_IMPORTED_MODULE_0__.a.version="0.5.9";try{console.log("[LOADED] ".concat("ibm-gantt-chart-docs","@").concat("0.5.9"," (jquery@").concat($().jquery,", datatables.net@").concat($().DataTable.version,")"))}catch(error){}__webpack_exports__.a=_gantt__WEBPACK_IMPORTED_MODULE_0__.a}).call(this,__webpack_require__(7))},353:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),vis__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(163),vis__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(vis__WEBPACK_IMPORTED_MODULE_5__),_core_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),_block__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(235);__webpack_require__(835);function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.a)(this,result)}}function ResNode(resource,activity,load,maxLoad){this.resource=resource,this.activity=activity,this.load=load,this.maxLoad=maxLoad}ResNode.prototype.toString=function(){return this.resource.name+" - "+this.activity.name};var LoadResourceChart=function(_Gantt$components$Loa){Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(LoadResourceChart,_Gantt$components$Loa);var _super=_createSuper(LoadResourceChart);function LoadResourceChart(){return Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,LoadResourceChart),_super.apply(this,arguments)}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(LoadResourceChart,[{key:"setConfiguration",value:function setConfiguration(config){var headerContent;(config.classes&&_core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.addClass(this.node,config.classes),this.header=document.createElement("div"),this.header.className="load-resource-chart-header",config.header)&&(_core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.isFunction(config.header)?headerContent=config.header(this.header):_core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.isDomElement(config.header)?headerContent=config.header:(headerContent=document.createElement("h3")).appendChild(document.createTextNode(config.header)),headerContent&&this.header.appendChild(headerContent));this.node.appendChild(this.header),this.body=document.createElement("div"),this.body.className="load-resource-chart-body",this.body.style.position="relative",config.height?_core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.isFunction(config.height)?this.body.style.height=config.height()+"px":_core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.isString(config.height)?this.body.style.height=config.height:this.body.style.height=config.height+"px":this.body.style.height="100%",this.node.appendChild(this.body),this.leftPanel=document.createElement("div"),this.leftPanel.className="load-resource-chart-left",this.leftPanel.style.position="absolute",this.leftPanel.style.left="0",this.leftPanel.style.top="0",this.leftPanel.style.bottom="0",this.legendPanel=document.createElement("div"),this.legendPanel.className="legend-panel empty-legend",this.legendPanel.style.position="absolute",this.legendPanel.style.bottom="0",this.legendPanel.style.overflowY="auto",this.leftPanel.appendChild(this.legendPanel),this.yAxisPanel=document.createElement("div"),this.yAxisPanel.className="y-axis-ctnr",this.yAxisPanel.style.position="absolute",this.yAxisPanel.style.right=0,this.yAxisPanel.style.top="0",this.yAxis=document.createElement("div"),this.yAxis.className="y-axis"+(config&&config.yAxis&&config.yAxis.className?" "+config.yAxis.className:""),this.yAxis.style.position="absolute",this.yAxis.style.overflow="visible",this.yAxis.style.right=0,this.yAxis.style.top="0",this.yAxisPanel.appendChild(this.yAxis),this.leftPanel.appendChild(this.yAxisPanel),this.body.appendChild(this.leftPanel),this.timeLineScrollerElt=document.createElement("div"),this.timeLineScrollerElt.className="load-resource-chart-scroller",this.timeLineScrollerElt.style.position="absolute",this.timeLineScrollerElt.style.top="0",this.timeLineScrollerElt.style.bottom="0",this.timeLineScrollerElt.style.right="0",this.timeLineScrollerElt.style.overflow="hidden",this.body.appendChild(this.timeLineScrollerElt),this.noSelectionElt=document.createElement("div"),this.noSelectionElt.className="no-selection",this.noSelectionElt.style.position="absolute",this.noSelectionElt.style.left="0",this.noSelectionElt.style.top="0",this.noSelectionElt.style.bottom="0",this.noSelectionElt.style.right="0",this.noSelectionElt.style.overflow="hidden",this.noSelectionElt.style.display="flex",this.noSelectionElt.style.alignItems="center",this.noSelectionElt.style.justifyContent="center",this.noSelectionElt.style.zIndex="1";var noSelMsg=document.createElement("div");function createGetter(config){return _core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.isFunction(config)?config:_core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.isString(config)?_core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.propertyEvaluator(config):function(){return config}}noSelMsg.className="no-selection-message",noSelMsg.appendChild(document.createTextNode(_core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.getString("gantt.loadResourceChart.noSelection.title"))),this.noSelectionElt.appendChild(noSelMsg),this.body.appendChild(this.noSelectionElt),this.resourceMaxLoad=config.maxLoad&&createGetter(config.maxLoad),this.resourceActivityLoad=config.load&&createGetter(config.load)||function(){return 1};var loadChart=this,RendererClass=_core_core__WEBPACK_IMPORTED_MODULE_6__.a.components.Renderer.impl||_core_core__WEBPACK_IMPORTED_MODULE_6__.a.components.Renderer;this.chartRenderer=new RendererClass({},{background:function background(res){return loadChart.resourceRenderer.background(res)},getTooltipProperties:function getTooltipProperties(info){var props=["Resource",info.resourceName,"Activity",info.activityName,"Load",info.resourceLoad];return info.resourceMaxLoad&&props.push("Maximum load",info.resourceMaxLoad),props}},this.gantt),this.initTooltips()}},{key:"setVisible",value:function setVisible(visible){}},{key:"setTimeLineBounds",value:function setTimeLineBounds(bounds){this.timeLineScrollerElt.style.left=bounds.x+"px",this.timeLineScrollerElt.style.width=bounds.width+"px",this.leftPanel.style.width=bounds.x+"px",this.timeLineElt&&(this.updatePlottingArea(),this.drawCharts())}},{key:"setTimeLineWidth",value:function setTimeLineWidth(w){this.timeLineElt&&(this.timeLineElt.style.width=w+"px")}},{key:"setTimeLineScrollLeft",value:function setTimeLineScrollLeft(left){this.timeLineScrollerElt.scrollLeft=left}},{key:"getTimeLineNode",value:function getTimeLineNode(){return this.timeLineScrollerElt}},{key:"setTimeWindow",value:function setTimeWindow(start,end,onInit){var _this=this;this.timeLineElt&&this.timeLineScrollerElt.removeChild(this.timeLineElt),this.timeLineElt=document.createElement("div"),this.timeLineElt.style.width=this.gantt.timeLine.getWidth()+"px",this.timeLineElt.style.height="100%";try{this.visTimeline=new vis__WEBPACK_IMPORTED_MODULE_5___default.a.Timeline(this.timeLineElt,{},{orientation:{axis:"bottom",item:"bottom"},height:"100%",start:this.gantt.timeLine.scrollableHorizon.start,end:this.gantt.timeLine.scrollableHorizon.end}),this.visTimeline.range.body.emitter.off("mousewheel");this.visTimeline.on("changed",(function fireReady(){_this.visTimeline.off("changed",fireReady),_this.timeScaleElt=_this.timeLineElt.getElementsByClassName("vis-panel vis-bottom")[0];var style=window.getComputedStyle(_this.timeScaleElt),bottom=style.bottom;bottom=bottom?Number.parseInt(bottom,10):0,Number.isNaN(bottom)&&(bottom=0);var topBorder=style.borderTopWidth;topBorder=topBorder?Number.parseInt(topBorder,10):0,_this.timeScaleHeight=$(_this.timeScaleElt).outerHeight()+bottom-topBorder,_this.updatePlottingArea(),_this.triggerEvent(_core_core__WEBPACK_IMPORTED_MODULE_6__.a.events.TIME_LINE_INIT),onInit&&onInit()}))}catch(e){throw console.error(e),e}this.timeLineScrollerElt.appendChild(this.timeLineElt)}},{key:"setScrollLeft",value:function setScrollLeft(left){this.getScroller().scrollLeft=left}},{key:"setResources",value:function setResources(resources){this.resources=resources}},{key:"setResourceRenderer",value:function setResourceRenderer(resRenderer){this.resourceRenderer=resRenderer}},{key:"destroy",value:function destroy(){}},{key:"draw",value:function draw(){this.visTimeline&&(this.noSelectionElt.style.display=this.resources&&this.resources.length?"none":"flex",this.updateLegend(),this.drawCharts())}},{key:"unselectRows",value:function unselectRows(rows){rows.forEach((function(row){return row.backgroundColor=void 0}))}},{key:"drawCharts",value:function drawCharts(){var maxLoad,load,_this2=this,firstBlock=new _block__WEBPACK_IMPORTED_MODULE_7__.a(0,0);(this.resources||[]).forEach((function(res){(res.activities||[]).forEach((function(act){load=_this2.resourceActivityLoad(res,act),maxLoad=_this2.resourceMaxLoad&&_this2.resourceMaxLoad(res,act),firstBlock.insert(act.start,act.end,new ResNode(res,act,load,maxLoad))}))}));var max=firstBlock.computeMax(this.resourceMaxLoad&&1===this.resources.length);this.setYAxisMax(max);for(var item,items=[],ctx={max:max,useMaxLoad:this.resourceMaxLoad&&1===this.resources.length,chartRenderer:this.chartRenderer,plotAreaHeight:this.plotAreaHeight-8,yRatio:this.yRatio},block=firstBlock.next;block;block=block.next)(item=block.createVisItem(ctx))&&items.push(item);this.visTimeline.setItems(items)}},{key:"updateLegend",value:function updateLegend(){this.legend&&this.legendPanel.removeChild(this.legend);var hasRes=this.resources&&this.resources.length;if(_core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.toggleClass(this.legendPanel,"empty-legend",!hasRes),this.legendPanel.style.overflowY="auto",this.resources){var li,colorBox,name,res;this.legend=document.createElement("ul"),this.legend.className="legend";for(var i=0,count=this.resources.length;i<count;i++)res=this.resources[i],(li=document.createElement("li")).className="legend-item",li.style.display="table",(colorBox=document.createElement("div")).className="legend-item-color",colorBox.style.display="table-cell",colorBox.style.verticalAlign="middle",colorBox.style.backgroundColor=res.backgroundColor,li.appendChild(colorBox),(name=document.createElement("div")).className="legend-item-name",name.style.display="table-cell",name.style.verticalAlign="middle",name.innerHTML=res.name,li.appendChild(name),this.legend.appendChild(li);this.legendPanel.appendChild(this.legend)}}},{key:"setYAxisMax",value:function setYAxisMax(max){var tickCount,tickUnit;if(this.yAxis.innerHTML="",max){max<=5?(tickUnit=1,tickCount=max):(max=function closest10Factor(n){for(var f=10;n>f;)f*=10;return f}(max),tickCount=5,tickUnit=Math.round(max/tickCount));var totalHeight=this.plotAreaHeight-8;this.yRatio=Math.round(totalHeight/max);for(var iTick=0,v=0,h=tickUnit*this.yRatio;iTick<=tickCount;iTick++,v+=tickUnit){var label=this.createLabelledTick(""+v,h);label.style.top=this.plotAreaHeight-v*this.yRatio-h/2-2+"px",label.style.right="0",this.yAxis.appendChild(label)}}}},{key:"createLabelledTick",value:function createLabelledTick(label,height){var labelDiv=document.createElement("div");labelDiv.className="y-axis-label",labelDiv.style.position="absolute",labelDiv.style.height=height+"px",labelDiv.style.lineHeight=height+"px",labelDiv.style.textAlign="center",labelDiv.style.whiteSpace="nowrap",labelDiv.appendChild(document.createTextNode(label));var tick=document.createElement("div");return tick.style.display="inline-block",tick.style.position="absolute",tick.style.top=height/2+"px",tick.style.right="0",tick.className="y-axis-tick",labelDiv.appendChild(tick),labelDiv}},{key:"updatePlottingArea",value:function updatePlottingArea(){this.setPlottingAreaHeight($(this.body).outerHeight()-this.timeScaleHeight)}},{key:"setPlottingAreaHeight",value:function setPlottingAreaHeight(h){this.yAxis.style.height=h+"px",this.plotAreaHeight=h}},{key:"getScroller",value:function getScroller(){return this.timeLineScrollerElt}},{key:"initTooltips",value:function initTooltips(){var _this3=this,isResourceLoadNode=function isResourceLoadNode(elt){return _core_core__WEBPACK_IMPORTED_MODULE_6__.a.utils.hasClass(elt,_block__WEBPACK_IMPORTED_MODULE_7__.b)},gantt=this.gantt,loadchart=this;this.gantt.tooltip.installTooltip({container:this.body,getTooltipDisplayContainer:function getTooltipDisplayContainer(){return gantt.getBody()},getTooltipElement:function getTooltipElement(node){return function getResourceLoadNode(elt){for(;elt&&elt!==_this3.body;elt=elt.parentNode)if(isResourceLoadNode(elt))return elt;return null}(node)},getTooltipData:function getTooltipData(node){return{resourceName:node.dataset.resName,resourceLoad:node.dataset.resLoad,resourceMaxLoad:node.dataset.resMaxLoad,activityName:node.dataset.actName}},renderTooltip:function renderTooltip(node,info,tooltipCtnr){info&&loadchart.chartRenderer.getTooltip(tooltipCtnr,info)}})}}]),LoadResourceChart}(_core_core__WEBPACK_IMPORTED_MODULE_6__.a.components.LoadResourceChart);_core_core__WEBPACK_IMPORTED_MODULE_6__.a.components.LoadResourceChart.impl=LoadResourceChart}).call(this,__webpack_require__(7))},366:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){__webpack_require__.d(__webpack_exports__,"a",(function(){return TreeTableController}));var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),DATATABLE_FILTER_INSTALLED=(__webpack_require__(848),!1),TreeTableController=function(){function TreeTableController(){Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,TreeTableController),this.collapsedNodes={}}return Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(TreeTableController,[{key:"getHierarchyColumn",value:function getHierarchyColumn(columns){return columns&&columns.length&&columns[0]||null}},{key:"customizeOptions",value:function customizeOptions(options,hCol,rowRenderer){var _this=this;if(hCol||(hCol=this.getHierarchyColumn(options.columns))){hCol.render||(hCol.render={});var oldRender=hCol.render.display,oldData=hCol.data;hCol.render.display=function(node,type,full,meta){for(var content=oldRender&&oldRender.call(this,oldData&&node[oldData]||node,type,full,meta)||node.name,parent=node.parent,prefix="";parent;)prefix+='<div class="tree-node-spacing"></div>',parent=parent.parent;return prefix+='<div class="tree-node-handle">'+(node.children&&node.children.length?'<i style="width: 16px;" class="fa fa-caret-right fa-lg collapsed"></i><i style="16px;" class="fa fa-caret-down fa-lg expanded"></i>':"")+"</div>",node.color&&(prefix+='<div class="tree-node-color" style="background-color="'+node.color+'"></div>'),prefix+content},hCol.render.filter=function(node,type,full,meta){return node?node.name:""},hCol.className=hCol.className&&hCol.className+" hierarchy-control"||"hierarchy-control",hCol.type="tree-node";var oldCreatedRow=options.createdRow;options.createdRow=function(row,node,index){var parentRow=node.children&&node.children.length;rowRenderer&&rowRenderer.draw(node,row,node);var classname=parentRow?_this.collapsedNodes[node.id]?"parent-row collapsed":"parent-row":"leaf-row";node.hidden&&(classname+=" hidden"),$(row).addClass(classname),oldCreatedRow&&oldCreatedRow.call(_this,row,node,index)}}}},{key:"getData",value:function getData(id){var node,row=this.$dataTable.row(id);return row&&(node=row.data())&&node.getData()||null}},{key:"reset",value:function reset(){this.collapsedNodes={}}},{key:"getRow",value:function getRow(data){return"string"==typeof data?this.$dataTable.row("#"+data):data}},{key:"isCollapsedNode",value:function isCollapsedNode(node){if("string"==typeof node)return this.collapsedNodes[node];var row=this.getRow(node);return(node=row&&row.data())&&node.children&&this.collapsedNodes[node.id]}},{key:"collapseNode",value:function collapseNode(node,collapse){var row=this.getRow(node);if((node=row&&row.data())&&node.children&&node.children.length){var visible=!collapse;collapse?(this.collapsedNodes[node.id]=!0,$(row.node()).addClass("collapsed")):(delete this.collapsedNodes[node.id],$(row.node()).removeClass("collapsed"));for(var rowsModified=[],i=0;i<node.children.length;i++)this.setRowVisible(node.children[i],visible,rowsModified);this.rowsVisibilityChanged(!collapse,rowsModified,node.id)}}},{key:"rowsVisibilityChanged",value:function rowsVisibilityChanged(visible,rows,rowRef){}},{key:"setRowVisible",value:function setRowVisible(row,visible,rowsModified){var tr=row.tr||this.$dataTable.row("#"+row.id).node();if(tr&&($(tr).toggleClass("hidden",!visible),visible?delete row.hidden:row.hidden=!0,rowsModified&&rowsModified.push(row.id),row.children&&!this.collapsedNodes[row.id]))for(var i=0,count=row.children.length;i<count;++i)this.setRowVisible(row.children[i],visible,rowsModified)}},{key:"expandParents",value:function expandParents(row){var node=(row=this.getRow(row))&&row.data();if(node){for(var topCollapsed,parent=node.parent;parent;)this.collapsedNodes[parent.id]&&(topCollapsed&&delete this.collapsedNodes[topCollapsed.id],topCollapsed=parent),parent=parent.parent;topCollapsed&&this.collapseNode(topCollapsed.id,!1)}}},{key:"install",value:function install($dataTable,bodyElt){var _this2=this;if(this.$dataTable=$dataTable,$(bodyElt).on("click","td.hierarchy-control .tree-node-handle",(function(e){var tr=$(e.target).closest("tr");if(tr&&tr.length){var row=$dataTable.row(tr);_this2.collapseNode(row,!_this2.isCollapsedNode(row))}})),!DATATABLE_FILTER_INSTALLED){DATATABLE_FILTER_INSTALLED=!0,$.fn.dataTable.ext.search.push((function(settings,aData,dataIndex,node){var dataTable;return(dataTable=settings.ganttDataTable)&&(dataTable.filter.isEmpty()||(node.__filterMatched=dataTable.filter.accept(node,aData,dataIndex))),!0})),$.fn.dataTable.ext.search.push((function(settings,data,dataIndex,node){if(settings.ganttDataTable){if(node.hidden)return!1;if(!settings.ganttDataTable.filter.isEmpty()){return node.__filterMatched||function processVisibilityFromChildren(vNode){if(vNode&&vNode.children)for(var child,iChild=0,count=vNode.children.length;iChild<count;iChild++)if((child=vNode.children[iChild]).__filterMatched||processVisibilityFromChildren(child))return vNode.__filterMatched=!0,!0;return!1}(node)}return!0}return!0}));var makeComparisonFct=function makeComparisonFct(m){function comp(a,b,comparator){return a=a.getSortValue?a.getSortValue(a):comparator?a:a.name,b=b.getSortValue?b.getSortValue(b):comparator?b:b.name,comparator?comparator(a,b)*m:a<b?-m:a>b?m:0}return function(a,b){var comparator=a.comparator;if(a.parent===b.parent)return comp(a,b,comparator);for(var bParent,aParent=a.parent,lastParent=a;aParent;){for(bParent=b;bParent;){if(bParent.parent===aParent)return comp(lastParent,bParent,comparator);bParent=bParent.parent}lastParent=aParent,aParent=aParent.parent}for(bParent=b;bParent.parent;)bParent=bParent.parent;return comp(lastParent,bParent,comparator)}};$.fn.dataTable.ext.type.order["tree-node-asc"]=makeComparisonFct(1),$.fn.dataTable.ext.type.order["tree-node-desc"]=makeComparisonFct(-1)}}}]),TreeTableController}()}).call(this,__webpack_require__(7))},367:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createXMLDataConfig}));__webpack_require__(57),__webpack_require__(138),__webpack_require__(135),__webpack_require__(54),__webpack_require__(139);function createXMLDataConfig(xmlPath){function xmlAttr(node,name){var attr=node.attributes.getNamedItem(name);return attr&&attr.nodeValue}function xmlChildElts(parent,tagname){for(var node,childNodes=parent.childNodes,elts=[],i=0,count=childNodes.length;i<count;++i)(node=childNodes[i]).nodeType!==Node.ELEMENT_NODE||tagname&&tagname!==node.tagName||elts.push(node);return elts}return{all:function all(){return new Promise((function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET",xmlPath,!0),xhr.overrideMimeType("text/xml"),xhr.onload=function(){xhr.readyState===xhr.DONE&&200===xhr.status&&resolve(xhr.response)},xhr.onload=function(){200<=this.status&&300>this.status?resolve(xhr.responseXML):reject({status:this.status,statusText:xhr.statusText})},xhr.onerror=function(){reject({status:this.status,statusText:xhr.statusText})},xhr.send()}))},resources:{data:function data(xmlDoc){var resources=[];return function readResources(xmlNode){xmlChildElts(xmlNode,"resource").forEach((function(node){resources.push({id:xmlAttr(node,"id"),name:xmlAttr(node,"name"),quantity:xmlAttr(node,"quantity"),parent:xmlAttr(xmlNode,"id")}),readResources(node)}))}(xmlDoc.getElementsByTagName("resources")[0]),resources},parent:"parent",name:"name",id:"id"},reservations:{data:function data(xmlDoc){var resas=[];return function readReservations(xmlNode){xmlChildElts(xmlNode,"reservation").forEach((function(node){resas.push({activity:xmlAttr(node,"activity"),resource:xmlAttr(node,"resource")}),readReservations(node)}))}(xmlDoc.getElementsByTagName("reservations")[0]),resas},activity:"activity",resource:"resource"},activities:{data:function data(xmlDoc){var actsNode=xmlDoc.getElementsByTagName("activities")[0],parseDate=function(format){var i=0,fmt={},convertor={yyyy:"year",yy:"year",y:"year",M:"month",MM:"month",MMMM:"month",d:"day",dd:"day",H:"hour",HH:"hour",m:"min",mm:"min",s:"secs",ss:"secs"};return format.replace(/(yyyy|yy|y|M|MM|MMMM|dd|d|H|HH|m|mm|s|ss)/g,(function(part){fmt[convertor[part]]=i++})),function(s){if(!s)return null;var parts=s.match(/(\d+)/g);return new Date(parts[fmt.year],parts[fmt.month]-1,parts[fmt.day],parts[fmt.hour],parts[fmt.min],parts[fmt.secs]).getTime()}}(xmlAttr(actsNode,"dateFormat")||"yyyy-mm-dd"),activities=[];return function readActivities(xmlNode){xmlChildElts(xmlNode,"activity").forEach((function(node){activities.push({id:xmlAttr(node,"id"),name:xmlAttr(node,"name"),start:parseDate(xmlAttr(node,"start")),end:parseDate(xmlAttr(node,"end")),parent:xmlAttr(xmlNode,"id")}),readActivities(node)}))}(actsNode),activities},start:"start",end:"end",name:"name",parent:"parent"},constraints:{data:function data(xmlDoc){var consts=[],typeConvert={"Start-Start":Gantt.constraintTypes.START_TO_START,"Start-End":Gantt.constraintTypes.START_TO_END,"End-Start":Gantt.constraintTypes.END_TO_START,"End-End":Gantt.constraintTypes.END_TO_END},roots=xmlDoc.getElementsByTagName("constraints");return roots&&roots.length&&xmlChildElts(roots[0],"constraint").forEach((function(node){consts.push({from:xmlAttr(node,"from"),to:xmlAttr(node,"to"),type:typeConvert[xmlAttr(node,"type")]})})),consts},from:"from",to:"to",type:"type"}}}},370:function(module,exports,__webpack_require__){__webpack_require__(371),__webpack_require__(506),module.exports=__webpack_require__(507)},437:function(module,exports){},807:function(module,exports,__webpack_require__){var map={"./docs/docs.stories.js":808,"./examples/activity_chart/activity_chart.story.js":828,"./examples/basic/basic.story.js":850,"./examples/big_data/big_data.story.js":851,"./examples/house_building/house_building.story.js":852,"./examples/load_chart/load_chart.story.js":854,"./examples/nurses/nurses.story.js":855,"./examples/row_layout/row_layout.story.js":857};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=807},808:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",(function(){return withStorySource})),__webpack_require__.d(__webpack_exports__,"__STORY__",(function(){return __STORY__})),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",(function(){return __ADDS_MAP__}));__webpack_require__(57);var marked__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(358),marked__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(marked__WEBPACK_IMPORTED_MODULE_1__),_storybook_html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),withStorySource=(__webpack_require__(810),__webpack_require__(71).withStorySource),__STORY__="import marked from 'marked';\n\nimport { storiesOf } from '@storybook/html';\n\nimport './github-markdown.css';\n\nconst title = 'Guides';\nconst chapters = [\n  {\n    title: 'Introduction',\n    pages: [\n      { title: 'Getting started', md: require('../../../ibm-gantt-chart/README.md') },\n      { title: 'Overview', md: require('.//overview.md') },\n      { title: 'Concepts', md: require('.//concepts.md') },\n    ],\n  },\n  {\n    title: 'Data',\n    pages: [\n      { title: 'Overview', md: require('.//data_overview.md') },\n      { title: 'Data Fetchers', md: require('.//data_fetchers.md') },\n      { title: 'Data Accessors', md: require('.//data_accessors.md') },\n      { title: 'Dates', md: require('.//data_dates.md') },\n      { title: 'Complex Mappings', md: require('.//data_complex_mappings.md') },\n      { title: 'Time Window', md: require('.//data_time_window.md') },\n    ],\n  },\n  {\n    title: 'Time Line',\n    pages: [\n      { title: 'Overview', md: require('.//time_line_overview.md') },\n      { title: 'Activity Rendering', md: require('.//time_line_activity_rendering.md') },\n      { title: 'Activities Layout', md: require('.//time_line_activities_layout.md') },\n      { title: 'Decorations / break', md: require('.//time_line_decorations.md') },\n      { title: 'Drag-n-Drop', md: require('.//time_line_dragdrop.md') },\n    ],\n  },\n  {\n    title: 'Miscellaneous',\n    pages: [\n      { title: 'Handling Selection', md: require('.//selection.md') },\n      { title: 'Renderers', md: require('.//renderers.md') },\n      { title: 'Palettes', md: require('.//palettes.md') },\n    ],\n  },\n];\n\nchapters.forEach(chapter => {\n  const story = storiesOf(`${title}|${chapter.title}`, module).addParameters({ options: { showPanel: false } });\n  chapter.pages.forEach(page => {\n    story.add(page.title, () => `<div class=\"markdown-body\" style=\"margin: 1rem;\">${marked(page.md)}</div>`);\n  });\n});\n",__ADDS_MAP__={};[{title:"Introduction",pages:[{title:"Getting started",md:__webpack_require__(811)},{title:"Overview",md:__webpack_require__(812)},{title:"Concepts",md:__webpack_require__(813)}]},{title:"Data",pages:[{title:"Overview",md:__webpack_require__(814)},{title:"Data Fetchers",md:__webpack_require__(815)},{title:"Data Accessors",md:__webpack_require__(816)},{title:"Dates",md:__webpack_require__(817)},{title:"Complex Mappings",md:__webpack_require__(818)},{title:"Time Window",md:__webpack_require__(819)}]},{title:"Time Line",pages:[{title:"Overview",md:__webpack_require__(820)},{title:"Activity Rendering",md:__webpack_require__(821)},{title:"Activities Layout",md:__webpack_require__(822)},{title:"Decorations / break",md:__webpack_require__(823)},{title:"Drag-n-Drop",md:__webpack_require__(824)}]},{title:"Miscellaneous",pages:[{title:"Handling Selection",md:__webpack_require__(825)},{title:"Renderers",md:__webpack_require__(826)},{title:"Palettes",md:__webpack_require__(827)}]}].forEach((function(chapter){var story=Object(_storybook_html__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("".concat("Guides","|").concat(chapter.title),module).addDecorator(withStorySource(__STORY__,__ADDS_MAP__)).addParameters({options:{showPanel:!1}});chapter.pages.forEach((function(page){story.add(page.title,(function(){return'<div class="markdown-body" style="margin: 1rem;">'.concat(marked__WEBPACK_IMPORTED_MODULE_1___default()(page.md),"</div>")}))}))}))}.call(this,__webpack_require__(56)(module))},810:function(module,exports,__webpack_require__){},811:function(module,exports){module.exports="# ibm-gantt-chart\n\n## Usage\n\nHere is a simple example to illustrate how to include the Gantt into a web page.<br/>\n\n```html\n<html>\n  <head>\n    <title>Simple Gantt</title>\n    <link href=\"[...]/ibm-gantt-chart.css\" rel=\"stylesheet\" />\n    <script src=\"[...]/ibm-gantt-chart.js\"><\/script>\n\n    \x3c!--  Page styles  --\x3e\n    <style>\n      html {\n        height: 100%;\n      }\n      body {\n        height: 100%;\n        margin: 0;\n        padding: 0;\n      }\n      #gantt {\n        height: 100%;\n      }\n    </style>\n  </head>\n  <body>\n    <div id=\"gantt\"></div>\n\n    <script>\n      var data = [\n        {\n          id: 'NURSES+Anne',\n          name: 'Anne',\n          activities: [\n            {\n              id: 'SHIFTS+Emergency+Monday+2+8',\n              name: 'Emergency',\n              start: 1474880400000,\n              end: 1474902000000,\n            },\n          ],\n        },\n        {\n          id: 'NURSES+Bethanie',\n          name: 'Bethanie',\n          activities: [],\n        },\n        {\n          id: 'NURSES+Betsy',\n          name: 'Betsy',\n          activities: [\n            {\n              id: 'SHIFTS+Emergency+Wednesday+12+18',\n              name: 'Emergency',\n              start: 1475089200000,\n              end: 1475110800000,\n            },\n            {\n              id: 'SHIFTS+Emergency+Saturday+12+20',\n              name: 'Emergency',\n              start: 1475348400000,\n              end: 1475377200000,\n            },\n            {\n              id: 'SHIFTS+Consultation+Friday+8+12',\n              name: 'Consultation',\n              start: 1475247600000,\n              end: 1475262000000,\n            },\n          ],\n        },\n        {\n          id: 'NURSES+Cathy',\n          name: 'Cathy',\n          activities: [\n            {\n              id: 'SHIFTS+Emergency+Sunday+20+2',\n              name: 'Emergency',\n              start: 1475463600000,\n              end: 1475485200000,\n            },\n            {\n              id: 'SHIFTS+Emergency+Saturday+12+20',\n              name: 'Emergency',\n              start: 1475348400000,\n              end: 1475377200000,\n            },\n            {\n              id: 'SHIFTS+Emergency+Monday+18+2',\n              name: 'Emergency',\n              start: 1474938000000,\n              end: 1474966800000,\n            },\n          ],\n        },\n        {\n          id: 'NURSES+Cindy',\n          name: 'Cindy',\n          activities: [\n            {\n              id: 'SHIFTS+Emergency+Saturday+20+2',\n              name: 'Emergency',\n              start: 1475377200000,\n              end: 1475398800000,\n            },\n            {\n              id: 'SHIFTS+Consultation+Friday+8+12',\n              name: 'Consultation',\n              start: 1475247600000,\n              end: 1475262000000,\n            },\n            {\n              id: 'SHIFTS+Consultation+Tuesday+8+12',\n              name: 'Consultation',\n              start: 1474988400000,\n              end: 1475002800000,\n            },\n          ],\n        },\n      ];\n      var config = {\n        data: {\n          // Configures how to fetch resources for the Gantt\n          resources: {\n            data: data, // resources are provided in an array. Instead, we could configure a request to the server.\n            // Activities of the resources are provided along with the 'activities' property of resource objects.\n            // Alternatively, they could be listed from the 'data.activities' configuration.\n            activities: 'activities',\n            name: 'name', // The name of the resource is provided with the name property of the resource object.\n            id: 'id', // The id of the resource is provided with the id property of the resource object.\n          },\n          // Configures how to fetch activities for the Gantt\n          // As activities are provided along with the resources, this section only describes how to create\n          // activity Gantt properties from the activity model objects.\n          activities: {\n            start: 'start', // The start of the activity is provided with the start property of the model object\n            end: 'end', // The end of the activity is provided with the end property of the model object\n            name: 'name', // The name of the activity is provided with the name property of the model object\n          },\n        },\n        // Configure a toolbar associated with the Gantt\n        toolbar: [\n          'title',\n          'search',\n          'separator',\n          {\n            type: 'button',\n            text: 'Refresh',\n            fontIcon: 'fa fa-refresh fa-lg',\n            onclick: function(ctx) {\n              ctx.gantt.draw();\n            },\n          },\n          'fitToContent',\n          'zoomIn',\n          'zoomOut',\n        ],\n        title: 'Simple Gantt', // Title for the Gantt to be displayed in the toolbar\n      };\n      new Gantt('gantt' /* the id of the DOM element to contain the Gantt chart */, config);\n    <\/script>\n  </body>\n</html>\n```\n\nIncluding this Gantt chart into a Web page consists on:\n\n- Including the Gantt library bundle files, one Javascript and one CSS file.\n- Create DOM element that will contain the Gantt chart. This is done here with the declaration:\n  ```\n  <div id=\"gantt\"></div>\n  ```\n- Create a Javascript object to configure the Gantt.\n- Instantiate the Gantt chart object with this configuration object and the id of the DOM element to contain the Gantt chart.\n  As explained below, the Gantt library is packaged for several frameworks (jQuery, React or as a pure Javascript component).\n  Use the one that fits the need of your page.\n  For this example, the Vanilla Javascript component is used.\n\n## Data\n\nIn the first example, data is provided to the Gantt as an array of resources created on the client side to get a self contained example.\nThe Gantt can also be configured to fetch data from a server and map this data into a Gantt model.\nThe example [Activity chart](/examples/activity_chart/index.html) shows how customizable the process of fetching user data and mapping it to a Gantt model can be.\n\n## Formatting, filtering and other features\n\nThe Gantt library is rich of features for formatting and navigating into user data.\nThe [Gantt examples](/examples) illustrate how to configure and use these features.\n\n## Gantt packages\n\nThe simple Gantt chart example uses the Gantt chart as a Vanilla Javascript component.\nThe Gantt library also distributes the Gantt as a React component and a jQuery component.\nFor those packages, the configuration of the Gantt is done using the same configuration object.\nOnly the bundle files to include and the how the Gantt object is constructed differ.\n\n1. The Gantt as a React component\n\n   ```js\n   import React from 'react';\n   import ReactDOM from 'react-dom';\n   import GanttChart from 'ibm-gantt-chart-react';\n\n   import 'ibm-gantt-chart/dist/ibm-gantt-chart.css';\n\n   const config = { ... }; // Same format as in the simple Gantt example.\n\n   ReactDOM.render(<GanttChart config={config} />, document.getElementById('gantt'));\n   ```\n\n2) The Gantt as a jQuery component\n\n   ```html\n   <html>\n     <head>\n       \x3c!-- Datatables.net CSS file --\x3e\n       \x3c!-- See  https://datatables.net/download/index --\x3e\n       <link href=\"[...]/datatables.net-dt/css/jquery.dataTables.css\" rel=\"stylesheet\" />\n\n       \x3c!-- vis CSS file --\x3e\n       \x3c!-- See  http://visjs.org/#download_install --\x3e\n       <link href=\"[...]/vis/dist/vis.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n       \x3c!-- Gantt CSS file --\x3e\n       <link href=\"[...]/dist/css/gantt-jquery.css\" rel=\"stylesheet\" type=\"text/css\" />\n     </head>\n     <body>\n       ...\n       \x3c!-- DOM node to contain the Gantt component. --\x3e\n       <div id=\"gantt\"></div>\n       ...\n       \x3c!-- Include jQuery, see https://jquery.com/download/ --\x3e\n       <script src=\"[...]/jquery/dist/jquery.min.js\"><\/script>\n\n       \x3c!-- Datatables.net JS file --\x3e\n       \x3c!-- See  https://datatables.net/download/index --\x3e\n       <script src=\"[...]/datatables.net/js/jquery.dataTables.js\"><\/script>\n\n       \x3c!-- vis JS file --\x3e\n       \x3c!-- See  http://visjs.org/#download_install --\x3e\n       <script src=\"[...]/dist/vis.min.js\"><\/script>\n\n       \x3c!-- Gantt JS bundle file --\x3e\n       <script src=\"[...]/ibm-gantt-chart-jquery.js\"><\/script>\n       <script>\n         var config = { ... }; // Same format as for the simple Gantt example\n         $(document).ready(function() {\n             $('#gantt').Gantt(config);\n         } );\n       <\/script>\n     </body>\n   </html>\n   ```\n"},812:function(module,exports){module.exports="## Overview\n\nIBM Gantt Chart lets you visualize data in a Gantt chart on your website.\nA storybook of examples illustrates powerful features that enable a rich experience when using a Gantt chart, from filtering to formatting the display according to the properties of your data.\n\nThe IBM Gantt Chart is packaged in bundles for different uses:\n\n1. As a Vanilla Javascript component\n2. As a React component\n3. As a jQuery component\n\nFor each of these platforms, including a Gantt chart in a website is easy, you just:\n\n- Load one of the Gantt libraries (Vanilla JS, React, jQuery).\n- Create a Gantt Javascript object, giving it a DOM element ID and a configuration object.\n  The configuration object is mainly used to feed the Gantt chart with data, declare a toolbar or configure the display of activities, resources, constraints, breaks, etc.\n- Load some data into the Gantt chart if it is not already specified in the provided configuration object.\n- Insert a DOM element in the HTML using the same ID that you gave to the Gantt object. The DOM element then contains the Gantt component.\n  See [Getting started](./?path=/story/guides-introduction--getting-started) for creating your first Gantt visualization.\n"},813:function(module,exports){module.exports="## Concepts\n\nA **Gantt chart** is a bar chart that shows time along a horizontal axis and activities placed as bars along the time line. Each activity has a start time and an end time.\nGantt charts are often used to depict planning and scheduling information and also in project management to represent work breakdown structures.\n\nThere are two types of Gantt chart: the **Scheduling chart** and the **Activity Chart**.\n\n**Scheduling charts** show who is doing what and when in your plan. They are used to track simultaneous activities and resources. An **activity** is anything you want to plan, monitor or schedule over time. It has a start and end time (and consequently a duration). A **resource** can be human, machine, equipment or anything you want to use for the activities. A particular assignment of a resource to an activity is called a **reservation**.\n\nFor example, the following diagram shows part of a schedule chart for a building project in August and September. It shows both activities and the resources that are assigned, so that the workload for each resource can be monitored. Different activities (masonry, ceiling, plumbing etc.) are represented as color-coded bars for each resource along a timeline.\nSeveral resources can work simultaneously on the same activity (masonry for example). Some resources work on different activities. Others work only on one type of activity (Steve for example only works on plumbing). The resources section also shows the staff grouped into teams. For example, Jane is responsible for Joe, Jack and Jim but she doesn’t undertake any of the work shown in this scheduling chart.\nAny period that is not filled-in is a period where that resource is not used.\n\n![alt text](images/concepts_schedule_chart.jpg 'Schedule Chart')\n\n**Activity charts** also show when things happen, but they are organized according to the activities rather than the resources. Activities can be broken up into tasks and each task is represented as a horizontal bar along a time scale. You might have some restrictions concerning when different activities start or end in relation to each other. These dependencies are depicted by arrows between activities and are called **constraints**.\n\nThe following diagram shows part of an activity chart for a marketing project in March and April. It displays the order and timing in which different activities must take place. Each activity is broken down into tasks (for example, compiling the customer list and contacting customers are two tasks which make up the activity talking to customers). Arrows between the bars indicate dependencies between activities. For example, the first draft must be completed before the second draft of the marketing requirements can be written. This is indicated by an arrow which indicates that the end of the first draft must occur before the beginning of the second draft. This type of precedence constraint is very common in project management.\n\n![alt text](images/concepts_activity_chart.jpg 'Activity Chart')\n"},814:function(module,exports){module.exports='# Data\n\nThe Gantt chart loads its data using a data configuration object that describes how to build the Gantt model and the data that the Gantt chart must use.\nThe data configuration can be set when instantiating the Gantt chart in the data property of the configuration object that is given to the Gantt constructor.\n\n```\n var dataConfig = {...};\n var gantt = new Gantt( \'gantt\', { data : dataConfig });\n```\n\nOr the configuration can be set after the Gantt chart creation, invoking its load method with the data configuration as the parameter. The Gantt chart can load new data several times in its lifetime.\n\n```\n var gantt = new Gantt( \'gantt\', { ... });\n var dataConfig = {...};\n gantt.load(dataConfig);\n```\n\n<a id="ganttmodel"></a>\n\n### Gantt model\n\nThe Gantt model consists of a set of resources, activities, reservations and constraints with following properties:\n\n- Resources:\n\n| Property | Type   | Description                                                                                        |\n| -------- | ------ | -------------------------------------------------------------------------------------------------- |\n| id       | string | A unique identifier for the resource                                                               |\n| name     | string | The name of the resource, displayed in the table row representing the resource in a Schedule chart |\n| parent   | string | The id of the resource parent of this resource. This property is optional if no parent.            |\n\n- Activities\n\n| Property | Type   | Description                                                                                                                                                                             |\n| -------- | ------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| id       | string | A unique string identifier for the activity                                                                                                                                             |\n| name     | string | The name of the activity, displayed in the time table row representing the resource in a Schedule chart                                                                                 |\n| parent   | string | The id of the resource parent of this resource. This property is optional if no parent.                                                                                                 |\n| start    | long   | Start date of the activity, date given as the number of milliseconds since Unix Epoch (January 1, 1970}. See [dates](./?path=/story/guides-data--dates) for providing dates as strings. |\n| end      | long   | End date of the activity, date given as the number of milliseconds since Unix Epoch (January 1, 1970}. See [dates](./?path=/story/guides-data--dates for providing dates as strings.    |\n\n- Reservations\n\n| Property | Type   | Description                                           |\n| -------- | ------ | ----------------------------------------------------- |\n| resource | string | The id of the resource to associate with an activity. |\n| activity | string | The id of the activity to assoicate with a resource.  |\n\n- Constraints\n\n| Property | Type   | Description                                                                                                                                                                                                     |\n| -------- | ------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| from     | string | The id of the activity the constraints starts from.                                                                                                                                                             |\n| to       | string | The id of the activity the constraints goes to.                                                                                                                                                                 |\n| type     | string | The type of the constraint, can be one of the values: `Gantt.constraintTypes.START_TO_START`, `Gantt.constraintTypes.START_TO_END`, `Gantt.constraintTypes.END_TO_END` or `Gantt.constraintTypes.END_TO_START`. |\n\n<br/>The Gantt chart only uses a subset of this data depending on whether it is a Schedule chart of an Activity chart ([Gantt concepts](./?path=/story/guides-introduction--concepts)).\nThe type of Gantt chart is specified with the **`type`** configuration property which can have one of two values:\n**`Gantt.type.ACTIVITY_CHART`** or **`Gantt.type.SCHEDULE_CHART`**. If not specified, the type is set to **`Gantt.type.SCHEDULE_CHART`** to specify a Schedule chart.\n\nHere is a schematic code for configuring an activity chart:\n\n```\n var gantt = new Gantt( { type: \'Gantt.type.ACTIVITY_CHART\', ... });\n```\n\nIf a Schedule chart, the Gantt only requires:\n\n- resources\n- activities: see [Alternatives to declaring activities and reservations](#dataconfig_noreservations) for accessing activities from resources.\n- reservations: see [Alternatives to declaring activities and reservations](#dataconfig_noreservations) for not declaring reservations.\n\nIf an Activity chart, the Gantt uses.\n\n- activities\n- constraints\n- resources (optional)\n\n<a id="dataconfig_format"></a>\n\n### Data configuration format\n\nThe data configuration object has one property for each type of objects to populate for the Gantt:\n\n```\n var dataConfig = {\n   resources : ..., // specifies how to populate resources\n   activities : ..., // specifies how to populate activities\n   constraints : ..., // specifies how to populate constraints\n   reservations : ..., // specifies how to populate reservations\n }\n var gantt = new Gantt( \'gantt\', { data : dataConfig } );\n```\n\nEach property has the same format, it can be either:\n\n- An array, providing as is the list of resources, activities, constraints or reservations. The provided objects must have the appropriate properties set as described in the [Gantt model](#ganttmodel) section.\n\n```\n    var resources = [\n        {\n            "id": "NURSES+Anne",\n            "name": "Anne"\n        },\n        {\n            "id": "NURSES+Betsy",\n            "name": "Betsy"\n        }\n    ];\n    var activities = [\n        {\n            "id": "SHIFTS+Emergency+Monday+2+8",\n            "name": "Emergency",\n            "start": 1474880400000,\n            "end": 1474902000000\n        },\n        {\n            "id": "SHIFTS+Emergency+Wednesday+12+18",\n            "name": "Emergency",\n            "start": 1475089200000,\n            "end": 1475110800000\n        },\n        {\n            "id": "SHIFTS+Emergency+Saturday+12+20",\n            "name": "Emergency",\n            "start": 1475348400000,\n            "end": 1475377200000\n        },\n        {\n            "id": "SHIFTS+Consultation+Friday+8+12",\n            "name": "Consultation",\n            "start": 1475247600000,\n            "end": 1475262000000\n        }\n    ];\n    var reservations = [\n        { resource: "NURSES+Anne", activity: "SHIFTS+Emergency+Monday+2+8" },\n        { resource: "NURSES+Betsy", activity: "SHIFTS+Emergency+Wednesday+12+18" },\n        { resource: "NURSES+Betsy", activity: "SHIFTS+Emergency+Saturday+12+20" },\n        { resource: "NURSES+Betsy", activity: "SHIFTS+Consultation+Friday+8+12" },\n\n    ];\n    new Gantt( \'gantt\', {\n        data : {\n            resources: resources,\n            activities : activities,\n            reservations : reservations\n        }\n    });\n```\n\n- or an object for more powerful configuration, to allow data to be fetched from many **source types** and to perform a **mapping** between the fetched user object and the resource, activity, constraint or reservation object to be created.\n\n  - Declaration of a _data fetcher_ responsible for fetching the list of user objects, from an ajax request or a function for example. Each fetched object will map to one resource, activity, constraint or reservation.\n    The `data` property declares a data fetcher returning user objects from an array or a function, the `url` property declares a data fetcher fetching user objects from an Http request (other properties apply).\n    See [data fetcher](./?path=/story/guides-data--data-fetchers) for configuration details of a data fetcher.\n  - Other properties are mapping properties. They determine how to create a property of the resource, activity, constraint or reservation. The name of the property **is** the name of the property to be created and the value configures a _data accessor_ that will create the property value provided by the user object.\n    For example, the `start` property of an activity can be configured as follows:\n\n```\n  var dataConfig = {\n    activities : {\n        data : function() { return [ ... ]; },\n        start : function(userObject) { return new Date(userObject.startAsString).getTime(); }\n    ....\n```\n\nSee the [Gantt model](#ganttmodel), for the list of properties of objects of the Gantt model. See [Data accessors](./?path=/story/guides-data--data-accessors) for the configuration of a data accessor.\n\nExample fetching data from ajax request and performing mappings on retrieved objects:\n\n```\n function makeDate(obj, prop) { return new Date(obj.prop).getTime(); }\n\n var dataConfig = {\n       resources: {\n         url: \'/data/resources.json\', // Fetch resource user objects from the /data/resources.json URL\n         parent: \'parentId\', // The parentId property of returned users objects provides the id of the parent resource.\n         id: \'id\', // The id property of returned user objects provides the id of the resource\n         name: \'label\' // The label property of returned user objects provides the name of the resource\n     },\n     activities: {\n         url: \'/data/activities.json\', // Fetch activity user objects from the /data/activities.json URL\n         start: function(obj) { return makeDate(obj, \'startTime\'); },\n         end: function(obj) { return makeDate(obj, \'endTime\'); },\n         name: \'label\'\n     },\n     reservations : {\n         url: \'/data/reservations.json\', // Fetch reservation user objects from the /data/reservations.json URL\n         resource : \'resourceId\', // The id of the resource of the reservation is provided with the resourceId property of the user object.\n         activity : \'activityId\' // The id of the activity of the reservation is provided with the activivtyId property of the user object.\n     }\n };\n new Gantt( \'gantt\', { data: dataConfig });\n```\n\nSome user models might not fit well with this approach of fetching different Gantt model object types with separate requests.\nFor example, the user model might be accessible only in one chunk of data. The approaches discussed in [Alternatives to declaring activities and reservations](#dataconfig_noreservations) might solve this problem, but in some cases not.\nFor such unresolved cases, see the use of the `all` data configuration property in the [Complex mappings](./?path=/story/guides-data--complex-mappings) section.\n\nSee the [Activity chart](/examples/activitychart.html) example for how the most complicated data fetching and data mapping cases can be solved.\nThis sample creates its own `XmlHttpRequest` to fetch data and performs mapping from a user model fetched in one block (the Xml document).\n\n<a id="binding"></a>\n\n### Binding of user and Gantt data.\n\nGantt model objects such as resources or activities are tightly coupled with the user model object they represent. Gantt object properties are the result of mappings performed on those user model objects, as defined with the data configuration.\nIf the user model object changes, the mapping Gantt object must reflect this change. In the same way, whenever something is changed in the Gantt object, the related user object must react to this change.\nTo seal this tight relationship between the Gantt chart and the user data, Gantt objects have the user object they represent as a **prototype** object.\n\nThis way, when accessing a Gantt object, through a [renderer](./?path=/story/guides-miscellaneous--renderers) callback or an interaction callback, properties of the associated user model object can be directly accessed through the Gantt object.\nAlso, this makes it possible to easily define [renderer properties](./?path=/story/guides-miscellaneous--renderers) based on user model properties using [data accessors](./?path=/story/guides-data--data-accessors).\n\nGantt model objects have their own properties, computed from the user model object properties, as listed in [Gantt model](#ganttmodel).\nConflicts can arise between the user model properties and Gantt model properties. For example, if an activity user object has a `start` property, this property will be hidden from the Gantt activity which has its own `start` property.\nTo avoid conflicts, the user model object can be accessed from the Gantt object with the `getData` method. The start property conflict is resolved with the code:\n\n```\n    var ganttConfig = {\n        timeTable : {\n            renderer : {\n                tooltipProperties : function(activity, ctx) {\n                    var props = [ \'Text\', activity.getData().name, \'Start\', activity.getData().start, \'End\', activity.getData().end];\n                    return props;\n                }\n    ...\n```\n\n<a id="dataconfig_noreservations"></a>\n\n### Alternatives to declaring activities and reservations\n\nFor some user models, the concept of reservation is implicit, no entities hold the association between a resource and an activity. Instead, a user resource can directly hold a list of activities performed by the resource, or an activity can hold a reference to its resource.\n\nThe data configuration supports these implicit declarations avoiding the need to declare reservations:\n\n- A resource can list its activities\n  This is done with the `activities` property of the `resources` data configuration. The property value declares a [data accessor](./?path=/story/guides-data--data-accessors) as for other mapping properties.\n  Here is a code example extracted from the [House building](/examples/house_building.html) example.\n\n```\n var dataConfig = {\n    resources : {\n        url : "../../data/house_building/workers.json",\n        success : processHouseTimeWindows,\n        parent : "PARENT_ID",\n        id : "OBJECT_ID",\n        activities : "ASSIGNMENTS", // The ASSIGNMENTS property of worker objects provide a list of assignments for this resource.\n        name : "NAME"\n    },\n    activities : {\n        start : function(assignment) { return makeDate(assignment.START); },\n        end : function(assignment) { return makeDate(assignment.END); },\n        name : "TASK.NAME"\n    }\n }\n```\n\nIf `activities` do not provide a data fetcher, note that the **`activities` declaration is still required** to provide property mappings between the activity user objects listed with `resources.activities` and teh Gantt activities.\n\n- An activity can hold a reference to its resource.\n  This can be specified with the `resource` property of the `activities` data configuration. The property value declares a [data accessor](./?path=/story/guides-data--data-accessors) as for other mapping properties.\n  The resource property provides the id of the resource performing the activity.\n\nExample:\n\n```\n  var dataConfig = {\n      resources : {\n          url : "/data/resources.json",\n          id : "id",\n          name : "NAME"\n      },\n      activities : {\n          url: "/data/tasks.json", // URL to tasks that will be activities of the Gantt chart\n          resource: \'resourceId\', // The resourceId property of task object provide the id of the resource performing the task(activity)\n          start : "startTime",\n          end : "endTime",\n          name : "NAME"\n      }\n   }\n```\n'},815:function(module,exports){module.exports='# Data fetchers\n\nData fetchers are used in data configuration to fetch user objects to create resources, activities, constraints and reservations from.\nData fetchers have different declaration signatures reflecting different uses:\n\n<a id="data_fetcher_http_request"></a>\n\n### Http request\n\nUser objects are the result data of an Http request.\nThe declaration format is:\n\n| Property         |        | Default                                                                                                                                                                                             | Description                                                                                                                                                                                                                                                                                                         |\n| ---------------- | ------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| url              |        | Mandatory property                                                                                                                                                                                  | URL of the Http request.                                                                                                                                                                                                                                                                                            |\n| success          |        | null                                                                                                                                                                                                | Optional callback invoked when the Http request succeeds. The callback must have the signature: `function(data, settings) { return [...]; }` and return an array. The provided settings parameter are two properties: `statusText` for the status text and `req` for the details of the Http request that was sent. |\n| ajaxConfig       |        | null                                                                                                                                                                                                | Optional object to configure the Http request.                                                                                                                                                                                                                                                                      |\n| dataType         | \'json\' | Optional parameter to specify which type of data is returned. Possible values are `"json"`, `"xml"`, `"html"` or `"text"`.                                                                          |\n| params           | null   | Optional object which properties are sent along the Http request parameters. The `{ firstname: "John", lastname : "Olivier" }` params object appends `?firstname=John&lastname=Olivier` to the URL. |\n| method           | \'GET\'  | Optional string for Http request method. Possible values are `"POST"`, `"GET"`, `"PUT"`.                                                                                                            |\n| customizeRequest | null   | Optional callback invoked to customize the XMLHttpRequest created for the request. The callback takes this object as the parameter. `function(xhr) {}`.                                             |\n\n<br />Code extract from the [House building](/examples/house_building.html) example.\n\n```\n  function processHouseTimeWindows(workers, settings) {\n      var gantt = settings.gantt;\n      return [...];\n  }\n  var dataConfig = {\n      resources : {\n          url : "../../data/house_building/workers.json",\n          success : processHouseTimeWindows,\n          parent : "PARENT_ID",\n          id : "OBJECT_ID",\n          activities : "ASSIGNMENTS",\n          name : "NAME"\n      },\n      ...\n   };\n```\n\n<a id="data_fetcher_function"></a>\n\n### Function\n\nUser objects are fetched from a function returning an array of objects or a [promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) resolving an array of objects.\nThe declaration format is:\n\n| Property | Default            | Description                                                                                                                                                                                                                                                                                                                                                |\n| -------- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| data     | Mandatory property | Function returning an array of objects or a promise resolving an array of objects. The function takes no parameters except if an `all` data configuration entry has been declared. In this case, the function takes the user model resolved with `all` as the parameter. See [Complex mappings](./?path=/story/guides-data--complex-mappings) for details. |\n| success  | null               | Optional callback invoked when the `data` callback fetches the objects, through a promise or not. The callback must have the signature: `function(data) { return [...]; }` and return an array.                                                                                                                                                            |\n\n<br />Code extract from the [Activity chart](/examples/activitychart.html) example.\n\n```\n function processResources(model) { // model returned from the dataConfig.all entry\n     var resources = [];\n     ...\n     return resources;\n }\n\n var dataConfig = {\n    all : {\n       ...\n    }\n    resources : {\n        data : processResources,\n        parent : "parent",\n        name : "name",\n        id : \'id\'\n    },\n    ...\n };\n new Gantt( \'gantt\', { data : dataConfig });\n```\n\n### Array of objects\n\nUser objects are provided as an array.\n\nThe declaration format is:\n\n| Property | Default            | Description          |\n| -------- | ------------------ | -------------------- |\n| data     | Mandatory property | An array of objects. |\n\n<br />Code example:.\n\n```\n    var resources = [\n        {\n            "NurseId": "NURSES+Anne",\n            "NurnseName": "Anne"\n        },\n        {\n            "NurseId": "NURSES+Betsy",\n            "NurseName": "Betsy"\n        }\n    ];\n\n    var dataConfig = {\n       resources : {\n           data : resources,\n           name : "NurseName",\n           id : \'NurseId\'\n       },\n       ...\n    };\n    new Gantt( \'gantt\', { data : dataConfig });\n```\n'},816:function(module,exports){module.exports='# Data accessors\n\nAnywhere in the Gantt configuration that a configuration property can be computed, a data accessor is used to provide greater flexibility in defining how this value is computed.\nFor example, in the data configuration, the `start` property of activities is dynamically computed from a user object representing the activity.\nUsing a data accessor, the start property can be computed with a call to a function or by looking for a specified object property.\n\nData accessors can be declared with different signatures:\n\n<a id="data_accessor_string"></a>\n\n### string\n\nThe string is a list of property names separated by periods. The first property name is a direct property of the accessed object, the second property name is the name of a property of the property object accessed with the first property name and so on...\n<br />\n\nExample:\n\n```\n   var dataConfig = {\n       activities : {\n           start : "SCHEDULE.START", // Data accessor declared as a string. The start property is provided with the START property of the SCHEDULE property object of a task.\n           ...\n       },\n       ...\n    };\n```\n\n<a id="data_accessor_function"></a>\n\n### function\n\nThe function is called to compute a value for a configuration property. The first parameter of the function is the contextual object to get the value from.\nThis contextual object will vary depending on where the data accessor is used in the Gantt configuration. If it is used in the data configuration, the contextual object will be the user object returned from the data fetcher.\n<br />\n\nExample:\n\n```\n   function computeEnd(task) {\n     return task.SCHEDULE.START + (task.SCHEDULE.DURATION * 60 * 60 * 1000);\n   }\n   var dataConfig = {\n       activities : {\n           end : computeEnd, // Data accessor declared as a function. The end property is computed by the function, given a task as the parameter.\n           ...\n       },\n       ...\n    };\n```\n'},817:function(module,exports){module.exports='# Dates\n\nDates are provided to the Gantt chart as the number of milliseconds since January 1st 1970.\nIn the data configuration, however, it is possible to provide dates as strings if you specify the date format to be used for parsing the date strings\n\nThe date format is provided with the `dateFormat` data configuration.\n\n<br /> Example\n\n```\n   var dataConfig = {\n       resources : {\n       },\n       activities : {\n          url : "....",\n          start : "START" // The START property of user object returned from the given URL provides dates as string with the format "yyyy-MM-dd\'T\'HH:mm:ss.SSSZ"\n       },\n       dateFormat : "yyyy-MM-dd\'T\'HH:mm:ss.SSSZ" // Format to parse date strings from.\n    };\n```\n'},818:function(module,exports){module.exports="# Complex mappings\n\nFor some user models, objects that need to be mapped as resources, activities, constraints or reservations might not always be simply accessible from separate requests, as illustrated in [Data configuration format](./?path=/story/guides-data--overview).\nFor example, the user model might only be accessible through one entry point from the server, only returning one _big chunk_ of data.\nYou do not want to fetch the same data several times and have the post processing callbacks of each request generate different [Gantt model](./?path=/story/guides-data--overview) objects.\n\nInstead, the data configuration provides a mechanism to:\n\n1. First fetch the user model at one with the `all` data configuration entry which configures a [data fetcher](./?path=/story/guides-data--data-fetcher).\n   Typically, a `success` callback is declared along with the data fetcher for processing the user model and to `prepare` the user objects to be mapped as [Gantt model](./?path=/story/guides-data--overview) objects.\n2. Then enable the data fetchers for each type of Gantt model objects (resources, activities, etc...) to collect its set of objects from the processed model.\n\nHere are two examples that illustrate different ways of fetching and processing the user model as one chunk of data:\n\n1. The following is schematic code for fetching the user model from an http request and processing it in a way to easily collect the Gantt model objects :\n\n```\n   var dataConfig = {\n       all : {\n          url : \"/examples/all.json\",\n          success : function(data) {\n                var result = {\n                   resources: [],\n                   activities: [],\n                   reservations: []\n                }\n                // Process the data user model and fill the result.resources, result.activites and result.reservations arrays.\n                ...\n                return result; // Return the processed model\n          }\n       }\n       activities : {\n           data : 'activities', // Get the activities from the \"activities\" property of the model(result) returned by the \"all\" data fetcher\n           start : \"...\",\n           ...\n       },\n       resources : {\n           data : 'resources', // Get the resources from the \"resources\" property of the model(result) returned by the \"all\" data fetcher\n           parent : \"...\",\n           ...\n       },\n       resources : {\n           data : 'reservations', // Get the reservations from the \"reservations\" property of the model(result) returned by the \"all\" data fetcher\n           parent : \"...\",\n           ...\n       },\n    };\n    new Gantt( 'gantt', { data : dataConfig } );\n```\n\n2. The following code is extracted from the more advanced [Activity chart](/examples/activitychart.html) example.\n   Data is fetched from a function that creates its own XmlHttpRequest and returns the user model as an XML document from a promise.\n   Each data fetcher (resources, activities, etc...) collects its user object from callbacks taking the user model resolved by the promise as the parameter.\n\n```\n   // Read resources from an XML node\n   function processResources(xmlDoc) {\n       var resources = [];\n       function readResources(xmlNode) {\n           ...\n       }\n       readResources(xmlDoc.getElementsByTagName(\"resources\")[0]);\n       return resources;\n   }\n\n   // Read activities from an XML node\n   function processActivities(xmlDoc) {\n       var actsNode = xmlDoc.getElementsByTagName(\"activities\")[0];\n       function createDateParser(format) {\n           ....\n       }\n       readActivities(...);\n       return activities;\n   }\n\n   // Read reservations from an XML node\n   function processReservations(xmlDoc) {\n       var resas = [], node;\n       function readReservations(xmlNode) {\n          ....\n       }\n       readReservations(xmlDoc.getElementsByTagName(\"reservations\")[0]);\n       return resas;\n   }\n\n   // Read constraints from an XML node\n   function processConstraints(xmlDoc) {\n       var consts = [], node;\n       ....\n       return consts;\n   }\n   var dataConfig = {\n        all : function() {\n            return new Promise(function(resolve, reject) {\n                var xhr = new XMLHttpRequest();\n                xhr.open('GET', xmlPath, true);\n\n                // If specified, responseType must be empty string or \"document\"\n                //xhr.responseType = 'document';\n\n                // overrideMimeType() can be used to force the response to be parsed as XML\n                xhr.overrideMimeType('text/xml');\n\n                xhr.onload = function () {\n                    if (xhr.readyState === xhr.DONE) {\n                        if (xhr.status === 200) {\n                            resolve(xhr.response);\n                        }\n                    }\n                };\n                xhr.onload = function () {\n                    if (this.status >= 200 && this.status < 300) {\n                        resolve(xhr.responseXML);\n                    } else {\n                        reject({\n                            status: this.status,\n                            statusText: xhr.statusText\n                        });\n                    }\n                };\n                xhr.onerror = function () {\n                    reject({\n                        status: this.status,\n                        statusText: xhr.statusText\n                    });\n                };\n                xhr.send();\n            });\n        },\n        resources : {\n            data : processResources,\n            parent : \"parent\",\n            name : \"name\",\n            id : 'id'\n        },\n        reservations : {\n            data : processReservations,\n            activity : 'activity',\n            resource : 'resource'\n        },\n        activities : {\n            data : processActivities,\n                start : 'start',\n                end : 'end',\n                name : 'name',\n                parent : 'parent'\n        },\n        constraints : {\n            data : processConstraints,\n            from : 'from',\n            to : 'to',\n            type : 'type'\n        }\n    };\n    new Gantt( 'gantt', { data : dataConfig } );\n```\n"},819:function(module,exports){module.exports="# Time window\n\nThe earliest start date and latest end date which define the time scale of the Gantt chart is processed according to a _time window_ of the Gantt data model, a time frame in which all activities occur.\n\nBy default, this time window is automatically computed looking at the earliest start date and latest end date for the activities of the Gantt chart.\nAlternatively, you can specify a time window for the Gantt chart as part of its data, using the `timeWindow` data configuration entry.\nThe `timeWindow` entry also configures one [data fetcher](./?path=/story/guides-data--data-fetchers) to fetch the time window and two [data accessors](./?path=/story/guides-data--data-accessors) for getting the `start` and `end` of the time window.\n\n<br /> Example:\n\n```\n   var dataConfig = {\n       resources : {\n           ...\n       },\n       activities : {\n           ...\n       },\n       timeWindow : {\n          // Fetch the time window returned as an object with the format\n          // {\n          //     windowStart : ..., //\n          //     windowEnd : ... //\n          // }\n          url : \"/examples/timewindow.json\",\n          start : 'windowStart', // The start of the time window is provided with the 'windowStart' property of the returned time window object\n          end : 'windowEnd', // The end of the time window is provided with the 'windowStart' property of the returned time window object\n       }\n    };\n```\n"},820:function(module,exports){module.exports="# Timeline\n\nThe timeline is the right panel of a Gantt chart displaying activities in a timeline as illustrated in:\n\n![alt text](/images/doc/concepts_schedule_chart.jpg 'Timeline')\n\nAs for all Gantt components, the timeline can initialize without any configuration from the user.\nBut it can be customized in many ways:\n\n- [Activity rendering](#?path=/story/guides-time-line--activity-rendering), to customize the display of activities to reflect user model properties.\n- [Activities layout](./?path=/story/guides-time-line--activities-layout), to change the layout of activities, typically when several activities in the same row have the same start time.\n- [Add decorations/breaks](./?path=/story/guides-time-line--decorations), to add decorations, breaks, or time markers in the time line.\n- [Drag and drop of activities](./?path=/story/guides-time-line--drag-n-drop, to implement the drag-and-drop of activities.\n"},821:function(module,exports){module.exports="# Rendering of activities\n\nChanging the default display of activities to reflect properties of the user model is one of the most important features of the Gantt chart.\nThis can be done by declaring one or several [renderers](./?path=/story/guides-miscellaneous--renderers) in the `timeTable.renderer` Gantt configuration.\nSee [common renderer properties](./?path=/story/guides-miscellaneous--renderers) for the list of properties that can be used.\n\nHere is a code extract from the [House building](/examples/house_building.html) sample that combines renderer cascading and the use of palettes features:\n\n```\n    var ganttConfig = {\n            ...\n            timeTable : {\n                renderer : [\n                    {\n                        selector : function(object, ctx) {\n                            // Use this renderer if the display mode combobox is selected on 'Tasks'\n                            return ctx.gantt.colorMode === 'showTasks'\n                        },\n                        text : function(activity) { // Instead of using a function, the text property could have been declared as: text : \"TASK.NAME\"\n                            return activity.TASK.NAME;\n                        },\n                        textOverflow : 'noDisplay', // Hide the text if it doesn't fit the width of the activity rectangle\n                        background : {\n                            // Uncomment line below to fix the index order of task names and therefore ensure tasks will always be displayed with the same color.\n                            //values : [ 'facade', 'ceiling', 'windows', 'moving', 'masonry', 'carpentry', 'roofing', 'plumbing', 'painting', 'garden' ],\n                            // Uncomment line below for using a palette replacement from the default Gantt palette.\n                            //palette : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\", \"#6a3d9a\"],\n                            getValue : 'TASK.NAME'\n                        },\n                        color : 'automatic', // Text color will be white or black depending on the background color of the activity rectangle.\n                        tooltipProperties : function(activity, ctx) {\n                            var props = [ 'Start', new Date(activity.start).format(), 'End', new Date(activity.end).format()];\n                            // Create a large amount of tooltip properties to demonstrate how the tooltip behaves on large property numbers.\n                            for(var i = 0; i < 50; i++) {\n                                props.push('Property ' + (i + 1));\n                                props.push('Value ' + (i + 1));\n                            }\n                            return props;\n                        }\n                    }, {\n                        selector : function(object, ctx) {\n                            // Use this renderer if the display mode combobox is selected on 'Houses'\n                            return ctx.gantt.colorMode === 'showHouses'\n                        },\n                        text : function(activity) {\n                            return \"H\" + activity.HOUSE;\n                        },\n                        background : {\n                            values : function(object, ctx) {\n                                return Object.keys(ctx.gantt.houseTimeWindows);\n                            },\n                            // Default palette is used\n                            getValue : 'HOUSE' // Access the HOUSE field of provided activity. eq to function(act) { return act.HOUSE; }\n                        },\n                        color : 'automatic' // Text color will be white or black depending on the background color of the activity rectangle.\n                    }, {\n                        selector : function(object, ctx) {\n                            // Use this renderer if the display mode combobox is selected on 'All'\n                            return ctx.gantt.colorMode === 'showAll'\n                        },\n                        text : function(activity) {\n                            return \"H\" + activity.HOUSE + '-' + activity.TASK.NAME;\n                        },\n                        background : {\n                            values : function(object, row) {\n                                return Object.keys(row.gantt.houseTimeWindows);\n                            },\n                            getValue : 'HOUSE'\n                        },\n                        color : 'automatic' // Text color will be white or black depending on the background color of the activity rectangle.\n                    }\n                 ]\n            }\n            ...\n        }\n        new Gantt( 'gantt', ganttConfig );\n```\n\n<a id=\"activityrenderer_callbacks\"></a>\n\n#### Callbacks\n\nAll renderer properties can be defined as function callbacks to fetch display properties according to dynamic user model properties.\nFunctions will be called providing as the parameters:\n\n- The Gantt reservation or activity being rendered, depending on whether the Gantt chart is a Schedule chart or Activity chart.\n  In the House building sample previously illustrated, the passed object is a Gantt reservation associated with the assignments of the user model.\n- The Gantt resource or Gantt activity containing the activity being rendered, depending on whether the Gantt is a Schedule chart or Activity chart.\n\nSee [Binding of user and Gantt data](./?path=/story/guides-data--overview) for details on how to access user model object through Gantt model objects.\n"},822:function(module,exports){module.exports="# Layout of activities\n\nIn the timetable, activities are positioned on the horizontal time axis according to the start and end property of the activity.\nBy default, activities fit the height of their containing row, minus a vertical padding.\n\nThis is usually fine for most user models when a resource can only perform one activity at a time.\nFor models with resources having parallel activities, however, activities can be partially or fully hidden as all activities in a same row have the same vertical position and a same height.\n\nTo avoid this behavior, the Gantt configuration allows you to change the activity layout to vertically display the activities differently.\n\nTwo alternative activity layouts can be used:\n\n1. Logistic layout\n\n   Parallel activities in a same resource are cascaded vertically. This layout does not impact the height of the resource row.\n\n![alt text](/images/doc/logistic-layout.png 'Logistic layout')\n\n2. Tile layout\n\n   Parallel activities are vertically stacked on top each others. This layout does impact the height of the resource row.\n\n![alt text](/images/doc/tile-layout.png 'Tile layout')\n\nThe activity layout is specified with the Gantt configuration `timeTable.layout.strategy` which can be given a `string` that identifies the layout to use or a function returning the same `string`.\n\n- Use the `string` value `\"logistic\"` for logistic layout.\n- Use the `string` value `\"tile\"` for tile layout.\n- Use an empty `string` value for the default activity layout.\n\nThis code extract is from the [row layout](/examples/rowlayout.html) example that illustrates the change of activity layout with a function:\n\n```\n    var config {\n        ...\n        timeTable: {\n            layout: {\n                strategy: function (ctx) {\n                    return ctx.gantt.rowLayoutMode; // Returns either an empty string\n                }\n            }\n    ...\n```\n"},823:function(module,exports){module.exports="# Add decorations and breaks to the time line\n\nThe display of timelines can be customized to add different types of visual elements to provide useful information relative to time for the user model such as:\n\n- Show invalid time zones in which no activity can be performed. This use done by generating global decorations to the time line.\n- For each resource, show time frames when the resource cannot perform any activities (breaks). This is done by generating time decorations local to a specific resource.\n- Show time markers on the time axis for important dates of the schedule, such as the start date of a project. An API is provided for adding time markers.\n- Show time frame markers on the time axis to highlight specific time periods. An API is provided for adding time zone markers.\n\n### Decorations.\n\nDecorations are gray zones displayed in the background of activities to show information such as breaks for a resource or time zones when no activity can be performed.\nDecorations can be global to the time line or local to a resource. They have to predefined types:\n\n- Invalid, displayed by default as an hatched area:\n\n![alt text](/images/doc/decoration-invalid.png 'Invalid zone')\n\n- Break, displayed by default a solid gray area:\n\n![alt text](/images/doc/decoration-break.png 'Break zone')\n"},824:function(module,exports){module.exports="# Drag and drop of activities\n\nTODO...\n"},825:function(module,exports){module.exports="## Selection\n\nTODO...\n"},826:function(module,exports){module.exports="# Renderers\n\nRenderers are objects responsible for the display of all the customizable graphical elements of the Gantt chart: activities, table cells, constraint arrows, etc.\n\nThey have draw methods that generate the _DOM_ nodes of the elements that they are displaying and properties that are used by the drawing methods, such as `color` or `background`.\nRenderers are powerful tools for customization:\n\n- They can use _[palettes](#renderer_palette)_ for providing colors based on some property values.\n- Values for display properties such as `color` can be **functions** to provide display based on user model properties.\n- They can be _[cascaded](#renderer_cascading)_ and act as _CSS rules_, allowing you to apply a renderer conditionally based on dynamic properties, such as the selection of a combobox showing different display modes for the Gantt.\n\nRenderers are automatically instantiated from declarations int the Gantt configuration and have different drawing methods and properties depending on the type of elements they display.\nRenderers are declared in:\n\n- `timeTable.renderer` configuration for rendering activities\n- `table.columns.[column].renderer` for rendering table cells\n- `constraints.renderer` for rendering constraint arrow connectors.\n- `loadResourceChart.renderer' for rendering bar charts in a load resource chart.\n\nHere is a schematic declaration of an activity renderer:\n\n```\n    var ganttConfig = {\n        data : { ...},\n        timeTable : {\n            renderer : {\n                text : function(activity) {\n                    return activity.TASK.NAME;\n                },\n                background : {\n                    getValue : 'TASK.NAME'\n                },\n                color : 'automatic',\n                tooltipProperties : function(activity, ctx) {\n                    return [ 'Start', new Date(activity.start).format(), 'End', new Date(activity.end).format()];\n                }\n            }\n        }\n    };\n    new Gantt( 'gantt', ganttConfig );\n```\n\n<a id=\"renderer_defaultproperties\"></a>\n\n#### Common renderer properties\n\nSome properties can be declared for all renderer types in the Gantt configuration:\n\n| Property          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |\n| ----------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| background        | The background of the element being rendered, for example, the background of the activity rectangle. Can be declared as:<br />a `string` for the color, for example `\"#edf8b1\"`;<br /> a function that returns a string color, see [callbacks](#callbacks) for details;<br />an object with `getValue` accessors for using palettes, as detailed in [Renderers](./?path=/story/guides-miscellaneous--renderers).                                                                                                                  |\n| color             | The color used for displaying text. Can be declared as: <br />a`string` for the color, for example,`\"#edf8b1\"`;<br />an `automatic` value can be used for using a black or white color that best contrasts with the current background color of the element; <br /> a function that returns a string color, see [callbacks](#callbacks) for details.                                                                                                                                                                              |\n| text              | The text of the element being rendered. For example, the text is the name of the activity by default for the activity renderer. Can be declared as: <br />a `string` to declare a [property accessor](./?path=/story/guides-data--data-accessors) to fetch the text from a property of the renderer user object.<br />a function that returns the text, see [callbacks](#callbacks) for details.                                                                                                                                  |\n| icon              | The icon for the element being rendered. The icon is usually displayed left of the text. Can be declared as: <br />a `string` to declare a [property accessor](./?path=/story/guides-data--data-accessors) to fetch the icon from a property of the renderer user object;<br />a function returning the icon path, see [callbacks](#callbacks) for details.                                                                                                                                                                       |\n| textOverflow      | The mode for managing text overflow. Can have one of the values: <br />`\"ellipsis\"`: Ellipses are shown if the text is too long to fit in the containing element.<br />`\"noDisplay\"`: Text is not displayed if too long.<br />`\"cut\"`: The text is cut to its containing element.                                                                                                                                                                                                                                                 |\n| classes           | CSS class or classes for the element being rendered. Can be declared as:<br />an array of strings for the CSS classes to add;<br />a function returning an array of CSS classes. See [callbacks](#callbacks) for details                                                                                                                                                                                                                                                                                                          |\n| filter            | A filter for the displayed elements. Declared as a function taking three parameters:<br />- The Gantt object to filter, an activity for an activity renderer.<br/>- A contextual parameter that depends on the type of renderer.<br />- The current search string text in the search text field if any.<br />The function returns `true` if the user model object is accepted with the specified text, `false` otherwise.                                                                                                         |\n| tooltipProperties | A function that returns a list of keys or values to display in the tooltip associated with the element to renderer, see [callbacks](#callbacks) for parameter details. En example of returned array is: `[ \"start\", \"March 1975\", \"end\", \"April 1977\" ]`.                                                                                                                                                                                                                                                                         |\n| tooltip           | Provides the complete HTML for the tooltip associated with the element to the renderer. This can be used as an alternative to using `tooltipProperties` if the generated HTML for this last property does not fit the user needs. <br />Declared as a function taking as the first parameter the user model object being rendered and a contextual object, depending on the type of renderer, as the second parameter. <br />The function returns a string for the generated HTML to insert in the tooltip DOM container element. |\n\n<a id=\"callbacks\"></a>\n\n#### Callbacks\n\nAll renderer properties such as `text` or `color` can be defined with function callbacks.\nFor all type of renderers, callbacks are provided the Gantt object being rendered as the first parameter.\nThe second parameter provided to the callback depends on the type of the renderer. For example, activity renderers will pass the Gantt resource associated with the rendered reservation as the second parameter.\n\nAs detailed in [Binding of user and Gantt data](./?path=/story/guides-data--overview), properties of the user object associated with the Gantt object can be accessed transparently through the Gantt object.\nGantt objects have their associated user model object as **prototype**. If property names conflicts arise between both objects, the user model object can be accessed with the `getData` method of the Gantt object.\n\n<a id=\"renderer_palette\"></a>\n\n#### Use of palette\n\nWhen it comes to coloring a graphic element based on the a particular user model value, palettes are the perfect tool.\nPalettes are only used for renderer properties associated with colors, such as properties 'color' or 'background' common to all renderers.\nTo use a palette for such purposes you can declare the renderer as an object with the following structure:\n\n| Property |           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                            |\n| -------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| getValue | Mandatory | [Data accessor](./?path=/story/guides-data--data-accessors) to retrieve a value used for processing the index of the color in the palette. The contextual object used by the accessor (provided as the first parameter if the data accessor is a function) is the user model object being rendered.                                                                                                                                                                    |\n| values   | Optional  | Array or function returning an array of possible values returned by the `getValue` accessor. If provided, the index of returned values in this array is the index provided to the palette for getting a color. If `values` are not provided, possible values are gathered dynamically after each call to `getValue`. The disadvantage of this last method is that the color index might vary after each Gantt display depending on occurrences of values in the model. |\n| palette  | Optional  | Declares a palette to be used for this color property. See the [Palette](./?path=/story/guides-miscellaneous--palettes) for declaration of palettes. If not provided, the default Gantt palette is used.                                                                                                                                                                                                                                                               |\n\nHere is a code extract from the [House buildig](/examples/house_building.html) example using palette colors:\n\n```\n    var ganttConfig = {\n        ...\n        timeTable : {\n            renderer : [ ...,\n            {\n                selector : function(object, ctx) {\n                    // Renderer only applied if the selection of the display mode combobox is 'showAll'\n                    return ctx.gantt.colorMode === 'showAll'\n                },\n                text : function(activity) {\n                    return \"H\" + activity.HOUSE + '-' + activity.TASK.NAME;\n                },\n                background : {\n                    values : function(object, row) { // Function returning an array of possible values.\n                        return Object.keys(row.gantt.houseTimeWindows);\n                    },\n                    getValue : 'HOUSE' // Value used for the background color is provided with the 'HOUSE' property of user model activity objects being rendered.\n                },\n                color : 'automatic'\n            }]\n        }\n        ...\n    }\n    new Gantt( 'gantt', ganttConfig );\n```\n\n<a id=\"renderer_automatic\"></a>\n\n#### Automatic foregrounds\n\nProviding a color for text to display on top of an unpredictable background color is tricky. This is the case when using palettes for background color.\nThe `automatic` string value given to the `color` property of a renderer specifies that the Gantt will choose between a white or black color for the text to get the best contrast with the background color given to the rendered element.\n\n<a id=\"renderer_cascading\"></a>\n\n#### Conditional rendering\n\nRenderers provide tools to act as _CSS rules_:\n\n- They have an optional _selector_ property which is a function that determines whether the renderer can be applied. If no selector is provided, the renderer is always applied.\n  A typical use of selectors is when a combo box provides several display modes for a Gantt chart. Each display mode is associated with one renderer and the selector of each renderer returns `true` only if the combo box selection correspond to the renderer.\n- Instead of declaring one renderer object, an array of renderers can be declared.\n  Renderers are applied the one after the other, in the array order.\n\nHere is a code extract from the [House building](/examples/house_building.html) example illustrating the use of several renderers of the display of activities:\n\n```\n    var ganttConfig = {\n        ...\n        timeTable : {\n            renderer : [{ // Array of renderers declared\n                selector : function(activitiy, ctx) {\n                    // Renderer only applied if the selection of the display mode combobox is 'showTasks'\n                    return ctx.gantt.colorMode === 'showTasks'\n                },\n                text : function(activity) {\n                    return activity.TASK.NAME;\n                },\n                textOverflow : 'noDisplay',\n                background : {\n                    getValue : 'TASK.NAME'\n                },\n                color : 'automatic',\n                tooltipProperties : function(activity, ctx) {\n                    ...\n                    return props;\n                }\n            }, {\n                selector : function(activity, ctx) {\n                    // Renderer only applied if the selection of the display mode combobox is 'showHouses'\n                    return ctx.gantt.colorMode === 'showHouses'\n                },\n                text : function(activity) {\n                    return \"H\" + activity.HOUSE;\n                },\n                background : {\n                    values : function(object, ctx) {\n                        return Object.keys(ctx.gantt.houseTimeWindows);\n                    },\n                    // Default palette is used\n                    getValue : 'HOUSE' // Access the HOUSE field of provided activity. eq to function(act) { return act.HOUSE; }\n                },\n                color : 'automatic'\n            }, {\n                selector : function(object, ctx) {\n                    // Renderer only applied if the selection of the display mode combobox is 'showAll'\n                    return ctx.gantt.colorMode === 'showAll'\n                },\n                text : function(activity) {\n                    return \"H\" + activity.HOUSE + '-' + activity.TASK.NAME;\n                },\n                background : {\n                    values : function(object, row) {\n                        return Object.keys(row.gantt.houseTimeWindows);\n                    },\n                    getValue : 'HOUSE'\n                },\n                color : 'automatic'\n            }]\n        }\n        ...\n    }\n    new Gantt( 'gantt', ganttConfig );\n```\n"},827:function(module,exports){module.exports='# Palettes\n\nPalettes are functions that return a color when given an index. They are used by [renderers](./?path=/story/guides-miscellaneous--renderers) to color display elements according to property values.\nIf the palette is defined with a finite number of colors and the provided index exceeds this number, the modulo index for the number of colors is used instead.\n\nPalettes can be declared for each renderer or globally to the Gantt chart, with the `palette` property of the Gantt configuration.\nThey can be declared with different signatures:\n\n1. Array\n\n   The palette is provided as an array of colors\n\n```\n   var ganttConfig : {\n       ...\n       palette: ["#ffffd9", "#edf8b1", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#0c2c84"]\n   }\n   new Gantt( \'gantt\', ganttConfig );\n```\n\n2. Function\n\n   The palette is configured as a function, taking as a parameter an index and returning a color.\n\n```\n   var ganttConfig : {\n       ...\n       palette: function(index) { return \'...\'; // Smart code for processing a color based on the given index.\n   }\n   new Gantt( \'gantt\', ganttConfig );\n```\n'},828:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",(function(){return withStorySource})),__webpack_require__.d(__webpack_exports__,"__STORY__",(function(){return __STORY__})),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",(function(){return __ADDS_MAP__}));var ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_storybook_html__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),_createXMLDataConfig__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(367),withStorySource=(__webpack_require__(91),__webpack_require__(71).withStorySource),__STORY__="import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport createXMLDataConfig from './createXMLDataConfig';\n\nimport '../stories.scss';\n\nfunction createActivitiesGanttConfig() {\n  const ganttData = createXMLDataConfig('activity_chart/activity_chart.xml');\n  return {\n    data: ganttData,\n    classes: 'activity-chart-example',\n    type: Gantt.type.ACTIVITY_CHART,\n    constraints: {\n      renderer: [\n        {\n          selector(object, ctx) {\n            return ctx.gantt.layoutLabelMode === 'right';\n          },\n          nodeLabelLayout: 'right',\n        },\n        {\n          selector(object, ctx) {\n            return ctx.gantt.layoutLabelMode === 'left';\n          },\n          nodeLabelLayout: 'left',\n        },\n        {\n          selector(object, ctx) {\n            return ctx.gantt.layoutLabelMode === 'noLinkCrossing';\n          },\n          nodeLabelLayout: {\n            padding: 12, // Horizontal padding between the label and the node or link\n            // If possible place the node label in a free space between a node/link and a link.\n            //      If several holes are possible, choose the one the closest from the node.\n            // If not possible, place the text after the last link from the node\n            startLayout(act, labelWidth, ctx) {\n              this.closestHole = null;\n              this.furtherLeft = this.padding;\n              this.furtherRight = this.padding;\n              this.w = labelWidth + this.padding;\n            },\n            nextLink(act, left, linkX, previousX, nodeX, ctx) {\n              if (Math.abs(linkX - previousX) >= this.w) {\n                const newHole = left\n                  ? -Math.abs(nodeX - previousX) - this.padding\n                  : Math.abs(previousX - nodeX) + this.padding;\n                if (this.closestHole === null || Math.abs(newHole) < Math.abs(this.closestHole)) {\n                  this.closestHole = newHole + (left ? -this.padding : this.padding);\n                }\n              }\n              // Keep track of the position of the furthest link from the node on this side\n              else if (left) {\n                this.furtherLeft = Math.max(Math.abs(nodeX - linkX) + this.padding, this.furtherLeft);\n              } else {\n                this.furtherRight = Math.max(Math.abs(linkX - nodeX) + this.padding, this.furtherRight);\n              }\n            },\n            getNodeToLabelSpacing(act, bbox, textWidth, ctx) {\n              return this.closestHole !== null\n                ? this.closestHole\n                : this.furtherLeft < this.furtherRight\n                ? -this.furtherLeft\n                : this.furtherRight;\n            },\n          },\n        },\n      ],\n    },\n    toolbar: [\n      'title',\n      'search',\n      'separator',\n      'mini',\n      'separator',\n      'fitToContent',\n      'zoomIn',\n      'zoomOut',\n      'separator',\n      // User specific label layout\n      {\n        type: 'select',\n        text: 'Show',\n        options: [\n          { value: 'default', text: 'Default' },\n          { value: 'right', text: 'Right' },\n          { value: 'left', text: 'Left' },\n          { value: 'noLinkCrossing', text: 'No link crossing' },\n        ],\n        onchange(value, ctx) {\n          const { gantt } = ctx;\n          gantt.layoutLabelMode = value;\n          gantt.draw(true);\n        },\n      },\n    ],\n    title: 'Activity Chart example',\n  };\n}\n\nstoriesOf('Storybook|Examples', module).add('Activity Chart', () => {\n  setTimeout(() => {\n    new Gantt('gantt', createActivitiesGanttConfig());\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__={"storybook-examples--activity-chart":{startLoc:{col:44,line:102},endLoc:{col:1,line:107}}};Object(_storybook_html__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Storybook|Examples",module).addDecorator(withStorySource("import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport createXMLDataConfig from './createXMLDataConfig';\n\nimport '../stories.scss';\n\nfunction createActivitiesGanttConfig() {\n  const ganttData = createXMLDataConfig('activity_chart/activity_chart.xml');\n  return {\n    data: ganttData,\n    classes: 'activity-chart-example',\n    type: Gantt.type.ACTIVITY_CHART,\n    constraints: {\n      renderer: [\n        {\n          selector(object, ctx) {\n            return ctx.gantt.layoutLabelMode === 'right';\n          },\n          nodeLabelLayout: 'right',\n        },\n        {\n          selector(object, ctx) {\n            return ctx.gantt.layoutLabelMode === 'left';\n          },\n          nodeLabelLayout: 'left',\n        },\n        {\n          selector(object, ctx) {\n            return ctx.gantt.layoutLabelMode === 'noLinkCrossing';\n          },\n          nodeLabelLayout: {\n            padding: 12, // Horizontal padding between the label and the node or link\n            // If possible place the node label in a free space between a node/link and a link.\n            //      If several holes are possible, choose the one the closest from the node.\n            // If not possible, place the text after the last link from the node\n            startLayout(act, labelWidth, ctx) {\n              this.closestHole = null;\n              this.furtherLeft = this.padding;\n              this.furtherRight = this.padding;\n              this.w = labelWidth + this.padding;\n            },\n            nextLink(act, left, linkX, previousX, nodeX, ctx) {\n              if (Math.abs(linkX - previousX) >= this.w) {\n                const newHole = left\n                  ? -Math.abs(nodeX - previousX) - this.padding\n                  : Math.abs(previousX - nodeX) + this.padding;\n                if (this.closestHole === null || Math.abs(newHole) < Math.abs(this.closestHole)) {\n                  this.closestHole = newHole + (left ? -this.padding : this.padding);\n                }\n              }\n              // Keep track of the position of the furthest link from the node on this side\n              else if (left) {\n                this.furtherLeft = Math.max(Math.abs(nodeX - linkX) + this.padding, this.furtherLeft);\n              } else {\n                this.furtherRight = Math.max(Math.abs(linkX - nodeX) + this.padding, this.furtherRight);\n              }\n            },\n            getNodeToLabelSpacing(act, bbox, textWidth, ctx) {\n              return this.closestHole !== null\n                ? this.closestHole\n                : this.furtherLeft < this.furtherRight\n                ? -this.furtherLeft\n                : this.furtherRight;\n            },\n          },\n        },\n      ],\n    },\n    toolbar: [\n      'title',\n      'search',\n      'separator',\n      'mini',\n      'separator',\n      'fitToContent',\n      'zoomIn',\n      'zoomOut',\n      'separator',\n      // User specific label layout\n      {\n        type: 'select',\n        text: 'Show',\n        options: [\n          { value: 'default', text: 'Default' },\n          { value: 'right', text: 'Right' },\n          { value: 'left', text: 'Left' },\n          { value: 'noLinkCrossing', text: 'No link crossing' },\n        ],\n        onchange(value, ctx) {\n          const { gantt } = ctx;\n          gantt.layoutLabelMode = value;\n          gantt.draw(true);\n        },\n      },\n    ],\n    title: 'Activity Chart example',\n  };\n}\n\nstoriesOf('Storybook|Examples', module).add('Activity Chart', () => {\n  setTimeout(() => {\n    new Gantt('gantt', createActivitiesGanttConfig());\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__)).add("Activity Chart",(function(){return setTimeout((function(){new ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_0__.a("gantt",function createActivitiesGanttConfig(){return{data:Object(_createXMLDataConfig__WEBPACK_IMPORTED_MODULE_2__.a)("activity_chart/activity_chart.xml"),classes:"activity-chart-example",type:ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_0__.a.type.ACTIVITY_CHART,constraints:{renderer:[{selector:function selector(object,ctx){return"right"===ctx.gantt.layoutLabelMode},nodeLabelLayout:"right"},{selector:function selector(object,ctx){return"left"===ctx.gantt.layoutLabelMode},nodeLabelLayout:"left"},{selector:function selector(object,ctx){return"noLinkCrossing"===ctx.gantt.layoutLabelMode},nodeLabelLayout:{padding:12,startLayout:function startLayout(act,labelWidth){this.closestHole=null,this.furtherLeft=this.padding,this.furtherRight=this.padding,this.w=labelWidth+this.padding},nextLink:function nextLink(act,left,linkX,previousX,nodeX){if(Math.abs(linkX-previousX)>=this.w){var newHole=left?-Math.abs(nodeX-previousX)-this.padding:Math.abs(previousX-nodeX)+this.padding;(null===this.closestHole||Math.abs(newHole)<Math.abs(this.closestHole))&&(this.closestHole=newHole+(left?-this.padding:this.padding))}else left?this.furtherLeft=Math.max(Math.abs(nodeX-linkX)+this.padding,this.furtherLeft):this.furtherRight=Math.max(Math.abs(linkX-nodeX)+this.padding,this.furtherRight)},getNodeToLabelSpacing:function getNodeToLabelSpacing(){return null===this.closestHole?this.furtherLeft<this.furtherRight?-this.furtherLeft:this.furtherRight:this.closestHole}}}]},toolbar:["title","search","separator","mini","separator","fitToContent","zoomIn","zoomOut","separator",{type:"select",text:"Show",options:[{value:"default",text:"Default"},{value:"right",text:"Right"},{value:"left",text:"Left"},{value:"noLinkCrossing",text:"No link crossing"}],onchange:function onchange(value,ctx){var gantt=ctx.gantt;gantt.layoutLabelMode=value,gantt.draw(!0)}}],title:"Activity Chart example"}}())}),0),'<div id="gantt"></div>'}))}.call(this,__webpack_require__(56)(module))},829:function(module,exports,__webpack_require__){(function(__webpack_provided_window_dot_jQuery,__webpack_provided_window_dot_$){var $=__webpack_require__(7);"undefined"!=typeof window&&$,__webpack_require__(830)(window,$)}).call(this,__webpack_require__(7),__webpack_require__(7))},832:function(module,exports,__webpack_require__){},833:function(module,exports,__webpack_require__){},835:function(module,exports,__webpack_require__){},836:function(module,exports,__webpack_require__){},837:function(module,exports,__webpack_require__){},838:function(module,exports,__webpack_require__){},839:function(module,exports,__webpack_require__){},841:function(module,exports,__webpack_require__){},842:function(module,exports,__webpack_require__){},843:function(module,__webpack_exports__,__webpack_require__){"use strict";var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_core_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),allGantts=[],removeGantt=function removeGantt(gantt){var index=allGantts.indexOf(gantt);return index>-1&&allGantts.splice(index,1),gantt};_core_core__WEBPACK_IMPORTED_MODULE_1__.a.envReady=function(){return new Promise((function(resolve,reject){jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).ready(resolve)}))};try{jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.Gantt=function(options){var gantts=[];this.each((function(){var _this=this,gantt=function getGantt(node){for(var i=0,count=allGantts.length;i<count;++i)if(allGantts[i].node===node)return allGantts[i];return null}(this);if(gantt){if(!options)return;gantt.destroy(),removeGantt(gantt)}(gantt=new _core_core__WEBPACK_IMPORTED_MODULE_1__.a(this,options)).disconnect=function(){removeGantt(_this)},gantts.push(gantt)}));var ganttRef=gantts.length&&gantts[0],apiRef=ganttRef&&ganttRef.api&&ganttRef.api()||{};return 1===gantts.length?this.api=function(){return apiRef}:gantts.length>0||(this.api=function(){return{}}),jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend(this,apiRef),gantts.length&&gantts[0]}}catch(e){console.error(e)}},844:function(module,__webpack_exports__,__webpack_require__){"use strict";var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_core_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);_core_core__WEBPACK_IMPORTED_MODULE_1__.a.utils=jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({},_core_core__WEBPACK_IMPORTED_MODULE_1__.a.utils,{closest:function closest(elt,selector){var res=jquery__WEBPACK_IMPORTED_MODULE_0___default()(elt).closest(selector);return res&&res.length&&res[0]||null},mergeObjects:function mergeObjects(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend.apply(jquery__WEBPACK_IMPORTED_MODULE_0___default.a,args)},offsetParent:function offsetParent(elt){var $parent=jquery__WEBPACK_IMPORTED_MODULE_0___default()(elt).offsetParent();return $parent.length&&$parent[0]||null},ajax:function ajax(url,params){var $params={url:url||params.url,dataType:params&&params.dataType||"json"};params&&params.method&&($params.method=params.method),params&&params.params&&($params.data=params.params),params&&params.customizeRequest&&($params.beforeSend=params.customizeRequest);params.settings;return params&&params.success?jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajax($params).then((function(data,statusText,req){return params.settings&&(params.settings.statusText=statusText,params.settings.request=req),params.context?params.success.call(params.context,data,params.settings):params.success(data,params.settings)})):jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajax($params)},getHeight:function getHeight(elt){return jquery__WEBPACK_IMPORTED_MODULE_0___default()(elt).height()}})},845:function(module,exports,__webpack_require__){},847:function(module,exports,__webpack_require__){},848:function(module,exports,__webpack_require__){},849:function(module,exports,__webpack_require__){},850:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",(function(){return withStorySource})),__webpack_require__.d(__webpack_exports__,"__STORY__",(function(){return __STORY__})),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",(function(){return __ADDS_MAP__}));var ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_storybook_html__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),withStorySource=(__webpack_require__(91),__webpack_require__(71).withStorySource),__STORY__="import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\n\nconst data = [\n  {\n    id: 'NURSES+Anne',\n    name: 'Anne',\n    activities: [\n      {\n        id: 'SHIFTS+Emergency+Monday+2+8',\n        name: 'Emergency',\n        start: 1474880400000,\n        end: 1474902000000,\n      },\n    ],\n  },\n  {\n    id: 'NURSES+Bethanie',\n    name: 'Bethanie',\n    activities: [],\n  },\n  {\n    id: 'NURSES+Betsy',\n    name: 'Betsy',\n    activities: [\n      {\n        id: 'SHIFTS+Emergency+Wednesday+12+18',\n        name: 'Emergency',\n        start: 1475089200000,\n        end: 1475110800000,\n      },\n      {\n        id: 'SHIFTS+Emergency+Saturday+12+20',\n        name: 'Emergency',\n        start: 1475348400000,\n        end: 1475377200000,\n      },\n      {\n        id: 'SHIFTS+Consultation+Friday+8+12',\n        name: 'Consultation',\n        start: 1475247600000,\n        end: 1475262000000,\n      },\n    ],\n  },\n  {\n    id: 'NURSES+Cathy',\n    name: 'Cathy',\n    activities: [\n      {\n        id: 'SHIFTS+Emergency+Sunday+20+2',\n        name: 'Emergency',\n        start: 1475463600000,\n        end: 1475485200000,\n      },\n      {\n        id: 'SHIFTS+Emergency+Saturday+12+20',\n        name: 'Emergency',\n        start: 1475348400000,\n        end: 1475377200000,\n      },\n      {\n        id: 'SHIFTS+Emergency+Monday+18+2',\n        name: 'Emergency',\n        start: 1474938000000,\n        end: 1474966800000,\n      },\n    ],\n  },\n  {\n    id: 'NURSES+Cindy',\n    name: 'Cindy',\n    activities: [\n      {\n        id: 'SHIFTS+Emergency+Saturday+20+2',\n        name: 'Emergency',\n        start: 1475377200000,\n        end: 1475398800000,\n      },\n      {\n        id: 'SHIFTS+Consultation+Friday+8+12',\n        name: 'Consultation',\n        start: 1475247600000,\n        end: 1475262000000,\n      },\n      {\n        id: 'SHIFTS+Consultation+Tuesday+8+12',\n        name: 'Consultation',\n        start: 1474988400000,\n        end: 1475002800000,\n      },\n    ],\n  },\n];\nconst config = {\n  data: {\n    // Configures how to fetch resources for the Gantt\n    resources: {\n      data, // resources are provided in an array. Instead, we could configure a request to the server.\n      // Activities of the resources are provided along with the 'activities' property of resource objects.\n      // Alternatively, they could be listed from the 'data.activities' configuration.\n      activities: 'activities',\n      name: 'name', // The name of the resource is provided with the name property of the resource object.\n      id: 'id', // The id of the resource is provided with the id property of the resource object.\n    },\n    // Configures how to fetch activities for the Gantt\n    // As activities are provided along with the resources, this section only describes how to create\n    // activity Gantt properties from the activity model objects.\n    activities: {\n      start: 'start', // The start of the activity is provided with the start property of the model object\n      end: 'end', // The end of the activity is provided with the end property of the model object\n      name: 'name', // The name of the activity is provided with the name property of the model object\n    },\n  },\n  // Configure a toolbar associated with the Gantt\n  toolbar: [\n    'title',\n    'search',\n    'separator',\n    {\n      type: 'button',\n      text: 'Refresh',\n      fontIcon: 'fa fa-refresh fa-lg',\n      onclick(ctx) {\n        ctx.gantt.draw();\n      },\n    },\n    'fitToContent',\n    'zoomIn',\n    'zoomOut',\n  ],\n  title: 'Simple Gantt', // Title for the Gantt to be displayed in the toolbar\n};\n\nstoriesOf('Storybook|Examples', module).add('Basic', () => {\n  setTimeout(() => {\n    new Gantt('gantt', config);\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__={"storybook-examples--basic":{startLoc:{col:44,line:138},endLoc:{col:1,line:143}}},config={data:{resources:{data:[{id:"NURSES+Anne",name:"Anne",activities:[{id:"SHIFTS+Emergency+Monday+2+8",name:"Emergency",start:14748804e5,end:1474902e6}]},{id:"NURSES+Bethanie",name:"Bethanie",activities:[]},{id:"NURSES+Betsy",name:"Betsy",activities:[{id:"SHIFTS+Emergency+Wednesday+12+18",name:"Emergency",start:14750892e5,end:14751108e5},{id:"SHIFTS+Emergency+Saturday+12+20",name:"Emergency",start:14753484e5,end:14753772e5},{id:"SHIFTS+Consultation+Friday+8+12",name:"Consultation",start:14752476e5,end:1475262e6}]},{id:"NURSES+Cathy",name:"Cathy",activities:[{id:"SHIFTS+Emergency+Sunday+20+2",name:"Emergency",start:14754636e5,end:14754852e5},{id:"SHIFTS+Emergency+Saturday+12+20",name:"Emergency",start:14753484e5,end:14753772e5},{id:"SHIFTS+Emergency+Monday+18+2",name:"Emergency",start:1474938e6,end:14749668e5}]},{id:"NURSES+Cindy",name:"Cindy",activities:[{id:"SHIFTS+Emergency+Saturday+20+2",name:"Emergency",start:14753772e5,end:14753988e5},{id:"SHIFTS+Consultation+Friday+8+12",name:"Consultation",start:14752476e5,end:1475262e6},{id:"SHIFTS+Consultation+Tuesday+8+12",name:"Consultation",start:14749884e5,end:14750028e5}]}],activities:"activities",name:"name",id:"id"},activities:{start:"start",end:"end",name:"name"}},toolbar:["title","search","separator",{type:"button",text:"Refresh",fontIcon:"fa fa-refresh fa-lg",onclick:function onclick(ctx){ctx.gantt.draw()}},"fitToContent","zoomIn","zoomOut"],title:"Simple Gantt"};Object(_storybook_html__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Storybook|Examples",module).addDecorator(withStorySource("import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\n\nconst data = [\n  {\n    id: 'NURSES+Anne',\n    name: 'Anne',\n    activities: [\n      {\n        id: 'SHIFTS+Emergency+Monday+2+8',\n        name: 'Emergency',\n        start: 1474880400000,\n        end: 1474902000000,\n      },\n    ],\n  },\n  {\n    id: 'NURSES+Bethanie',\n    name: 'Bethanie',\n    activities: [],\n  },\n  {\n    id: 'NURSES+Betsy',\n    name: 'Betsy',\n    activities: [\n      {\n        id: 'SHIFTS+Emergency+Wednesday+12+18',\n        name: 'Emergency',\n        start: 1475089200000,\n        end: 1475110800000,\n      },\n      {\n        id: 'SHIFTS+Emergency+Saturday+12+20',\n        name: 'Emergency',\n        start: 1475348400000,\n        end: 1475377200000,\n      },\n      {\n        id: 'SHIFTS+Consultation+Friday+8+12',\n        name: 'Consultation',\n        start: 1475247600000,\n        end: 1475262000000,\n      },\n    ],\n  },\n  {\n    id: 'NURSES+Cathy',\n    name: 'Cathy',\n    activities: [\n      {\n        id: 'SHIFTS+Emergency+Sunday+20+2',\n        name: 'Emergency',\n        start: 1475463600000,\n        end: 1475485200000,\n      },\n      {\n        id: 'SHIFTS+Emergency+Saturday+12+20',\n        name: 'Emergency',\n        start: 1475348400000,\n        end: 1475377200000,\n      },\n      {\n        id: 'SHIFTS+Emergency+Monday+18+2',\n        name: 'Emergency',\n        start: 1474938000000,\n        end: 1474966800000,\n      },\n    ],\n  },\n  {\n    id: 'NURSES+Cindy',\n    name: 'Cindy',\n    activities: [\n      {\n        id: 'SHIFTS+Emergency+Saturday+20+2',\n        name: 'Emergency',\n        start: 1475377200000,\n        end: 1475398800000,\n      },\n      {\n        id: 'SHIFTS+Consultation+Friday+8+12',\n        name: 'Consultation',\n        start: 1475247600000,\n        end: 1475262000000,\n      },\n      {\n        id: 'SHIFTS+Consultation+Tuesday+8+12',\n        name: 'Consultation',\n        start: 1474988400000,\n        end: 1475002800000,\n      },\n    ],\n  },\n];\nconst config = {\n  data: {\n    // Configures how to fetch resources for the Gantt\n    resources: {\n      data, // resources are provided in an array. Instead, we could configure a request to the server.\n      // Activities of the resources are provided along with the 'activities' property of resource objects.\n      // Alternatively, they could be listed from the 'data.activities' configuration.\n      activities: 'activities',\n      name: 'name', // The name of the resource is provided with the name property of the resource object.\n      id: 'id', // The id of the resource is provided with the id property of the resource object.\n    },\n    // Configures how to fetch activities for the Gantt\n    // As activities are provided along with the resources, this section only describes how to create\n    // activity Gantt properties from the activity model objects.\n    activities: {\n      start: 'start', // The start of the activity is provided with the start property of the model object\n      end: 'end', // The end of the activity is provided with the end property of the model object\n      name: 'name', // The name of the activity is provided with the name property of the model object\n    },\n  },\n  // Configure a toolbar associated with the Gantt\n  toolbar: [\n    'title',\n    'search',\n    'separator',\n    {\n      type: 'button',\n      text: 'Refresh',\n      fontIcon: 'fa fa-refresh fa-lg',\n      onclick(ctx) {\n        ctx.gantt.draw();\n      },\n    },\n    'fitToContent',\n    'zoomIn',\n    'zoomOut',\n  ],\n  title: 'Simple Gantt', // Title for the Gantt to be displayed in the toolbar\n};\n\nstoriesOf('Storybook|Examples', module).add('Basic', () => {\n  setTimeout(() => {\n    new Gantt('gantt', config);\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__)).add("Basic",(function(){return setTimeout((function(){new ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_0__.a("gantt",config)}),0),'<div id="gantt"></div>'}))}.call(this,__webpack_require__(56)(module))},851:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",(function(){return withStorySource})),__webpack_require__.d(__webpack_exports__,"__STORY__",(function(){return __STORY__})),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",(function(){return __ADDS_MAP__}));var ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_storybook_html__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),withStorySource=(__webpack_require__(91),__webpack_require__(71).withStorySource),__STORY__="import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\n\nfunction createAirbusConfig() {\n  return {\n    data: {\n      resources: {\n        url: 'airbus/airbus.json',\n        parent: 'ParentID',\n        id: 'id',\n        activities: 'tasks',\n        name: 'name',\n      },\n      activities: {\n        start: 'from',\n        end: 'to',\n        name: 'name',\n        id: 'id',\n      },\n    },\n    classes: 'airbus',\n    title() {\n      return 'Airbus';\n    },\n  };\n}\n\nstoriesOf('Storybook|Performances', module).add('Big Data', () => {\n  setTimeout(() => {\n    var startTime = new Date().getTime();\n    console.log('Start');\n    var gantt = new Gantt('gantt', createAirbusConfig());\n    gantt.on(Gantt.events.TIME_LINE_INIT, () =>\n      console.log(`Initialization time: ${new Date().getTime() - startTime} millis`)\n    );\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__={"storybook-performances--big-data":{startLoc:{col:48,line:31},endLoc:{col:1,line:41}}};Object(_storybook_html__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Storybook|Performances",module).addDecorator(withStorySource("import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\n\nfunction createAirbusConfig() {\n  return {\n    data: {\n      resources: {\n        url: 'airbus/airbus.json',\n        parent: 'ParentID',\n        id: 'id',\n        activities: 'tasks',\n        name: 'name',\n      },\n      activities: {\n        start: 'from',\n        end: 'to',\n        name: 'name',\n        id: 'id',\n      },\n    },\n    classes: 'airbus',\n    title() {\n      return 'Airbus';\n    },\n  };\n}\n\nstoriesOf('Storybook|Performances', module).add('Big Data', () => {\n  setTimeout(() => {\n    var startTime = new Date().getTime();\n    console.log('Start');\n    var gantt = new Gantt('gantt', createAirbusConfig());\n    gantt.on(Gantt.events.TIME_LINE_INIT, () =>\n      console.log(`Initialization time: ${new Date().getTime() - startTime} millis`)\n    );\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__)).add("Big Data",(function(){return setTimeout((function(){var startTime=(new Date).getTime();console.log("Start"),new ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_0__.a("gantt",{data:{resources:{url:"airbus/airbus.json",parent:"ParentID",id:"id",activities:"tasks",name:"name"},activities:{start:"from",end:"to",name:"name",id:"id"}},classes:"airbus",title:function title(){return"Airbus"}}).on(ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_0__.a.events.TIME_LINE_INIT,(function(){return console.log("Initialization time: ".concat((new Date).getTime()-startTime," millis"))}))}),0),'<div id="gantt"></div>'}))}.call(this,__webpack_require__(56)(module))},852:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",(function(){return withStorySource})),__webpack_require__.d(__webpack_exports__,"__STORY__",(function(){return __STORY__})),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",(function(){return __ADDS_MAP__}));__webpack_require__(57),__webpack_require__(116);var ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_storybook_html__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20),withStorySource=(__webpack_require__(91),__webpack_require__(853),__webpack_require__(71).withStorySource),__STORY__="import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\nimport './house_building.css';\n\nfunction createHouseBuildingGanttConfig() {\n  const nowMillis = new Date(2016, 7, 8, 8, 0, 0, 0).getTime();\n  function makeDate(num) {\n    return nowMillis + num * 12 * 60 * 60 * 1000;\n  }\n\n  function processHouseTimeWindows(workers, settings) {\n    const gantt = settings.gantt;\n    gantt.colorMode = 'showTasks';\n    gantt.houseTimeWindows = {};\n    let assigns, assign, iAssign, wnd;\n    for (let iWorker = 0, count = workers.length; iWorker < count; ++iWorker) {\n      if ((assigns = workers[iWorker].ASSIGNMENTS)) {\n        for (iAssign = 0; iAssign < assigns.length; ++iAssign) {\n          assign = assigns[iAssign];\n          if (!(wnd = gantt.houseTimeWindows[assign.HOUSE])) {\n            gantt.houseTimeWindows[assign.HOUSE] = { start: assign.START, end: assign.END };\n          } else {\n            if (wnd.start > assign.START) wnd.start = assign.START;\n            if (wnd.end < assign.END) wnd.end = assign.END;\n          }\n        }\n      }\n    }\n    Object.keys(gantt.houseTimeWindows).forEach(function(house) {\n      gantt.houseTimeWindows[house].start = makeDate(gantt.houseTimeWindows[house].start);\n      gantt.houseTimeWindows[house].end = makeDate(gantt.houseTimeWindows[house].end);\n    });\n    return workers;\n  }\n\n  return {\n    data: {\n      resources: {\n        url: 'house_building/workers.json',\n        success: processHouseTimeWindows,\n        parent: 'PARENT_ID',\n        id: 'OBJECT_ID',\n        activities: 'ASSIGNMENTS',\n        name: 'NAME',\n      },\n      activities: {\n        start(assignment) {\n          return makeDate(assignment.START);\n        },\n        end(assignment) {\n          return makeDate(assignment.END);\n        },\n        name: 'TASK.NAME',\n      },\n    },\n    timeTable: {\n      renderer: [\n        {\n          selector(object, ctx) {\n            return ctx.gantt.colorMode === 'showTasks';\n          },\n          text(activity) {\n            if (activity == null || activity.TASK == null) {\n              console.log('NULL task!');\n            }\n            return activity.TASK.NAME;\n          },\n          textOverflow: 'noDisplay',\n          background: {\n            // values : [ 'facade', 'ceiling', 'windows', 'moving', 'masonry', 'carpentry', 'roofing', 'plumbing', 'painting', 'garden' ],\n            // palette : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\", \"#6a3d9a\"],\n            palette: ['#5aa8f8', '#4178bc', '#8cd211', '#c8f08f', '#ba8ff7', '#a6266e', '#ff7832'],\n            getValue: 'TASK.NAME',\n          },\n          color: 'automatic',\n          tooltipProperties(activity, ctx) {\n            const props = ['Start', new Date(activity.start).format(), 'End', new Date(activity.end).format()];\n            for (let i = 0; i < 50; i++) {\n              props.push('Property ' + (i + 1));\n              props.push('Value ' + (i + 1));\n            }\n            return props;\n          },\n        },\n        {\n          selector(object, ctx) {\n            return ctx.gantt.colorMode === 'showHouses';\n          },\n          text(activity) {\n            return 'H' + activity.HOUSE;\n          },\n          background: {\n            values(object, ctx) {\n              return Object.keys(ctx.gantt.houseTimeWindows);\n            },\n            // Default palette is used\n            getValue: 'HOUSE', // Access the HOUSE field of provided activity. eq to function(act) { return act.HOUSE; }\n          },\n          color: 'automatic',\n        },\n        {\n          selector(object, ctx) {\n            return ctx.gantt.colorMode === 'showAll';\n          },\n          text(activity) {\n            return 'H' + activity.HOUSE + '-' + activity.TASK.NAME;\n          },\n          background: {\n            values(object, row) {\n              return Object.keys(row.gantt.houseTimeWindows);\n            },\n            getValue: 'HOUSE',\n          },\n          color: 'automatic',\n        },\n      ],\n      interactor: {\n        move: {\n          startMove(p) {\n            console.log('Start move ' + p.activity.getData().TASK.NAME);\n          },\n          acceptRowChange(p) {\n            console.log(\n              '   Accept task ' +\n                p.activity.getData().TASK.NAME +\n                ' to move to ' +\n                p.row.data.NAME +\n                ' at time ' +\n                p.currentTime.format()\n            );\n            return !!p.row.data.MANAGER_ID;\n          },\n          acceptMove(p) {\n            console.log('   Accept move of ' + p.activity.getData().TASK.NAME + ' at time ' + p.currentTime.format());\n            return true;\n          },\n          abortMove(p) {\n            console.log('   Abort move a task');\n          },\n          applyMove(p) {\n            console.log('   Apply move of a task');\n          },\n          stopMove(p) {\n            console.log('Stop move ' + +p.activity.getData().TASK.NAME);\n          },\n        },\n      },\n    },\n    toolbar: [\n      'title',\n      'search',\n      'separator',\n      'mini',\n      'separator',\n      {\n        type: 'button',\n        text: 'Refresh',\n        fontIcon: 'fa fa-refresh fa-lg',\n        onclick(ctx) {\n          ctx.gantt.draw();\n        },\n      },\n      'fitToContent',\n      'zoomIn',\n      'zoomOut',\n      'separator',\n      // User specific toolbar components\n      {\n        type: 'select',\n        text: 'Show',\n        options: [\n          { value: 'showTasks', text: 'Tasks' },\n          { value: 'showHouses', text: 'Houses' },\n          { value: 'showAll', text: 'All' },\n        ],\n        onchange(value, ctx) {\n          const gantt = ctx.gantt;\n          gantt.colorMode = value;\n          gantt.draw();\n        },\n      },\n      {\n        type: 'select',\n        text: 'Filter on house',\n        options: [\n          { value: 'none', text: 'None' },\n          { value: '1', text: 'House 1' },\n          { value: '2', text: 'House 2' },\n          { value: '3', text: 'House 3' },\n          { value: '4', text: 'House 4' },\n          { value: '5', text: 'House 5' },\n          { value: '6', text: 'House 6' },\n          { value: '7', text: 'House 7' },\n          { value: '8', text: 'House 8' },\n          { value: '9', text: 'House 9' },\n          { value: '10', text: 'House 10' },\n          { value: '11', text: 'House 11' },\n          { value: '12', text: 'House 12' },\n          { value: '13', text: 'House 13' },\n          { value: '14', text: 'House 14' },\n          { value: '15', text: 'House 15' },\n          { value: '16', text: 'House 16' },\n          { value: '17', text: 'House 17' },\n          { value: '18', text: 'House 18' },\n          { value: '19', text: 'House 19' },\n          { value: '20', text: 'House 20' },\n        ],\n        onchange(house, ctx) {\n          const gantt = ctx.gantt;\n          if (gantt.houseFilter) {\n            gantt.removeFilter(gantt.houseFilter);\n          }\n          if (house && house !== 'none') {\n            gantt.houseFilter = gantt.addFilter(\n              function(obj) {\n                return obj.HOUSE && obj.HOUSE === house;\n              },\n              true /* filter rows */,\n              true /* filter activities */\n            );\n          }\n        },\n      },\n      {\n        type: 'select',\n        text: 'Time Window',\n        options: [\n          { value: 'none', text: 'None' },\n          { value: '1', text: 'House 1' },\n          { value: '2', text: 'House 2' },\n          { value: '3', text: 'House 3' },\n          { value: '4', text: 'House 4' },\n          { value: '5', text: 'House 5' },\n          { value: '6', text: 'House 6' },\n          { value: '7', text: 'House 7' },\n          { value: '8', text: 'House 8' },\n          { value: '9', text: 'House 9' },\n          { value: '10', text: 'House 10' },\n          { value: '11', text: 'House 11' },\n          { value: '12', text: 'House 12' },\n          { value: '13', text: 'House 13' },\n          { value: '14', text: 'House 14' },\n          { value: '15', text: 'House 15' },\n          { value: '16', text: 'House 16' },\n          { value: '17', text: 'House 17' },\n          { value: '18', text: 'House 18' },\n          { value: '19', text: 'House 19' },\n          { value: '20', text: 'House 20' },\n        ],\n        onchange(house, ctx) {\n          const gantt = ctx.gantt;\n          if (gantt.timeMarkers) {\n            gantt.removeTimeMarker(gantt.timeMarkers.markerStart);\n            gantt.removeTimeMarker(gantt.timeMarkers.markerEnd);\n            gantt.removeTimeLineItem(gantt.timeMarkers.item);\n          }\n          if (house && house !== 'none') {\n            gantt.timeMarkers = {\n              markerStart: 'HouseStart' + house,\n              markerEnd: 'HouseEnd' + house,\n              item: 'item' + house,\n            };\n            gantt.addTimeMarker(gantt.timeMarkers.markerStart, gantt.houseTimeWindows[house].start);\n            gantt.addTimeMarker(gantt.timeMarkers.markerEnd, gantt.houseTimeWindows[house].end);\n            gantt.addTimeLineItem(gantt.timeMarkers.item, {\n              start: gantt.houseTimeWindows[house].start,\n              end: gantt.houseTimeWindows[house].end,\n              className: 'HouseBackground' + house,\n              type: 'background',\n              title: 'Time window House ' + house,\n              content:\n                '<div style=\"border:solid 1px black; background-color:white; color:black; font-size: 12px;\">' +\n                'Time window House ' +\n                house +\n                (house === '2' ? ' <br>On top of tasks</br>' : '') +\n                '</div>',\n            });\n          }\n          gantt.draw();\n        },\n      },\n    ],\n    classes: 'ibm',\n    title() {\n      return 'House Building';\n    },\n  };\n}\nstoriesOf('Storybook|Examples', module).add('House Building', () => {\n  setTimeout(() => {\n    new Gantt('gantt', createHouseBuildingGanttConfig());\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__={"storybook-examples--house-building":{startLoc:{col:44,line:292},endLoc:{col:1,line:297}}};Object(_storybook_html__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Storybook|Examples",module).addDecorator(withStorySource("import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\nimport './house_building.css';\n\nfunction createHouseBuildingGanttConfig() {\n  const nowMillis = new Date(2016, 7, 8, 8, 0, 0, 0).getTime();\n  function makeDate(num) {\n    return nowMillis + num * 12 * 60 * 60 * 1000;\n  }\n\n  function processHouseTimeWindows(workers, settings) {\n    const gantt = settings.gantt;\n    gantt.colorMode = 'showTasks';\n    gantt.houseTimeWindows = {};\n    let assigns, assign, iAssign, wnd;\n    for (let iWorker = 0, count = workers.length; iWorker < count; ++iWorker) {\n      if ((assigns = workers[iWorker].ASSIGNMENTS)) {\n        for (iAssign = 0; iAssign < assigns.length; ++iAssign) {\n          assign = assigns[iAssign];\n          if (!(wnd = gantt.houseTimeWindows[assign.HOUSE])) {\n            gantt.houseTimeWindows[assign.HOUSE] = { start: assign.START, end: assign.END };\n          } else {\n            if (wnd.start > assign.START) wnd.start = assign.START;\n            if (wnd.end < assign.END) wnd.end = assign.END;\n          }\n        }\n      }\n    }\n    Object.keys(gantt.houseTimeWindows).forEach(function(house) {\n      gantt.houseTimeWindows[house].start = makeDate(gantt.houseTimeWindows[house].start);\n      gantt.houseTimeWindows[house].end = makeDate(gantt.houseTimeWindows[house].end);\n    });\n    return workers;\n  }\n\n  return {\n    data: {\n      resources: {\n        url: 'house_building/workers.json',\n        success: processHouseTimeWindows,\n        parent: 'PARENT_ID',\n        id: 'OBJECT_ID',\n        activities: 'ASSIGNMENTS',\n        name: 'NAME',\n      },\n      activities: {\n        start(assignment) {\n          return makeDate(assignment.START);\n        },\n        end(assignment) {\n          return makeDate(assignment.END);\n        },\n        name: 'TASK.NAME',\n      },\n    },\n    timeTable: {\n      renderer: [\n        {\n          selector(object, ctx) {\n            return ctx.gantt.colorMode === 'showTasks';\n          },\n          text(activity) {\n            if (activity == null || activity.TASK == null) {\n              console.log('NULL task!');\n            }\n            return activity.TASK.NAME;\n          },\n          textOverflow: 'noDisplay',\n          background: {\n            // values : [ 'facade', 'ceiling', 'windows', 'moving', 'masonry', 'carpentry', 'roofing', 'plumbing', 'painting', 'garden' ],\n            // palette : [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\", \"#6a3d9a\"],\n            palette: ['#5aa8f8', '#4178bc', '#8cd211', '#c8f08f', '#ba8ff7', '#a6266e', '#ff7832'],\n            getValue: 'TASK.NAME',\n          },\n          color: 'automatic',\n          tooltipProperties(activity, ctx) {\n            const props = ['Start', new Date(activity.start).format(), 'End', new Date(activity.end).format()];\n            for (let i = 0; i < 50; i++) {\n              props.push('Property ' + (i + 1));\n              props.push('Value ' + (i + 1));\n            }\n            return props;\n          },\n        },\n        {\n          selector(object, ctx) {\n            return ctx.gantt.colorMode === 'showHouses';\n          },\n          text(activity) {\n            return 'H' + activity.HOUSE;\n          },\n          background: {\n            values(object, ctx) {\n              return Object.keys(ctx.gantt.houseTimeWindows);\n            },\n            // Default palette is used\n            getValue: 'HOUSE', // Access the HOUSE field of provided activity. eq to function(act) { return act.HOUSE; }\n          },\n          color: 'automatic',\n        },\n        {\n          selector(object, ctx) {\n            return ctx.gantt.colorMode === 'showAll';\n          },\n          text(activity) {\n            return 'H' + activity.HOUSE + '-' + activity.TASK.NAME;\n          },\n          background: {\n            values(object, row) {\n              return Object.keys(row.gantt.houseTimeWindows);\n            },\n            getValue: 'HOUSE',\n          },\n          color: 'automatic',\n        },\n      ],\n      interactor: {\n        move: {\n          startMove(p) {\n            console.log('Start move ' + p.activity.getData().TASK.NAME);\n          },\n          acceptRowChange(p) {\n            console.log(\n              '   Accept task ' +\n                p.activity.getData().TASK.NAME +\n                ' to move to ' +\n                p.row.data.NAME +\n                ' at time ' +\n                p.currentTime.format()\n            );\n            return !!p.row.data.MANAGER_ID;\n          },\n          acceptMove(p) {\n            console.log('   Accept move of ' + p.activity.getData().TASK.NAME + ' at time ' + p.currentTime.format());\n            return true;\n          },\n          abortMove(p) {\n            console.log('   Abort move a task');\n          },\n          applyMove(p) {\n            console.log('   Apply move of a task');\n          },\n          stopMove(p) {\n            console.log('Stop move ' + +p.activity.getData().TASK.NAME);\n          },\n        },\n      },\n    },\n    toolbar: [\n      'title',\n      'search',\n      'separator',\n      'mini',\n      'separator',\n      {\n        type: 'button',\n        text: 'Refresh',\n        fontIcon: 'fa fa-refresh fa-lg',\n        onclick(ctx) {\n          ctx.gantt.draw();\n        },\n      },\n      'fitToContent',\n      'zoomIn',\n      'zoomOut',\n      'separator',\n      // User specific toolbar components\n      {\n        type: 'select',\n        text: 'Show',\n        options: [\n          { value: 'showTasks', text: 'Tasks' },\n          { value: 'showHouses', text: 'Houses' },\n          { value: 'showAll', text: 'All' },\n        ],\n        onchange(value, ctx) {\n          const gantt = ctx.gantt;\n          gantt.colorMode = value;\n          gantt.draw();\n        },\n      },\n      {\n        type: 'select',\n        text: 'Filter on house',\n        options: [\n          { value: 'none', text: 'None' },\n          { value: '1', text: 'House 1' },\n          { value: '2', text: 'House 2' },\n          { value: '3', text: 'House 3' },\n          { value: '4', text: 'House 4' },\n          { value: '5', text: 'House 5' },\n          { value: '6', text: 'House 6' },\n          { value: '7', text: 'House 7' },\n          { value: '8', text: 'House 8' },\n          { value: '9', text: 'House 9' },\n          { value: '10', text: 'House 10' },\n          { value: '11', text: 'House 11' },\n          { value: '12', text: 'House 12' },\n          { value: '13', text: 'House 13' },\n          { value: '14', text: 'House 14' },\n          { value: '15', text: 'House 15' },\n          { value: '16', text: 'House 16' },\n          { value: '17', text: 'House 17' },\n          { value: '18', text: 'House 18' },\n          { value: '19', text: 'House 19' },\n          { value: '20', text: 'House 20' },\n        ],\n        onchange(house, ctx) {\n          const gantt = ctx.gantt;\n          if (gantt.houseFilter) {\n            gantt.removeFilter(gantt.houseFilter);\n          }\n          if (house && house !== 'none') {\n            gantt.houseFilter = gantt.addFilter(\n              function(obj) {\n                return obj.HOUSE && obj.HOUSE === house;\n              },\n              true /* filter rows */,\n              true /* filter activities */\n            );\n          }\n        },\n      },\n      {\n        type: 'select',\n        text: 'Time Window',\n        options: [\n          { value: 'none', text: 'None' },\n          { value: '1', text: 'House 1' },\n          { value: '2', text: 'House 2' },\n          { value: '3', text: 'House 3' },\n          { value: '4', text: 'House 4' },\n          { value: '5', text: 'House 5' },\n          { value: '6', text: 'House 6' },\n          { value: '7', text: 'House 7' },\n          { value: '8', text: 'House 8' },\n          { value: '9', text: 'House 9' },\n          { value: '10', text: 'House 10' },\n          { value: '11', text: 'House 11' },\n          { value: '12', text: 'House 12' },\n          { value: '13', text: 'House 13' },\n          { value: '14', text: 'House 14' },\n          { value: '15', text: 'House 15' },\n          { value: '16', text: 'House 16' },\n          { value: '17', text: 'House 17' },\n          { value: '18', text: 'House 18' },\n          { value: '19', text: 'House 19' },\n          { value: '20', text: 'House 20' },\n        ],\n        onchange(house, ctx) {\n          const gantt = ctx.gantt;\n          if (gantt.timeMarkers) {\n            gantt.removeTimeMarker(gantt.timeMarkers.markerStart);\n            gantt.removeTimeMarker(gantt.timeMarkers.markerEnd);\n            gantt.removeTimeLineItem(gantt.timeMarkers.item);\n          }\n          if (house && house !== 'none') {\n            gantt.timeMarkers = {\n              markerStart: 'HouseStart' + house,\n              markerEnd: 'HouseEnd' + house,\n              item: 'item' + house,\n            };\n            gantt.addTimeMarker(gantt.timeMarkers.markerStart, gantt.houseTimeWindows[house].start);\n            gantt.addTimeMarker(gantt.timeMarkers.markerEnd, gantt.houseTimeWindows[house].end);\n            gantt.addTimeLineItem(gantt.timeMarkers.item, {\n              start: gantt.houseTimeWindows[house].start,\n              end: gantt.houseTimeWindows[house].end,\n              className: 'HouseBackground' + house,\n              type: 'background',\n              title: 'Time window House ' + house,\n              content:\n                '<div style=\"border:solid 1px black; background-color:white; color:black; font-size: 12px;\">' +\n                'Time window House ' +\n                house +\n                (house === '2' ? ' <br>On top of tasks</br>' : '') +\n                '</div>',\n            });\n          }\n          gantt.draw();\n        },\n      },\n    ],\n    classes: 'ibm',\n    title() {\n      return 'House Building';\n    },\n  };\n}\nstoriesOf('Storybook|Examples', module).add('House Building', () => {\n  setTimeout(() => {\n    new Gantt('gantt', createHouseBuildingGanttConfig());\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__)).add("House Building",(function(){return setTimeout((function(){new ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_2__.a("gantt",function createHouseBuildingGanttConfig(){function makeDate(num){return nowMillis+12*num*60*60*1e3}var nowMillis=new Date(2016,7,8,8,0,0,0).getTime();return{data:{resources:{url:"house_building/workers.json",success:function success(workers,settings){var gantt=settings.gantt;gantt.colorMode="showTasks",gantt.houseTimeWindows={};for(var assigns,assign,iAssign,wnd,iWorker=0,count=workers.length;iWorker<count;++iWorker)if(assigns=workers[iWorker].ASSIGNMENTS)for(iAssign=0;iAssign<assigns.length;++iAssign)assign=assigns[iAssign],(wnd=gantt.houseTimeWindows[assign.HOUSE])?(wnd.start>assign.START&&(wnd.start=assign.START),wnd.end<assign.END&&(wnd.end=assign.END)):gantt.houseTimeWindows[assign.HOUSE]={start:assign.START,end:assign.END};return Object.keys(gantt.houseTimeWindows).forEach((function(house){gantt.houseTimeWindows[house].start=makeDate(gantt.houseTimeWindows[house].start),gantt.houseTimeWindows[house].end=makeDate(gantt.houseTimeWindows[house].end)})),workers},parent:"PARENT_ID",id:"OBJECT_ID",activities:"ASSIGNMENTS",name:"NAME"},activities:{start:function start(assignment){return makeDate(assignment.START)},end:function end(assignment){return makeDate(assignment.END)},name:"TASK.NAME"}},timeTable:{renderer:[{selector:function selector(object,ctx){return"showTasks"===ctx.gantt.colorMode},text:function text(activity){return(null==activity||null==activity.TASK)&&console.log("NULL task!"),activity.TASK.NAME},textOverflow:"noDisplay",background:{palette:["#5aa8f8","#4178bc","#8cd211","#c8f08f","#ba8ff7","#a6266e","#ff7832"],getValue:"TASK.NAME"},color:"automatic",tooltipProperties:function tooltipProperties(activity){for(var props=["Start",new Date(activity.start).format(),"End",new Date(activity.end).format()],i=0;50>i;i++)props.push("Property "+(i+1)),props.push("Value "+(i+1));return props}},{selector:function selector(object,ctx){return"showHouses"===ctx.gantt.colorMode},text:function text(activity){return"H"+activity.HOUSE},background:{values:function values(object,ctx){return Object.keys(ctx.gantt.houseTimeWindows)},getValue:"HOUSE"},color:"automatic"},{selector:function selector(object,ctx){return"showAll"===ctx.gantt.colorMode},text:function text(activity){return"H"+activity.HOUSE+"-"+activity.TASK.NAME},background:{values:function values(object,row){return Object.keys(row.gantt.houseTimeWindows)},getValue:"HOUSE"},color:"automatic"}],interactor:{move:{startMove:function startMove(p){console.log("Start move "+p.activity.getData().TASK.NAME)},acceptRowChange:function acceptRowChange(p){return console.log("   Accept task "+p.activity.getData().TASK.NAME+" to move to "+p.row.data.NAME+" at time "+p.currentTime.format()),!!p.row.data.MANAGER_ID},acceptMove:function acceptMove(p){return console.log("   Accept move of "+p.activity.getData().TASK.NAME+" at time "+p.currentTime.format()),!0},abortMove:function abortMove(){console.log("   Abort move a task")},applyMove:function applyMove(){console.log("   Apply move of a task")},stopMove:function stopMove(p){console.log("Stop move "+ +p.activity.getData().TASK.NAME)}}}},toolbar:["title","search","separator","mini","separator",{type:"button",text:"Refresh",fontIcon:"fa fa-refresh fa-lg",onclick:function onclick(ctx){ctx.gantt.draw()}},"fitToContent","zoomIn","zoomOut","separator",{type:"select",text:"Show",options:[{value:"showTasks",text:"Tasks"},{value:"showHouses",text:"Houses"},{value:"showAll",text:"All"}],onchange:function onchange(value,ctx){var gantt=ctx.gantt;gantt.colorMode=value,gantt.draw()}},{type:"select",text:"Filter on house",options:[{value:"none",text:"None"},{value:"1",text:"House 1"},{value:"2",text:"House 2"},{value:"3",text:"House 3"},{value:"4",text:"House 4"},{value:"5",text:"House 5"},{value:"6",text:"House 6"},{value:"7",text:"House 7"},{value:"8",text:"House 8"},{value:"9",text:"House 9"},{value:"10",text:"House 10"},{value:"11",text:"House 11"},{value:"12",text:"House 12"},{value:"13",text:"House 13"},{value:"14",text:"House 14"},{value:"15",text:"House 15"},{value:"16",text:"House 16"},{value:"17",text:"House 17"},{value:"18",text:"House 18"},{value:"19",text:"House 19"},{value:"20",text:"House 20"}],onchange:function onchange(house,ctx){var gantt=ctx.gantt;gantt.houseFilter&&gantt.removeFilter(gantt.houseFilter),house&&"none"!==house&&(gantt.houseFilter=gantt.addFilter((function(obj){return obj.HOUSE&&obj.HOUSE===house}),!0,!0))}},{type:"select",text:"Time Window",options:[{value:"none",text:"None"},{value:"1",text:"House 1"},{value:"2",text:"House 2"},{value:"3",text:"House 3"},{value:"4",text:"House 4"},{value:"5",text:"House 5"},{value:"6",text:"House 6"},{value:"7",text:"House 7"},{value:"8",text:"House 8"},{value:"9",text:"House 9"},{value:"10",text:"House 10"},{value:"11",text:"House 11"},{value:"12",text:"House 12"},{value:"13",text:"House 13"},{value:"14",text:"House 14"},{value:"15",text:"House 15"},{value:"16",text:"House 16"},{value:"17",text:"House 17"},{value:"18",text:"House 18"},{value:"19",text:"House 19"},{value:"20",text:"House 20"}],onchange:function onchange(house,ctx){var gantt=ctx.gantt;gantt.timeMarkers&&(gantt.removeTimeMarker(gantt.timeMarkers.markerStart),gantt.removeTimeMarker(gantt.timeMarkers.markerEnd),gantt.removeTimeLineItem(gantt.timeMarkers.item)),house&&"none"!==house&&(gantt.timeMarkers={markerStart:"HouseStart"+house,markerEnd:"HouseEnd"+house,item:"item"+house},gantt.addTimeMarker(gantt.timeMarkers.markerStart,gantt.houseTimeWindows[house].start),gantt.addTimeMarker(gantt.timeMarkers.markerEnd,gantt.houseTimeWindows[house].end),gantt.addTimeLineItem(gantt.timeMarkers.item,{start:gantt.houseTimeWindows[house].start,end:gantt.houseTimeWindows[house].end,className:"HouseBackground"+house,type:"background",title:"Time window House "+house,content:'<div style="border:solid 1px black; background-color:white; color:black; font-size: 12px;">Time window House '+house+("2"===house?" <br>On top of tasks</br>":"")+"</div>"})),gantt.draw()}}],classes:"ibm",title:function title(){return"House Building"}}}())}),0),'<div id="gantt"></div>'}))}.call(this,__webpack_require__(56)(module))},853:function(module,exports,__webpack_require__){},854:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",(function(){return withStorySource})),__webpack_require__.d(__webpack_exports__,"__STORY__",(function(){return __STORY__})),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",(function(){return __ADDS_MAP__}));__webpack_require__(57),__webpack_require__(138),__webpack_require__(135),__webpack_require__(54),__webpack_require__(139);var ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24),_storybook_html__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(20),withStorySource=(__webpack_require__(91),__webpack_require__(71).withStorySource),__STORY__="import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\n\nfunction createLoadChartGanttConfig(ctx) {\n  function xmlAttr(node, name) {\n    const attr = node.attributes.getNamedItem(name);\n    return attr && attr.nodeValue;\n  }\n\n  function xmlChildElts(parent, tagname) {\n    const childNodes = parent.childNodes;\n    const elts = [];\n    for (var i = 0, count = childNodes.length, node; i < count; ++i) {\n      node = childNodes[i];\n      if (node.nodeType === Node.ELEMENT_NODE && (!tagname || tagname === node.tagName)) {\n        elts.push(node);\n      }\n    }\n    return elts;\n  }\n  function processResources(xmlDoc) {\n    const resources = [];\n    function readResources(xmlNode) {\n      xmlChildElts(xmlNode, 'resource').forEach(node => {\n        resources.push({\n          id: xmlAttr(node, 'id'),\n          name: xmlAttr(node, 'name'),\n          quantity: xmlAttr(node, 'quantity'),\n          parent: xmlAttr(xmlNode, 'id'),\n        });\n        readResources(node);\n      });\n    }\n    readResources(xmlDoc.getElementsByTagName('resources')[0]);\n    return resources;\n  }\n\n  function processActivities(xmlDoc) {\n    const actsNode = xmlDoc.getElementsByTagName('activities')[0];\n    function createDateParser(format) {\n      let i = 0;\n      const fmt = {};\n      const year = 'year',\n        month = 'month',\n        day = 'day',\n        hour = 'hour',\n        min = 'min',\n        secs = 'secs',\n        millis = 'millis';\n      const convertor = {\n        yyyy: year,\n        yy: year,\n        y: year,\n        M: month,\n        MM: month,\n        MMMM: month,\n        d: day,\n        dd: day,\n        H: hour,\n        HH: hour,\n        m: min,\n        mm: min,\n        s: secs,\n        ss: secs,\n      };\n      format.replace(/(yyyy|yy|y|M|MM|MMMM|dd|d|H|HH|m|mm|s|ss)/g, part => {\n        fmt[convertor[part]] = i++;\n      });\n      return function(s) {\n        if (!s) return null;\n        const parts = s.match(/(\\d+)/g);\n        return new Date(\n          parts[fmt[year]],\n          parts[fmt[month]] - 1,\n          parts[fmt[day]],\n          parts[fmt[hour]],\n          parts[fmt[min]],\n          parts[fmt[secs]]\n        ).getTime();\n      };\n    }\n    const parseDate = createDateParser(xmlAttr(actsNode, 'dateFormat') || 'yyyy-mm-dd');\n\n    const activities = [];\n    let node;\n    function readActivities(xmlNode) {\n      xmlChildElts(xmlNode, 'activity').forEach(node => {\n        activities.push({\n          id: xmlAttr(node, 'id'),\n          name: xmlAttr(node, 'name'),\n          start: parseDate(xmlAttr(node, 'start')),\n          end: parseDate(xmlAttr(node, 'end')),\n          parent: xmlAttr(xmlNode, 'id'),\n        });\n        readActivities(node);\n      });\n    }\n    readActivities(actsNode);\n    return activities;\n  }\n\n  function processReservations(xmlDoc) {\n    const resas = [];\n    let node;\n    function readReservations(xmlNode) {\n      xmlChildElts(xmlNode, 'reservation').forEach(node => {\n        resas.push({\n          activity: xmlAttr(node, 'activity'),\n          resource: xmlAttr(node, 'resource'),\n        });\n        readReservations(node);\n      });\n    }\n    readReservations(xmlDoc.getElementsByTagName('reservations')[0]);\n    return resas;\n  }\n\n  const base = (ctx && ctx.base) || '';\n  function resourcePath(relativePath) {\n    return base + relativePath;\n  }\n\n  return {\n    data: {\n      all() {\n        return new Promise((resolve, reject) => {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', resourcePath('load_chart/load_chart.xml'), true);\n\n          // If specified, responseType must be empty string or \"document\"\n          // xhr.responseType = 'document';\n\n          // overrideMimeType() can be used to force the response to be parsed as XML\n          xhr.overrideMimeType('text/xml');\n\n          xhr.onload = function() {\n            if (xhr.readyState === xhr.DONE) {\n              if (xhr.status === 200) {\n                resolve(xhr.response);\n              }\n            }\n          };\n          xhr.onload = function() {\n            if (this.status >= 200 && this.status < 300) {\n              resolve(xhr.responseXML);\n            } else {\n              reject({\n                status: this.status,\n                statusText: xhr.statusText,\n              });\n            }\n          };\n          xhr.onerror = function() {\n            reject({\n              status: this.status,\n              statusText: xhr.statusText,\n            });\n          };\n          xhr.send();\n        });\n      },\n      resources: {\n        data: processResources,\n        parent: 'parent',\n        name: 'name',\n        id: 'id',\n      },\n      activities: {\n        data: processActivities,\n        start: 'start',\n        end: 'end',\n        name: 'name',\n      },\n      reservations: {\n        data: processReservations,\n        activity: 'activity',\n        resource: 'resource',\n      },\n    },\n    classes: 'load-chart-example',\n    timeTable: {\n      /* renderer : {\n\n            } */\n    },\n    toolbar: [\n      'title',\n      'search',\n      'separator',\n      'mini',\n      'separator',\n      'fitToContent',\n      'zoomIn',\n      'zoomOut',\n      'separator',\n      'toggleLoadChart',\n    ],\n    loadResourceChart: {\n      height: '150px',\n      visible: false,\n    },\n    title: 'Load resource chart example',\n  };\n}\n\nfunction customizeLoadChartGantt(gantt) {\n  const synch = gantt.synchLayout({\n    timeTableBoundsChanged(bounds) {},\n    timeWindowChanged(start, end) {\n      this.printTimeLine(`Time window: start: ${start}, end ${end}`);\n    },\n    timeLineSizeChanged(width, height) {\n      this.printTimeLine(`Time line size changed: width: ${width}, height ${height}`);\n    },\n    timeLineInitialized() {\n      this.printTimeLine('time line initialized');\n    },\n    timeLineScrolled(x) {\n      console.log(`   time line scrolled ${x}`);\n    },\n    printTimeLine(message) {\n      //   if (message) {\n      //     console.log(message);\n      //   }\n      //   console.log(`    width: ${  this.getTimeLineWidth()  }, height: ${  this.getTimeLineHeight()}`);\n      //   console.log(`    left: ${  this.getTimeLineScrollLeft()  }, time at left: ${  this.getTimeLine().getTimeAt(this.getTimeLineScrollLeft())}`);\n    },\n  });\n}\n\nstoriesOf('Storybook|Examples', module).add('Load Resource Chart', () => {\n  setTimeout(() => {\n    new Gantt('gantt', createLoadChartGanttConfig());\n    customizeLoadChartGantt(gantt);\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__={"storybook-examples--load-resource-chart":{startLoc:{col:44,line:234},endLoc:{col:1,line:240}}};function createLoadChartGanttConfig(ctx){function xmlAttr(node,name){var attr=node.attributes.getNamedItem(name);return attr&&attr.nodeValue}function xmlChildElts(parent,tagname){for(var node,childNodes=parent.childNodes,elts=[],i=0,count=childNodes.length;i<count;++i)(node=childNodes[i]).nodeType!==Node.ELEMENT_NODE||tagname&&tagname!==node.tagName||elts.push(node);return elts}var base=ctx&&ctx.base||"";return{data:{all:function all(){return new Promise((function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET",function resourcePath(relativePath){return base+relativePath}("load_chart/load_chart.xml"),!0),xhr.overrideMimeType("text/xml"),xhr.onload=function(){xhr.readyState===xhr.DONE&&200===xhr.status&&resolve(xhr.response)},xhr.onload=function(){200<=this.status&&300>this.status?resolve(xhr.responseXML):reject({status:this.status,statusText:xhr.statusText})},xhr.onerror=function(){reject({status:this.status,statusText:xhr.statusText})},xhr.send()}))},resources:{data:function data(xmlDoc){var resources=[];return function readResources(xmlNode){xmlChildElts(xmlNode,"resource").forEach((function(node){resources.push({id:xmlAttr(node,"id"),name:xmlAttr(node,"name"),quantity:xmlAttr(node,"quantity"),parent:xmlAttr(xmlNode,"id")}),readResources(node)}))}(xmlDoc.getElementsByTagName("resources")[0]),resources},parent:"parent",name:"name",id:"id"},activities:{data:function data(xmlDoc){var actsNode=xmlDoc.getElementsByTagName("activities")[0],parseDate=function(format){var i=0,fmt={},convertor={yyyy:"year",yy:"year",y:"year",M:"month",MM:"month",MMMM:"month",d:"day",dd:"day",H:"hour",HH:"hour",m:"min",mm:"min",s:"secs",ss:"secs"};return format.replace(/(yyyy|yy|y|M|MM|MMMM|dd|d|H|HH|m|mm|s|ss)/g,(function(part){fmt[convertor[part]]=i++})),function(s){if(!s)return null;var parts=s.match(/(\d+)/g);return new Date(parts[fmt.year],parts[fmt.month]-1,parts[fmt.day],parts[fmt.hour],parts[fmt.min],parts[fmt.secs]).getTime()}}(xmlAttr(actsNode,"dateFormat")||"yyyy-mm-dd"),activities=[];return function readActivities(xmlNode){xmlChildElts(xmlNode,"activity").forEach((function(node){activities.push({id:xmlAttr(node,"id"),name:xmlAttr(node,"name"),start:parseDate(xmlAttr(node,"start")),end:parseDate(xmlAttr(node,"end")),parent:xmlAttr(xmlNode,"id")}),readActivities(node)}))}(actsNode),activities},start:"start",end:"end",name:"name"},reservations:{data:function data(xmlDoc){var resas=[];return function readReservations(xmlNode){xmlChildElts(xmlNode,"reservation").forEach((function(node){resas.push({activity:xmlAttr(node,"activity"),resource:xmlAttr(node,"resource")}),readReservations(node)}))}(xmlDoc.getElementsByTagName("reservations")[0]),resas},activity:"activity",resource:"resource"}},classes:"load-chart-example",timeTable:{},toolbar:["title","search","separator","mini","separator","fitToContent","zoomIn","zoomOut","separator","toggleLoadChart"],loadResourceChart:{height:"150px",visible:!1},title:"Load resource chart example"}}Object(_storybook_html__WEBPACK_IMPORTED_MODULE_6__.storiesOf)("Storybook|Examples",module).addDecorator(withStorySource("import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\n\nfunction createLoadChartGanttConfig(ctx) {\n  function xmlAttr(node, name) {\n    const attr = node.attributes.getNamedItem(name);\n    return attr && attr.nodeValue;\n  }\n\n  function xmlChildElts(parent, tagname) {\n    const childNodes = parent.childNodes;\n    const elts = [];\n    for (var i = 0, count = childNodes.length, node; i < count; ++i) {\n      node = childNodes[i];\n      if (node.nodeType === Node.ELEMENT_NODE && (!tagname || tagname === node.tagName)) {\n        elts.push(node);\n      }\n    }\n    return elts;\n  }\n  function processResources(xmlDoc) {\n    const resources = [];\n    function readResources(xmlNode) {\n      xmlChildElts(xmlNode, 'resource').forEach(node => {\n        resources.push({\n          id: xmlAttr(node, 'id'),\n          name: xmlAttr(node, 'name'),\n          quantity: xmlAttr(node, 'quantity'),\n          parent: xmlAttr(xmlNode, 'id'),\n        });\n        readResources(node);\n      });\n    }\n    readResources(xmlDoc.getElementsByTagName('resources')[0]);\n    return resources;\n  }\n\n  function processActivities(xmlDoc) {\n    const actsNode = xmlDoc.getElementsByTagName('activities')[0];\n    function createDateParser(format) {\n      let i = 0;\n      const fmt = {};\n      const year = 'year',\n        month = 'month',\n        day = 'day',\n        hour = 'hour',\n        min = 'min',\n        secs = 'secs',\n        millis = 'millis';\n      const convertor = {\n        yyyy: year,\n        yy: year,\n        y: year,\n        M: month,\n        MM: month,\n        MMMM: month,\n        d: day,\n        dd: day,\n        H: hour,\n        HH: hour,\n        m: min,\n        mm: min,\n        s: secs,\n        ss: secs,\n      };\n      format.replace(/(yyyy|yy|y|M|MM|MMMM|dd|d|H|HH|m|mm|s|ss)/g, part => {\n        fmt[convertor[part]] = i++;\n      });\n      return function(s) {\n        if (!s) return null;\n        const parts = s.match(/(\\d+)/g);\n        return new Date(\n          parts[fmt[year]],\n          parts[fmt[month]] - 1,\n          parts[fmt[day]],\n          parts[fmt[hour]],\n          parts[fmt[min]],\n          parts[fmt[secs]]\n        ).getTime();\n      };\n    }\n    const parseDate = createDateParser(xmlAttr(actsNode, 'dateFormat') || 'yyyy-mm-dd');\n\n    const activities = [];\n    let node;\n    function readActivities(xmlNode) {\n      xmlChildElts(xmlNode, 'activity').forEach(node => {\n        activities.push({\n          id: xmlAttr(node, 'id'),\n          name: xmlAttr(node, 'name'),\n          start: parseDate(xmlAttr(node, 'start')),\n          end: parseDate(xmlAttr(node, 'end')),\n          parent: xmlAttr(xmlNode, 'id'),\n        });\n        readActivities(node);\n      });\n    }\n    readActivities(actsNode);\n    return activities;\n  }\n\n  function processReservations(xmlDoc) {\n    const resas = [];\n    let node;\n    function readReservations(xmlNode) {\n      xmlChildElts(xmlNode, 'reservation').forEach(node => {\n        resas.push({\n          activity: xmlAttr(node, 'activity'),\n          resource: xmlAttr(node, 'resource'),\n        });\n        readReservations(node);\n      });\n    }\n    readReservations(xmlDoc.getElementsByTagName('reservations')[0]);\n    return resas;\n  }\n\n  const base = (ctx && ctx.base) || '';\n  function resourcePath(relativePath) {\n    return base + relativePath;\n  }\n\n  return {\n    data: {\n      all() {\n        return new Promise((resolve, reject) => {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', resourcePath('load_chart/load_chart.xml'), true);\n\n          // If specified, responseType must be empty string or \"document\"\n          // xhr.responseType = 'document';\n\n          // overrideMimeType() can be used to force the response to be parsed as XML\n          xhr.overrideMimeType('text/xml');\n\n          xhr.onload = function() {\n            if (xhr.readyState === xhr.DONE) {\n              if (xhr.status === 200) {\n                resolve(xhr.response);\n              }\n            }\n          };\n          xhr.onload = function() {\n            if (this.status >= 200 && this.status < 300) {\n              resolve(xhr.responseXML);\n            } else {\n              reject({\n                status: this.status,\n                statusText: xhr.statusText,\n              });\n            }\n          };\n          xhr.onerror = function() {\n            reject({\n              status: this.status,\n              statusText: xhr.statusText,\n            });\n          };\n          xhr.send();\n        });\n      },\n      resources: {\n        data: processResources,\n        parent: 'parent',\n        name: 'name',\n        id: 'id',\n      },\n      activities: {\n        data: processActivities,\n        start: 'start',\n        end: 'end',\n        name: 'name',\n      },\n      reservations: {\n        data: processReservations,\n        activity: 'activity',\n        resource: 'resource',\n      },\n    },\n    classes: 'load-chart-example',\n    timeTable: {\n      /* renderer : {\n\n            } */\n    },\n    toolbar: [\n      'title',\n      'search',\n      'separator',\n      'mini',\n      'separator',\n      'fitToContent',\n      'zoomIn',\n      'zoomOut',\n      'separator',\n      'toggleLoadChart',\n    ],\n    loadResourceChart: {\n      height: '150px',\n      visible: false,\n    },\n    title: 'Load resource chart example',\n  };\n}\n\nfunction customizeLoadChartGantt(gantt) {\n  const synch = gantt.synchLayout({\n    timeTableBoundsChanged(bounds) {},\n    timeWindowChanged(start, end) {\n      this.printTimeLine(`Time window: start: ${start}, end ${end}`);\n    },\n    timeLineSizeChanged(width, height) {\n      this.printTimeLine(`Time line size changed: width: ${width}, height ${height}`);\n    },\n    timeLineInitialized() {\n      this.printTimeLine('time line initialized');\n    },\n    timeLineScrolled(x) {\n      console.log(`   time line scrolled ${x}`);\n    },\n    printTimeLine(message) {\n      //   if (message) {\n      //     console.log(message);\n      //   }\n      //   console.log(`    width: ${  this.getTimeLineWidth()  }, height: ${  this.getTimeLineHeight()}`);\n      //   console.log(`    left: ${  this.getTimeLineScrollLeft()  }, time at left: ${  this.getTimeLine().getTimeAt(this.getTimeLineScrollLeft())}`);\n    },\n  });\n}\n\nstoriesOf('Storybook|Examples', module).add('Load Resource Chart', () => {\n  setTimeout(() => {\n    new Gantt('gantt', createLoadChartGanttConfig());\n    customizeLoadChartGantt(gantt);\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__)).add("Load Resource Chart",(function(){return setTimeout((function(){new ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_5__.a("gantt",createLoadChartGanttConfig()),function customizeLoadChartGantt(gantt){gantt.synchLayout({timeTableBoundsChanged:function timeTableBoundsChanged(){},timeWindowChanged:function timeWindowChanged(start,end){this.printTimeLine("Time window: start: ".concat(start,", end ").concat(end))},timeLineSizeChanged:function timeLineSizeChanged(width,height){this.printTimeLine("Time line size changed: width: ".concat(width,", height ").concat(height))},timeLineInitialized:function timeLineInitialized(){this.printTimeLine("time line initialized")},timeLineScrolled:function timeLineScrolled(x){console.log("   time line scrolled ".concat(x))},printTimeLine:function printTimeLine(){}})}(gantt)}),0),'<div id="gantt"></div>'}))}.call(this,__webpack_require__(56)(module))},855:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",(function(){return withStorySource})),__webpack_require__.d(__webpack_exports__,"__STORY__",(function(){return __STORY__})),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",(function(){return __ADDS_MAP__}));__webpack_require__(117),__webpack_require__(97),__webpack_require__(118);var ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24),_storybook_html__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20),withStorySource=(__webpack_require__(91),__webpack_require__(856),__webpack_require__(71).withStorySource),__STORY__="import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\nimport './nurses.css';\n\nfunction createNurseGanttConfig(ctx) {\n  function processModels(nurses, settings) {\n    const gantt = settings.gantt;\n    const ganttModels = {};\n    gantt.ganttModels = ganttModels;\n    const modelTpl = {\n      resources: {\n        data: null,\n        parent: 'parent',\n        activities: 'activities',\n        name: 'name',\n        id: 'id',\n      },\n      activities: {\n        start: 'start',\n        end: 'end',\n        name: 'name',\n      },\n    };\n    ganttModels.nurses = Gantt.utils.mergeObjects(true, {}, modelTpl);\n    ganttModels.nurses.resources.data = nurses.concat();\n    // Create model ordered by skills\n    const nursesBySkills = {},\n      skillRows = [];\n    function addNurseSkillRow(skill) {\n      if (!nursesBySkills[skill]) {\n        skillRows.push({\n          id: skill,\n          name: skill,\n        });\n        nursesBySkills[skill] = true;\n      }\n      const nurseRow = Gantt.utils.mergeObjects({}, nurse); // Make a copy of the nurse object\n      nurseRow.parent = skill;\n      nurseRow.id = `${skill}-${nurse.id}`;\n      skillRows.push(nurseRow);\n    }\n    for (var iNurse = 0, count = nurses.length, nurse; iNurse < count; ++iNurse) {\n      nurse = nurses[iNurse];\n      if (nurse.skills && nurse.skills.length) {\n        nurse.skills.map(addNurseSkillRow);\n      } else {\n        addNurseSkillRow('none');\n      }\n    }\n    ganttModels.skills = Gantt.utils.mergeObjects({}, modelTpl);\n    ganttModels.skills.resources.data = skillRows;\n    return nurses;\n  }\n\n  const base = (ctx && ctx.base) || '';\n  function resourcePath(relativePath) {\n    return base + relativePath;\n  }\n\n  return {\n    data: {\n      resources: {\n        url: 'nurses/nurses.json',\n        success: processModels,\n        parent: 'parent',\n        activities: 'activities',\n        name: 'name',\n        id: 'id',\n      },\n      activities: {\n        start: 'start',\n        end: 'end',\n        name: 'name',\n      },\n    },\n    classes: 'nurses',\n    table: {\n      columns: [\n        {\n          name: 'rowNumbers',\n          remove: true,\n        },\n        {\n          name: 'hierarchy',\n          renderer: {\n            text(nurse) {\n              return nurse.name;\n            },\n            iconPaths: {\n              Anaesthesiology: resourcePath('nurses/images/anesth.png'),\n              Geriatrics: resourcePath('nurses/images/geriatrcs.png'),\n              Oncology: resourcePath('nurses/images/onco.png'),\n              Pediatrics: resourcePath('nurses/images/pediatrics.png'),\n            },\n            icon(nurse) {\n              const icons = [];\n              if (!nurse.skills) {\n                // Maybe a skill name\n                if (this.iconPaths[nurse.name]) {\n                  icons.push(this.iconPaths[nurse.name]);\n                } else if (nurse.name === 'Cardiac Care') {\n                  icons.push(resourcePath('nurses/images/cardio.png'));\n                }\n              } else {\n                for (let i = 0, count = nurse.skills.length; i < count; ++i) {\n                  icons.push(this.iconPaths[nurse.skills[i]] || resourcePath('nurses/images/cardio.png'));\n                }\n              }\n              return icons;\n            },\n          },\n        },\n        {\n          title: 'Skills',\n          renderer: {\n            text(nurse) {\n              return (nurse.skills && nurse.skills.join(', ')) || '';\n            },\n            background: {\n              getValue(nurse) {\n                return nurse.skills && nurse.skills.length ? nurse.skills[0] : null;\n              },\n              // If commenting the line below and therefore not providing possible values returned by getValue,\n              // possible values are automatically processed along with calls to getValue and the first value\n              // returned by getValue is associated with the first palette color. The second distinct value\n              // returned by getValue is associated with the second palette color and so on.\n              // Specifying the values ensures a skill will be always associated with the same palette color.\n              values: [null, 'Anaesthesiology', 'Pediatrics', 'Oncology', 'Cardiac Care', 'Geriatrics'],\n              palette: ['#f7f5f5', '#00b29e', '#5aa8f8', '#4178bc', '#8cd211', '#c8f08f'],\n            },\n            color: 'automatic',\n          },\n\n          sortComparator(a, b) {\n            // Compare function is called only for nodes with the same parent node\n            // If a is a folder, b is a folder\n            // If a is a nurse, b is a nurse.\n            if (!a.skills) {\n              // Comparison of Skills folders.\n              // Returning 0 leaves folders unsorted\n              return 0;\n              // To sort folder alphabatically, comment previous line and uncomment following one.\n              // return a.name < b.name? -1 : a.name > b.name? 1 : 0;\n            }\n\n            // We compare nurses\n            return a.skills.length < b.skills.length ? -1 : a.skills.length > b.skills.length ? 1 : 0;\n          },\n          // If just displaying text without color rendering, comment the renderer node above and uncomment\n          // the code below\n          /* text : function(nurse) {\n                     return nurse.skills && nurse.skills.join(', ') || '';\n                     } */\n        },\n      ],\n    },\n    timeTable: {\n      renderer: {\n        generateDecorations(start, end, ctx) {\n          const gantt = ctx.gantt;\n          const horiz = gantt.timeLine.getHorizon(); // Get data horizon\n          return [\n            /* Uncomment those two lines and comment the two following ones to see how to specify a own style defined in nurses.css instead of using a predefined one\n                         { start: start, end : horiz.start, className : 'unscheduled-area' },\n                         { start: horiz.end, end : end, className : 'unscheduled-area' } */\n            { start, end: horiz.start, type: 'invalid' },\n            { start: horiz.end, end, type: 'invalid' },\n          ];\n        },\n        generateRowDecorations(nurse, start, end) {\n          const dayoffs = nurse.dayoffs;\n          const breaks = [];\n          if (dayoffs && dayoffs.length) {\n            let date = new Date(start),\n              startDate,\n              nextDay;\n            while (date.getTime() < end) {\n              nextDay = new Date(date.valueOf());\n              nextDay.setDate(date.getDate() + 1);\n              nextDay.setHours(0, 0, 0, 0);\n              if (dayoffs.indexOf(date.getDay()) > -1) {\n                startDate = new Date(date);\n                startDate.setHours(0, 0, 0, 0);\n                breaks.push({\n                  start: startDate.getTime(),\n                  end: nextDay.getTime(),\n                });\n              }\n              date = nextDay;\n            }\n          }\n          return breaks;\n        },\n      },\n    },\n    toolbar: [\n      'title',\n      'search',\n      'separator',\n      'mini',\n      'separator',\n      'fitToContent',\n      'zoomIn',\n      'zoomOut',\n      'separator',\n      // User specific toolbar components\n      {\n        type: 'select',\n        text: 'Display type',\n        options: [\n          { value: 'nurses', text: 'Nurses' },\n          { value: 'skills', text: 'Skills' },\n        ],\n        onchange(value, ctx) {\n          const gantt = ctx.gantt;\n          gantt.load(gantt.ganttModels[value]);\n        },\n      },\n    ],\n    title: 'Nurse example',\n  };\n}\n\nstoriesOf('Storybook|Examples', module).add('Nurses', () => {\n  setTimeout(() => {\n    new Gantt('gantt', createNurseGanttConfig());\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__={"storybook-examples--nurses":{startLoc:{col:44,line:227},endLoc:{col:1,line:232}}};Object(_storybook_html__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("Storybook|Examples",module).addDecorator(withStorySource("import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\nimport './nurses.css';\n\nfunction createNurseGanttConfig(ctx) {\n  function processModels(nurses, settings) {\n    const gantt = settings.gantt;\n    const ganttModels = {};\n    gantt.ganttModels = ganttModels;\n    const modelTpl = {\n      resources: {\n        data: null,\n        parent: 'parent',\n        activities: 'activities',\n        name: 'name',\n        id: 'id',\n      },\n      activities: {\n        start: 'start',\n        end: 'end',\n        name: 'name',\n      },\n    };\n    ganttModels.nurses = Gantt.utils.mergeObjects(true, {}, modelTpl);\n    ganttModels.nurses.resources.data = nurses.concat();\n    // Create model ordered by skills\n    const nursesBySkills = {},\n      skillRows = [];\n    function addNurseSkillRow(skill) {\n      if (!nursesBySkills[skill]) {\n        skillRows.push({\n          id: skill,\n          name: skill,\n        });\n        nursesBySkills[skill] = true;\n      }\n      const nurseRow = Gantt.utils.mergeObjects({}, nurse); // Make a copy of the nurse object\n      nurseRow.parent = skill;\n      nurseRow.id = `${skill}-${nurse.id}`;\n      skillRows.push(nurseRow);\n    }\n    for (var iNurse = 0, count = nurses.length, nurse; iNurse < count; ++iNurse) {\n      nurse = nurses[iNurse];\n      if (nurse.skills && nurse.skills.length) {\n        nurse.skills.map(addNurseSkillRow);\n      } else {\n        addNurseSkillRow('none');\n      }\n    }\n    ganttModels.skills = Gantt.utils.mergeObjects({}, modelTpl);\n    ganttModels.skills.resources.data = skillRows;\n    return nurses;\n  }\n\n  const base = (ctx && ctx.base) || '';\n  function resourcePath(relativePath) {\n    return base + relativePath;\n  }\n\n  return {\n    data: {\n      resources: {\n        url: 'nurses/nurses.json',\n        success: processModels,\n        parent: 'parent',\n        activities: 'activities',\n        name: 'name',\n        id: 'id',\n      },\n      activities: {\n        start: 'start',\n        end: 'end',\n        name: 'name',\n      },\n    },\n    classes: 'nurses',\n    table: {\n      columns: [\n        {\n          name: 'rowNumbers',\n          remove: true,\n        },\n        {\n          name: 'hierarchy',\n          renderer: {\n            text(nurse) {\n              return nurse.name;\n            },\n            iconPaths: {\n              Anaesthesiology: resourcePath('nurses/images/anesth.png'),\n              Geriatrics: resourcePath('nurses/images/geriatrcs.png'),\n              Oncology: resourcePath('nurses/images/onco.png'),\n              Pediatrics: resourcePath('nurses/images/pediatrics.png'),\n            },\n            icon(nurse) {\n              const icons = [];\n              if (!nurse.skills) {\n                // Maybe a skill name\n                if (this.iconPaths[nurse.name]) {\n                  icons.push(this.iconPaths[nurse.name]);\n                } else if (nurse.name === 'Cardiac Care') {\n                  icons.push(resourcePath('nurses/images/cardio.png'));\n                }\n              } else {\n                for (let i = 0, count = nurse.skills.length; i < count; ++i) {\n                  icons.push(this.iconPaths[nurse.skills[i]] || resourcePath('nurses/images/cardio.png'));\n                }\n              }\n              return icons;\n            },\n          },\n        },\n        {\n          title: 'Skills',\n          renderer: {\n            text(nurse) {\n              return (nurse.skills && nurse.skills.join(', ')) || '';\n            },\n            background: {\n              getValue(nurse) {\n                return nurse.skills && nurse.skills.length ? nurse.skills[0] : null;\n              },\n              // If commenting the line below and therefore not providing possible values returned by getValue,\n              // possible values are automatically processed along with calls to getValue and the first value\n              // returned by getValue is associated with the first palette color. The second distinct value\n              // returned by getValue is associated with the second palette color and so on.\n              // Specifying the values ensures a skill will be always associated with the same palette color.\n              values: [null, 'Anaesthesiology', 'Pediatrics', 'Oncology', 'Cardiac Care', 'Geriatrics'],\n              palette: ['#f7f5f5', '#00b29e', '#5aa8f8', '#4178bc', '#8cd211', '#c8f08f'],\n            },\n            color: 'automatic',\n          },\n\n          sortComparator(a, b) {\n            // Compare function is called only for nodes with the same parent node\n            // If a is a folder, b is a folder\n            // If a is a nurse, b is a nurse.\n            if (!a.skills) {\n              // Comparison of Skills folders.\n              // Returning 0 leaves folders unsorted\n              return 0;\n              // To sort folder alphabatically, comment previous line and uncomment following one.\n              // return a.name < b.name? -1 : a.name > b.name? 1 : 0;\n            }\n\n            // We compare nurses\n            return a.skills.length < b.skills.length ? -1 : a.skills.length > b.skills.length ? 1 : 0;\n          },\n          // If just displaying text without color rendering, comment the renderer node above and uncomment\n          // the code below\n          /* text : function(nurse) {\n                     return nurse.skills && nurse.skills.join(', ') || '';\n                     } */\n        },\n      ],\n    },\n    timeTable: {\n      renderer: {\n        generateDecorations(start, end, ctx) {\n          const gantt = ctx.gantt;\n          const horiz = gantt.timeLine.getHorizon(); // Get data horizon\n          return [\n            /* Uncomment those two lines and comment the two following ones to see how to specify a own style defined in nurses.css instead of using a predefined one\n                         { start: start, end : horiz.start, className : 'unscheduled-area' },\n                         { start: horiz.end, end : end, className : 'unscheduled-area' } */\n            { start, end: horiz.start, type: 'invalid' },\n            { start: horiz.end, end, type: 'invalid' },\n          ];\n        },\n        generateRowDecorations(nurse, start, end) {\n          const dayoffs = nurse.dayoffs;\n          const breaks = [];\n          if (dayoffs && dayoffs.length) {\n            let date = new Date(start),\n              startDate,\n              nextDay;\n            while (date.getTime() < end) {\n              nextDay = new Date(date.valueOf());\n              nextDay.setDate(date.getDate() + 1);\n              nextDay.setHours(0, 0, 0, 0);\n              if (dayoffs.indexOf(date.getDay()) > -1) {\n                startDate = new Date(date);\n                startDate.setHours(0, 0, 0, 0);\n                breaks.push({\n                  start: startDate.getTime(),\n                  end: nextDay.getTime(),\n                });\n              }\n              date = nextDay;\n            }\n          }\n          return breaks;\n        },\n      },\n    },\n    toolbar: [\n      'title',\n      'search',\n      'separator',\n      'mini',\n      'separator',\n      'fitToContent',\n      'zoomIn',\n      'zoomOut',\n      'separator',\n      // User specific toolbar components\n      {\n        type: 'select',\n        text: 'Display type',\n        options: [\n          { value: 'nurses', text: 'Nurses' },\n          { value: 'skills', text: 'Skills' },\n        ],\n        onchange(value, ctx) {\n          const gantt = ctx.gantt;\n          gantt.load(gantt.ganttModels[value]);\n        },\n      },\n    ],\n    title: 'Nurse example',\n  };\n}\n\nstoriesOf('Storybook|Examples', module).add('Nurses', () => {\n  setTimeout(() => {\n    new Gantt('gantt', createNurseGanttConfig());\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__)).add("Nurses",(function(){return setTimeout((function(){new ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_3__.a("gantt",function createNurseGanttConfig(ctx){function resourcePath(relativePath){return base+relativePath}var base=ctx&&ctx.base||"";return{data:{resources:{url:"nurses/nurses.json",success:function success(nurses,settings){function addNurseSkillRow(skill){nursesBySkills[skill]||(skillRows.push({id:skill,name:skill}),nursesBySkills[skill]=!0);var nurseRow=ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_3__.a.utils.mergeObjects({},nurse);nurseRow.parent=skill,nurseRow.id="".concat(skill,"-").concat(nurse.id),skillRows.push(nurseRow)}var ganttModels={};settings.gantt.ganttModels=ganttModels;var modelTpl={resources:{data:null,parent:"parent",activities:"activities",name:"name",id:"id"},activities:{start:"start",end:"end",name:"name"}};ganttModels.nurses=ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_3__.a.utils.mergeObjects(!0,{},modelTpl),ganttModels.nurses.resources.data=nurses.concat();for(var nurse,nursesBySkills={},skillRows=[],iNurse=0,count=nurses.length;iNurse<count;++iNurse)(nurse=nurses[iNurse]).skills&&nurse.skills.length?nurse.skills.map(addNurseSkillRow):addNurseSkillRow("none");return ganttModels.skills=ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_3__.a.utils.mergeObjects({},modelTpl),ganttModels.skills.resources.data=skillRows,nurses},parent:"parent",activities:"activities",name:"name",id:"id"},activities:{start:"start",end:"end",name:"name"}},classes:"nurses",table:{columns:[{name:"rowNumbers",remove:!0},{name:"hierarchy",renderer:{text:function text(nurse){return nurse.name},iconPaths:{Anaesthesiology:resourcePath("nurses/images/anesth.png"),Geriatrics:resourcePath("nurses/images/geriatrcs.png"),Oncology:resourcePath("nurses/images/onco.png"),Pediatrics:resourcePath("nurses/images/pediatrics.png")},icon:function icon(nurse){var icons=[];if(nurse.skills)for(var i=0,count=nurse.skills.length;i<count;++i)icons.push(this.iconPaths[nurse.skills[i]]||resourcePath("nurses/images/cardio.png"));else this.iconPaths[nurse.name]?icons.push(this.iconPaths[nurse.name]):"Cardiac Care"===nurse.name&&icons.push(resourcePath("nurses/images/cardio.png"));return icons}}},{title:"Skills",renderer:{text:function text(nurse){return nurse.skills&&nurse.skills.join(", ")||""},background:{getValue:function getValue(nurse){return nurse.skills&&nurse.skills.length?nurse.skills[0]:null},values:[null,"Anaesthesiology","Pediatrics","Oncology","Cardiac Care","Geriatrics"],palette:["#f7f5f5","#00b29e","#5aa8f8","#4178bc","#8cd211","#c8f08f"]},color:"automatic"},sortComparator:function sortComparator(a,b){return a.skills?a.skills.length<b.skills.length?-1:a.skills.length>b.skills.length?1:0:0}}]},timeTable:{renderer:{generateDecorations:function generateDecorations(start,end,ctx){var horiz=ctx.gantt.timeLine.getHorizon();return[{start:start,end:horiz.start,type:"invalid"},{start:horiz.end,end:end,type:"invalid"}]},generateRowDecorations:function generateRowDecorations(nurse,start,end){var dayoffs=nurse.dayoffs,breaks=[];if(dayoffs&&dayoffs.length)for(var startDate,nextDay,date=new Date(start);date.getTime()<end;)(nextDay=new Date(date.valueOf())).setDate(date.getDate()+1),nextDay.setHours(0,0,0,0),-1<dayoffs.indexOf(date.getDay())&&((startDate=new Date(date)).setHours(0,0,0,0),breaks.push({start:startDate.getTime(),end:nextDay.getTime()})),date=nextDay;return breaks}}},toolbar:["title","search","separator","mini","separator","fitToContent","zoomIn","zoomOut","separator",{type:"select",text:"Display type",options:[{value:"nurses",text:"Nurses"},{value:"skills",text:"Skills"}],onchange:function onchange(value,ctx){var gantt=ctx.gantt;gantt.load(gantt.ganttModels[value])}}],title:"Nurse example"}}())}),0),'<div id="gantt"></div>'}))}.call(this,__webpack_require__(56)(module))},856:function(module,exports,__webpack_require__){},857:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function($,module){__webpack_require__.d(__webpack_exports__,"withStorySource",(function(){return withStorySource})),__webpack_require__.d(__webpack_exports__,"__STORY__",(function(){return __STORY__})),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",(function(){return __ADDS_MAP__}));var ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_storybook_html__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),withStorySource=(__webpack_require__(91),__webpack_require__(71).withStorySource),__STORY__="import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\n\nfunction createRowLayoutGanttConfig() {\n  var nowMillis = new Date(2016, 7, 8, 8, 0, 0, 0).getTime();\n\n  function makeDate(num) {\n    return nowMillis + num * 12 * 60 * 60 * 1000;\n  }\n\n  function createActivityDuplicates(workers, ctx) {\n    var gantt = ctx.gantt;\n    gantt.rowLayoutMode = null;\n    var worker, assigns, assign;\n    var maxSubRows = 3;\n    var results = [];\n    for (var i = 0; i < workers.length; i++) {\n      worker = workers[i];\n      results.push(worker);\n      assigns = worker.ASSIGNMENTS;\n      var newAssigns = [];\n      for (var iAssign = 0, assignCount = assigns ? assigns.length : 0; iAssign < assignCount; iAssign++) {\n        assign = assigns[iAssign];\n        newAssigns.push(assign);\n        for (var iCp = 0, copyCount = maxSubRows - (iAssign % maxSubRows) - 1; iCp < copyCount; iCp++) {\n          // for(var iCp = 0, copyCount = 1; iCp < copyCount; iCp++) {\n          newAssigns.push($.extend({}, assign));\n        }\n      }\n      worker.ASSIGNMENTS = newAssigns;\n    }\n    return results;\n  }\n\n  return {\n    data: {\n      resources: {\n        url: 'house_building/workers.json',\n        success: createActivityDuplicates,\n        parent: 'PARENT_ID',\n        id: 'OBJECT_ID',\n        activities: 'ASSIGNMENTS',\n        name: 'NAME',\n      },\n      activities: {\n        start(assignment) {\n          return makeDate(assignment.START);\n        },\n        end(assignment) {\n          return makeDate(assignment.END);\n        },\n        name: 'TASK.NAME',\n      },\n    },\n    timeTable: {\n      layout: {\n        strategy(ctx) {\n          return ctx.gantt.rowLayoutMode; // Returns either an empty string for the default layout, \"logistic\" for the logistic layout or \"tile\" for the tile layout.\n        },\n      },\n      renderer: {\n        text(activity) {\n          return activity.TASK.NAME;\n        },\n        background: {\n          getValue: 'TASK.NAME',\n        },\n        color: 'automatic',\n      },\n    },\n    toolbar: [\n      'title',\n      // User specific toolbar components\n      {\n        type: 'select',\n        text: 'Row layout',\n        options: [\n          { value: '', text: 'Default' },\n          { value: 'logistic', text: 'Logistic' },\n          { value: 'tile', text: 'Tile' },\n        ],\n        onchange(value, ctx) {\n          var gantt = ctx.gantt;\n          gantt.rowLayoutMode = value;\n          gantt.draw();\n        },\n      },\n      'separator',\n      'search',\n      'separator',\n      'mini',\n      'separator',\n      'fitToContent',\n      'zoomIn',\n      'zoomOut',\n    ],\n    title: 'Row layout example',\n  };\n}\n\nstoriesOf('Storybook|Examples', module).add('Row Layout', () => {\n  setTimeout(() => {\n    new Gantt('gantt', createRowLayoutGanttConfig());\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__={"storybook-examples--row-layout":{startLoc:{col:44,line:104},endLoc:{col:1,line:109}}};Object(_storybook_html__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Storybook|Examples",module).addDecorator(withStorySource("import Gantt from 'ibm-gantt-chart';\n\nimport { storiesOf } from '@storybook/html';\n\nimport '../stories.scss';\n\nfunction createRowLayoutGanttConfig() {\n  var nowMillis = new Date(2016, 7, 8, 8, 0, 0, 0).getTime();\n\n  function makeDate(num) {\n    return nowMillis + num * 12 * 60 * 60 * 1000;\n  }\n\n  function createActivityDuplicates(workers, ctx) {\n    var gantt = ctx.gantt;\n    gantt.rowLayoutMode = null;\n    var worker, assigns, assign;\n    var maxSubRows = 3;\n    var results = [];\n    for (var i = 0; i < workers.length; i++) {\n      worker = workers[i];\n      results.push(worker);\n      assigns = worker.ASSIGNMENTS;\n      var newAssigns = [];\n      for (var iAssign = 0, assignCount = assigns ? assigns.length : 0; iAssign < assignCount; iAssign++) {\n        assign = assigns[iAssign];\n        newAssigns.push(assign);\n        for (var iCp = 0, copyCount = maxSubRows - (iAssign % maxSubRows) - 1; iCp < copyCount; iCp++) {\n          // for(var iCp = 0, copyCount = 1; iCp < copyCount; iCp++) {\n          newAssigns.push($.extend({}, assign));\n        }\n      }\n      worker.ASSIGNMENTS = newAssigns;\n    }\n    return results;\n  }\n\n  return {\n    data: {\n      resources: {\n        url: 'house_building/workers.json',\n        success: createActivityDuplicates,\n        parent: 'PARENT_ID',\n        id: 'OBJECT_ID',\n        activities: 'ASSIGNMENTS',\n        name: 'NAME',\n      },\n      activities: {\n        start(assignment) {\n          return makeDate(assignment.START);\n        },\n        end(assignment) {\n          return makeDate(assignment.END);\n        },\n        name: 'TASK.NAME',\n      },\n    },\n    timeTable: {\n      layout: {\n        strategy(ctx) {\n          return ctx.gantt.rowLayoutMode; // Returns either an empty string for the default layout, \"logistic\" for the logistic layout or \"tile\" for the tile layout.\n        },\n      },\n      renderer: {\n        text(activity) {\n          return activity.TASK.NAME;\n        },\n        background: {\n          getValue: 'TASK.NAME',\n        },\n        color: 'automatic',\n      },\n    },\n    toolbar: [\n      'title',\n      // User specific toolbar components\n      {\n        type: 'select',\n        text: 'Row layout',\n        options: [\n          { value: '', text: 'Default' },\n          { value: 'logistic', text: 'Logistic' },\n          { value: 'tile', text: 'Tile' },\n        ],\n        onchange(value, ctx) {\n          var gantt = ctx.gantt;\n          gantt.rowLayoutMode = value;\n          gantt.draw();\n        },\n      },\n      'separator',\n      'search',\n      'separator',\n      'mini',\n      'separator',\n      'fitToContent',\n      'zoomIn',\n      'zoomOut',\n    ],\n    title: 'Row layout example',\n  };\n}\n\nstoriesOf('Storybook|Examples', module).add('Row Layout', () => {\n  setTimeout(() => {\n    new Gantt('gantt', createRowLayoutGanttConfig());\n  }, 0);\n  return '<div id=\"gantt\"></div>';\n});\n",__ADDS_MAP__)).add("Row Layout",(function(){return setTimeout((function(){new ibm_gantt_chart__WEBPACK_IMPORTED_MODULE_0__.a("gantt",function createRowLayoutGanttConfig(){function makeDate(num){return nowMillis+12*num*60*60*1e3}var nowMillis=new Date(2016,7,8,8,0,0,0).getTime();return{data:{resources:{url:"house_building/workers.json",success:function success(workers,ctx){ctx.gantt.rowLayoutMode=null;for(var worker,assigns,assign,results=[],i=0;i<workers.length;i++){worker=workers[i],results.push(worker);for(var newAssigns=[],iAssign=0,assignCount=(assigns=worker.ASSIGNMENTS)?assigns.length:0;iAssign<assignCount;iAssign++){assign=assigns[iAssign],newAssigns.push(assign);for(var iCp=0,copyCount=3-iAssign%3-1;iCp<copyCount;iCp++)newAssigns.push($.extend({},assign))}worker.ASSIGNMENTS=newAssigns}return results},parent:"PARENT_ID",id:"OBJECT_ID",activities:"ASSIGNMENTS",name:"NAME"},activities:{start:function start(assignment){return makeDate(assignment.START)},end:function end(assignment){return makeDate(assignment.END)},name:"TASK.NAME"}},timeTable:{layout:{strategy:function strategy(ctx){return ctx.gantt.rowLayoutMode}},renderer:{text:function text(activity){return activity.TASK.NAME},background:{getValue:"TASK.NAME"},color:"automatic"}},toolbar:["title",{type:"select",text:"Row layout",options:[{value:"",text:"Default"},{value:"logistic",text:"Logistic"},{value:"tile",text:"Tile"}],onchange:function onchange(value,ctx){var gantt=ctx.gantt;gantt.rowLayoutMode=value,gantt.draw()}},"separator","search","separator","mini","separator","fitToContent","zoomIn","zoomOut"],title:"Row layout example"}}())}),0),'<div id="gantt"></div>'}))}.call(this,__webpack_require__(7),__webpack_require__(56)(module))},860:function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(2),createClass=__webpack_require__(3),inherits=__webpack_require__(6),possibleConstructorReturn=__webpack_require__(9),getPrototypeOf=__webpack_require__(5),jquery=__webpack_require__(7),jquery_default=__webpack_require__.n(jquery),core=__webpack_require__(0),columnrenderer={createShape:function createShape(activity,parentElt,ctx){return parentElt},getText:function getText(row){return row.name},drawContent:function drawContent(elt,icon,text,object,ctx){}},rowrenderer={createShape:function createShape(activity,parentElt){return parentElt}},treetablecontroller=__webpack_require__(366);__webpack_require__(849);function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var defaultDataTableOptions={bInfo:!1,paging:!1,scrollY:"100%",scrollX:!0,rowId:"id"};var findColumn=function findColumn(columns,name){for(var iCol=0,count=columns?columns.length:0;iCol<count;iCol++)if(columns[iCol].name===name)return columns[iCol];return null},treetable_GanttDataTable=function(_Gantt$components$Tre){Object(inherits.a)(GanttDataTable,_Gantt$components$Tre);var _super=_createSuper(GanttDataTable);function GanttDataTable(gantt,node,config){var _this;Object(classCallCheck.a)(this,GanttDataTable),(_this=_super.call(this,gantt,node,config)).gantt=gantt;var selectionHandler=_this.gantt.selection;return selectionHandler.on(core.a.events.ROW_SELECTION_CLEARED,(function(){return _this.clearSelection()})),selectionHandler.on(core.a.events.ROW_SELECTED,(function(e,sels){return _this.selectRows(sels)})),selectionHandler.on(core.a.events.ROW_UNSELECTED,(function(e,sels){return _this.unselectRows(sels)})),selectionHandler.on(core.a.events.ROW_SELECTION_CHANGED,(function(e,sels){return _this.rowSelectionChanged(sels)})),_this.setConfiguration(config),_this}return Object(createClass.a)(GanttDataTable,[{key:"setConfiguration",value:function setConfiguration(config){var _this2=this;this.config=config,this.$dataTable&&this.destroy();var rowRenderer,defaultConfig=core.a.utils.mergeObjects({},defaultDataTableOptions,{language:{emptyTable:core.a.utils.getString("gantt.datatables.empty-table")}});if(defaultConfig.columns=function getDefaultTableColumns(){return[{name:"rowNumbers",data:null,title:"",render:function render(data,type,full,meta){var color=full.backgroundColor?' style="background-color: '.concat(full.backgroundColor):"";return'<div class="row-number"'.concat(color,">").concat(meta.row+1,"</div>")},className:"row-number-col",orderable:!1,searchable:!1},{name:"hierarchy",data:null,title:core.a.utils.getString("gantt.name","Name")}]}(),this.dataTableOptions=core.a.utils.mergeObjects(defaultConfig,config&&config.dataTables),config&&config.rows&&config.rows.renderer&&(rowRenderer=new(core.a.components.Renderer.impl||core.a.components.Renderer)(config.rows.renderer,rowrenderer,this.gantt)),config&&config.columns&&config.columns.length){var defaultColumns={};this.dataTableOptions.columns=this.dataTableOptions.columns.filter((function(col){return col.name&&(defaultColumns[col.name]=col),!col.name||!findColumn(config.columns,col.name)}));for(var configCol,col,iCol=0;iCol<config.columns.length;iCol++)configCol=config.columns[iCol],(col=this.customizeDataColumn(configCol.name&&defaultColumns[configCol.name]||{},configCol,rowRenderer))&&this.dataTableOptions.columns.push(col);var removedCols={};this.dataTableOptions.columns=this.dataTableOptions.columns.filter((function(col){return!col.remove||!col.name||(removedCols[col.name]=!0,!1)})),findColumn(this.dataTableOptions.columns,"hierarchy")||removedCols.hierarchy||this.dataTableOptions.columns.splice(0,0,findColumn(defaultColumns.hierarchy)),findColumn(this.dataTableOptions.columns,"rowNumbers")||removedCols.rowNumbers||this.dataTableOptions.columns.splice(0,0,findColumn(defaultColumns.rowNumbers))}else if(rowRenderer)for(var _configCol,_iCol=0;_iCol<this.dataTableOptions.columns.length;_iCol++)_configCol=this.dataTableOptions.columns[_iCol],this.dataTableOptions.columns[_iCol]=this.customizeDataColumn(_configCol,{},rowRenderer);config&&void 0!==config.sorting&&!config.sorting?this.dataTableOptions.columns.bSort=!1:config&&config.initialSorting||(this.dataTableOptions.order=[]),this.controller=new treetablecontroller.a,this.controller.rowsVisibilityChanged=function(visible,rows,rowRef){_this2.gantt.startUpdating(),_this2.triggerEvent(visible?core.a.events.ROWS_ADDED:core.a.events.ROWS_REMOVED,rows,rowRef),_this2.gantt.updates.rowsChanged(visible?core.a.events.ROWS_ADDED:core.a.events.ROWS_REMOVED,rows,rowRef),_this2.gantt.stopUpdating()},this.controller.customizeOptions(this.dataTableOptions,findColumn(this.dataTableOptions.columns,"hierarchy"),rowRenderer),this.dataTableOptions.rowId="id";var oldInitComplete=this.dataTableOptions.initComplete;this.dataTableOptions.initComplete=function(oSettings,json){oldInitComplete&&oldInitComplete(oSettings,json)};var oldDrawCallback=this.dataTableOptions.drawCallback;this._drawCallbacks=[],this.dataTableOptions.drawCallback=function(settings){oldDrawCallback&&oldDrawCallback.call(_this2,settings);for(var i=0;i<_this2._drawCallbacks.length;i++)_this2._drawCallbacks[i](settings);_this2._drawCallbacks=[]},this.create()}},{key:"customizeDataColumn",value:function customizeDataColumn(col,config,rowRenderer){if(config.name&&(col.name=config.name),config.title&&(col.title=config.title),config.width&&(col.width=config.width),config.visible&&(col.visible=config.visible),config.className&&(col.className=config.className),config.remove&&(col.remove=config.remove),config.data||config.text){var c=config.data||config.text;if("function"==typeof c)col.data=c;else if("string"==typeof c){var getter=core.a.utils.propertyEvaluator(c);getter&&(col.data=function(object){return getter(object)})}}if(config.renderer||config.sortComparator||config.sortValue||config.filterValue||rowRenderer){var sortValue,colRenderer=config.renderer?new(core.a.components.Renderer.impl||core.a.components.Renderer)(config.renderer,columnrenderer,this.gantt):null;if(config.sortValue||config.sortComparator||colRenderer&&colRenderer.getText)col.type="tree-node",config.sortValue&&(core.a.utils.isFunction(config.sortValue)?sortValue=function sortValue(obj){return config.sortValue.call(config,obj)}:core.a.utils.isString(config.sortValue)?sortValue=core.a.utils.propertyEvaluator(config.sortValue):console.warn("sortValue column config should be a function or a string")),!sortValue&&!config.sortComparator&&colRenderer&&colRenderer.getText&&(sortValue=function sortValue(obj){return colRenderer.getText(obj)}),col.render={},col.render.sort=function(node,type,full){var obj=Object.create(full);return sortValue&&(obj.getSortValue=sortValue),config.sortComparator&&(obj.comparator=function(a,b){return config.sortComparator.call(config,a,b)}),obj};else col.orderable=!1;if(config.filterValue)if(col.render||(col.render={}),core.a.utils.isFunction(config.filterValue))col.render.filter=function(node,type,full){return config.filterValue.call(config,full)};else if(core.a.utils.isString(config.filterValue)){var filterValue=core.a.utils.propertyEvaluator(config.filterValue);col.render.filter=function(node,type,full){return filterValue(full)}}else console.warn("filterValue column config should be a function or a string");colRenderer&&(col.render||(col.render={}),colRenderer&&colRenderer.getText&&(col.render._=function(node,type,full){return colRenderer.getText(full)}),col.render.display=function(node,type,full,meta){var result="",icon=colRenderer.getIcon&&colRenderer.getIcon(node,meta);if(icon){icon=core.a.utils.isArray(icon)?icon:[icon];for(var iIcon=0;iIcon<icon.length;iIcon++)result+="<img src='".concat(icon[iIcon],"' alt='' class='text-icon'>")}var text=colRenderer.getText&&colRenderer.getText(node,meta);return text&&(result+="<span>".concat(text,"</span>")),result});var ctx={};rowRenderer?col.createdCell=colRenderer?function(cell,cellData,rowData){colRenderer.draw(rowData,cell,ctx)}:function(cell,cellData,rowData){rowRenderer.draw(rowData,cell,ctx)}:colRenderer&&(col.createdCell=function(cell,cellData,rowData){colRenderer.draw(rowData,cell,ctx)})}return col.data||(col.data=null),col}},{key:"setRowFilter",value:function setRowFilter(filter){this.filter=filter}},{key:"create",value:function create(){}},{key:"setRows",value:function setRows(rows){var _this3=this;this.rows=rows,this.tableElt&&this.destroy(),this.tableElt=document.createElement("table"),this.tableElt.className=core.a.components.TreeTable.defaultClass,this.tableElt.cellSpacing=0;for(var th,initResolver,thead=document.createElement("thead"),tr=document.createElement("tr"),columns=this.dataTableOptions.columns,i=0;i<columns.length;i++)(th=document.createElement("th")).innerHTML=columns[i].key&&core.a.utils.getString(columns[i].key,columns[i].title)||columns[i].title||columns[i].data||"Col".concat(i+1),tr.appendChild(th);thead.appendChild(tr),this.tableElt.appendChild(thead),this.node.appendChild(this.tableElt);var initPms=new Promise((function(resolver,reject){initResolver=resolver})),$tableElt=jquery_default()(this.tableElt);this.tableBody=null,this.headerHeight>0&&(this.headerHeight=-this.headerHeight),this.$dataTable=$tableElt.on("init.dt",(function(){_this3.tableInitialized(),_this3.headerHeight<0&&_this3.setHeaderHeight(-_this3.headerHeight),_this3.triggerEvent(core.a.events.TABLE_INIT),initResolver(rows),_this3.dataTableOptions.data=null})).DataTable(core.a.utils.mergeObjects({},this.dataTableOptions,{data:rows}));var hasNumberColumn=findColumn(this.dataTableOptions.columns,"rowNumbers");this.$dataTable.on("order.dt search.dt",(function(e){hasNumberColumn&&_this3.$dataTable.column("".concat("rowNumbers",":name"),{search:"applied",order:"applied"}).nodes().each((function(cell,i){cell.innerHTML=i+1}))})).draw("full-hold");for(var allSettings=this.$dataTable.settings(),_i=0;_i<allSettings.length;_i++)allSettings[_i].ganttDataTable=this;var body=this.getScrollableBody(this.tableElt);return this.controller.install(this.$dataTable,body),jquery_default()(body).on("click","tr",(function(e){var tr=jquery_default()(e.target).closest("tr"),row=tr&&tr.length&&_this3.getRow(tr[0]);row&&(_this3.gantt.highlightRow(row,!0,!0),_this3.gantt.selection.processClick(e,row))})),jquery_default()(body).on("mouseenter","tr",(function(e){var tr=jquery_default()(e.target).closest("tr"),row=tr&&tr.length&&_this3.getRow(tr[0]);row&&_this3.gantt.highlightRow(row,!0,!0)})),jquery_default()(body).on("mouseleave","tr",(function(e){var tr=jquery_default()(e.target).closest("tr");tr&&tr.length&&_this3.getRow(tr[0]);_this3.gantt.highlightRow(null,!0,!0)})),initPms}},{key:"tableInitialized",value:function tableInitialized(){jquery_default()(this.node).toggleClass("tree-table-flat",this.gantt.isFlat()),this.$scrollableBody=jquery_default()(this.node).find("div.dataTables_scrollBody"),this.scrollableBody=this.$scrollableBody[0],this.tableBody=this.$scrollableBody.find("TBODY")[0],this.scrollableBody.overflowX="scroll",this.scrollableBody.overflowY="hidden",this.scrollableBody.style.position="absolute",this.scrollableBody.style.right=0,this.scrollableBody.style.left=0,this.scrollableBody.style.bottom=0,this.scrollableBody.style.width=null,this.scrollableBody.style.height=null;var $scrollableHead=jquery_default()(this.node).find("div.dataTables_scrollHead THEAD");this.tableHeader=$scrollableHead[0];var table=this;$scrollableHead.find("th").click((function(){(core.a.utils.hasClass(this,"sorting")||core.a.utils.hasClass(this,"sorting_asc")||core.a.utils.hasClass(this,"sorting_desc"))&&(table.gantt.startUpdating(),table.gantt.updates.rowsChanged(core.a.events.ROWS_SORTED),table.gantt.updates.tableScrollYChanged(),table.triggerEvent(core.a.events.ROWS_SORTED),table.gantt.stopUpdating())}))}},{key:"onDraw",value:function onDraw(fct){this._drawCallbacks.push(fct)}},{key:"createUpdates",value:function createUpdates(parent){var _this4=this,updates=new(core.a.components.GanttUpdates.impl||core.a.components.GanttUpdates)(parent,{doApplyUpdates:function doApplyUpdates(){updates.isReload()?_this4.$dataTable.draw():updates.containsRowChanges&&_this4.$dataTable.draw("full-hold")}});return updates}},{key:"getScrollableBody",value:function getScrollableBody(){return this.getTableBody()}},{key:"setHeaderHeight",value:function setHeaderHeight(height){if(this.tableHeader){var scrollHeadHeight;if(this.headerHeight=height,height){scrollHeadHeight=height;for(var tds=core.a.utils.getChild(this.tableHeader,"TR").childNodes,i=0,count=tds.length;i<count;++i)jquery_default()(tds.item(i)).css({height:"".concat(height,"px")});this.tableHeader.parentNode.height="".concat(height,"px")}else scrollHeadHeight=jquery_default()(this.tableHeader).height();this.scrollableBody.style.top="".concat(scrollHeadHeight,"px");var panelHeight=jquery_default()(this.node).height();this.$scrollableBody.height(panelHeight-scrollHeadHeight)}else this.headerHeight=-height}},{key:"getScrollableTable",value:function getScrollableTable(){return this.scrollableBody}},{key:"getTableBody",value:function getTableBody(){return this.tableBody}},{key:"getHeight",value:function getHeight(){return this.tableBody?this.tableBody.offsetHeight:0}},{key:"getRowCount",value:function getRowCount(){return this.$dataTable.data().length}},{key:"createRowResult",value:function createRowResult(tr,index){var id=tr.id,node=(id||0===id)&&this.rows&&this.rows.byIds[id]||null;return node&&(node.tr=tr,void 0!==index&&(node.index=index)),node}},{key:"getRow",value:function getRow(param){var id,row;return param&&param.isGanttRow?(row=param,id=param.id):"string"==typeof param||param&&param.id?(id=param.id||param,row=this.rows&&this.rows.byIds&&id&&this.rows.byIds[id]):core.a.utils.isInteger(param)&&(id=(row=this.rows&&this.rows[param])&&row.id),row&&!row.tr&&id&&(row.tr=param.nodeType?param:document.getElementById(id)),row}},{key:"getRows",value:function getRows(selector){var _this5=this;return selector?core.a.utils.isArray(selector)?selector.map((function(row){return _this5.getRow(row)})):this.getRow(selector):this.rows}},{key:"getVisibleRows",value:function getVisibleRows(){if(!this.$dataTable)return[];for(var row,trs=this.$dataTable.$("tr",{filter:"applied"}),count=trs.length,result=new Array(count),i=0;i<count;++i)row=(row=trs[i]).length?row[0]:row,row=this.rows&&this.rows.byIds[row.id],result[i]=row;return result}},{key:"getRowAt",value:function getRowAt(y,startingRow){var tr,index;if(startingRow&&startingRow.getData()&&(tr=startingRow.tr)){index=startingRow.index;var top=this.getRowTop(startingRow);if(top<=y)for(y-=top;tr&&y>tr.offsetHeight;)y-=tr.offsetHeight,tr=tr.nextSibling,index++;else do{tr=tr.previousSibling,--index}while(tr&&y<(top-=tr.offsetHeight));if(tr&&startingRow.tr===tr)return startingRow}else{index=0;var row=this.nextRow(null);for(tr=row&&row.tr;tr&&y>=tr.offsetHeight;)y-=tr.offsetHeight,tr=tr.nextSibling,++index}return tr&&this.createRowResult(tr,index)}},{key:"getRowAtIndex",value:function getRowAtIndex(index){var body=this.getTableBody();if(body){for(var tr=core.a.utils.getChild(body,"TR"),origIndex=index;index--&&tr;)tr=tr.nextSibling;return tr&&this.createRowResult(tr,origIndex)||null}return null}},{key:"getRowTop",value:function getRowTop(row){return(row.tr||(row.tr=document.getElementById(row.id)))&&row.tr.offsetTop-this.getTableBody().offsetTop||0}},{key:"nextRow",value:function nextRow(row){if(!row){var tr=this.getTableBody()&&this.getTableBody().firstChild;return tr&&this.createRowResult(tr,0)||null}var nextTr=row.tr.nextSibling;return nextTr&&this.createRowResult(nextTr,row.index+1)||null}},{key:"prevRow",value:function prevRow(row){if(!row){var tr=this.getTableBody()&&this.getTableBody().lastChild;return tr&&this.createRowResult(tr,this.getTableBody().childElementCount)||null}var prevTr=row.tr.previousSibling;return prevTr&&this.createRowResult(prevTr,row.index-1)||null}},{key:"setRowHeight",value:function setRowHeight(row,height){row.defaultHeight||(row.defaultHeight=row.tr.offsetHeight),height!==row.defaultHeight?jquery_default()(row.tr).css({height:"".concat(height,"px")}).addClass("variable-row-height"):jquery_default()(row.tr).css({height:"inherit"})}},{key:"getRowHeight",value:function getRowHeight(row,height){return row.tr||(row.tr=document.getElementById(row.id)),row.tr.getBoundingClientRect().height}},{key:"deleteDrawCache",value:function deleteDrawCache(){if(this.rows)for(var i=0,count=this.rows.length;i<count;++i)delete this.rows[i].activityRow;this.$dataTable&&this.$dataTable.$("tr.variable-row-height").css({height:"inherit"}).removeClass("variable-row-height")}},{key:"expandParents",value:function expandParents(row){(row=this.getRow(row))&&this.controller.expandParents("".concat(row.id))}},{key:"getFirstVisibleRow",value:function getFirstVisibleRow(){var yTop=this.getScrollableTable().scrollTop;return this.getRowAt(yTop)}},{key:"isRowVisible",value:function isRowVisible(param){var row=this.getRow(param);if(this.isRowFiltered(row))return!1;for(var parent=row.parent;parent;){if(this.controller.isCollapsedNode(parent.id))return!1;parent=parent.parent}return!0}},{key:"toggleCollapseRow",value:function toggleCollapseRow(param,collapse){var row=this.getRow(param);if(!row||this.isRowFiltered(row))return!1;void 0===collapse&&(collapse=!this.controller.isCollapsedNode(row.id)),this.controller.collapseNode(row.id,collapse)}},{key:"highlightRow",value:function highlightRow(row,highlight,deselectAll){var utils=core.a.utils;if(deselectAll)for(var result=this.getTableBody().querySelectorAll("tr.".concat("highlight")),i=0;i<result.length;i++)utils.removeClass(result[i],"highlight");row&&row.tr?utils.toggleClass(row.tr,"highlight",void 0===highlight||highlight):row&&jquery_default()(this.getTableBody()).find("#".concat(row.id||row)).toggleClass("highlight",void 0===highlight||highlight)}},{key:"draw",value:function draw(forceTableReload){forceTableReload?this.$dataTable.draw():this.$dataTable.draw("full-hold")}},{key:"drawRows",value:function drawRows(rows){var _this6=this;rows.forEach((function(element){var data=_this6.$dataTable.row(element.tr).data();element.tr.style.backgroundColor=data.backgroundColor||""}))}},{key:"onResize",value:function onResize(){this.$dataTable&&this.$dataTable.draw("full-hold")}},{key:"filterChanged",value:function filterChanged(){this.$dataTable&&this.$dataTable.draw("full-hold")}},{key:"isRowFiltered",value:function isRowFiltered(row){return void 0!==row.__filterMatched&&!row.__filterMatched}},{key:"setRowColor",value:function setRowColor(row,color){}},{key:"destroy",value:function destroy(){this.$dataTable&&(this.$dataTable.destroy(),this.tableElt.parentNode===this.node&&this.node.removeChild(this.tableElt),this.$dataTable=null,this.tableElt=null,this.tableBody=null,this.$scrollableBody=null,this.tableHeader=null)}},{key:"clearSelection",value:function clearSelection(){this.$dataTable&&this.$dataTable.$("tr.".concat("selected")).removeClass("selected")}},{key:"selectRows",value:function selectRows(rows){for(var tr,i=0;i<rows.length;i++)(tr=rows[i].tr||this.getRow(rows[i]).tr)&&core.a.utils.addClass(tr,"selected")}},{key:"unselectRows",value:function unselectRows(rows){for(var tr,i=0;i<rows.length;i++)(tr=rows[i].tr||this.getRow(rows[i]).tr)&&core.a.utils.removeClass(tr,"selected")}},{key:"rowSelectionChanged",value:function rowSelectionChanged(){this.$dataTable&&this.$dataTable.draw("full-hold")}}]),GanttDataTable}(core.a.components.TreeTable);core.a.components.TreeTable.defaultClass="gantt-tree-table display nowrap",core.a.components.TreeTable.impl=treetable_GanttDataTable},861:function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(2),createClass=__webpack_require__(3),jquery=__webpack_require__(7),jquery_default=__webpack_require__.n(jquery);!function(Gantt,$){var methods={};methods.init=function(){var $splitPanes=this;$splitPanes.each(setMinHeightAndMinWidth),$splitPanes.append('<div class="split-pane-resize-shim">'),$splitPanes.children(".split-pane-divider").html('<div class="split-pane-divider-inner"></div>'),$splitPanes.children(".split-pane-divider").on("touchstart mousedown",mousedownHandler),setTimeout((function(){$splitPanes.each((function(){$(this).on("_splitpaneparentresize",function createParentresizeHandler($splitPane){var components=getComponents($splitPane);if($splitPane.is(".fixed-top"))return function(event){var lastComponentMinHeight=minHeight(components.last),maxfirstComponentHeight=components.splitPane.offsetHeight-lastComponentMinHeight-components.divider.offsetHeight;components.first.offsetHeight>maxfirstComponentHeight&&setTop(components,"".concat(maxfirstComponentHeight,"px")),$splitPane.resize()};if($splitPane.is(".fixed-bottom"))return function(event){var firstComponentMinHeight=minHeight(components.first),maxLastComponentHeight=components.splitPane.offsetHeight-firstComponentMinHeight-components.divider.offsetHeight;components.last.offsetHeight>maxLastComponentHeight&&setBottom(components,"".concat(maxLastComponentHeight,"px")),$splitPane.resize()};if($splitPane.is(".horizontal-percent"))return function(event){var lastComponentMinHeight=minHeight(components.last),firstComponentMinHeight=minHeight(components.first),maxLastComponentHeight=components.splitPane.offsetHeight-firstComponentMinHeight-components.divider.offsetHeight;components.last.offsetHeight>maxLastComponentHeight?setBottom(components,"".concat(maxLastComponentHeight/components.splitPane.offsetHeight*100,"%")):components.splitPane.offsetHeight-components.first.offsetHeight-components.divider.offsetHeight<lastComponentMinHeight&&setBottom(components,"".concat(lastComponentMinHeight/components.splitPane.offsetHeight*100,"%")),$splitPane.resize()};if($splitPane.is(".fixed-left"))return function(event){var lastComponentMinWidth=minWidth(components.last),maxFirstComponentWidth=components.splitPane.offsetWidth-lastComponentMinWidth-components.divider.offsetWidth;components.first.offsetWidth>maxFirstComponentWidth&&setLeft(components,"".concat(maxFirstComponentWidth,"px")),$splitPane.resize()};if($splitPane.is(".fixed-right"))return function(event){var firstComponentMinWidth=minWidth(components.first),maxLastComponentWidth=components.splitPane.offsetWidth-firstComponentMinWidth-components.divider.offsetWidth;components.last.offsetWidth>maxLastComponentWidth&&setRight(components,"".concat(maxLastComponentWidth,"px")),$splitPane.resize()};if($splitPane.is(".vertical-percent"))return function(event){var lastComponentMinWidth=minWidth(components.last),firstComponentMinWidth=minWidth(components.first),maxLastComponentWidth=components.splitPane.offsetWidth-firstComponentMinWidth-components.divider.offsetWidth;components.last.offsetWidth>maxLastComponentWidth?setRight(components,"".concat(maxLastComponentWidth/components.splitPane.offsetWidth*100,"%")):components.splitPane.offsetWidth-components.first.offsetWidth-components.divider.offsetWidth<lastComponentMinWidth&&setRight(components,"".concat(lastComponentMinWidth/components.splitPane.offsetWidth*100,"%")),$splitPane.resize()}}($(this)))})),$(window).trigger("resize")}),100)},methods.firstComponentSize=function(value){this.each((function(){var $splitPane=$(this),components=getComponents($splitPane);$splitPane.is(".fixed-top")?fixedTopHandler(components,components.divider.offsetTop)({pageY:value}):$splitPane.is(".fixed-bottom")?(value=components.splitPane.offsetHeight-components.divider.offsetHeight-value,fixedBottomHandler(components,-components.last.offsetHeight)({pageY:-value})):$splitPane.is(".horizontal-percent")?(value=components.splitPane.offsetHeight-components.divider.offsetHeight-value,horizontalPercentHandler(components,-components.last.offsetHeight)({pageY:-value})):$splitPane.is(".fixed-left")?fixedLeftHandler(components,components.divider.offsetLeft)({pageX:value}):$splitPane.is(".fixed-right")?(value=components.splitPane.offsetWidth-components.divider.offsetWidth-value,fixedRightHandler(components,-components.last.offsetWidth)({pageX:-value})):$splitPane.is(".vertical-percent")&&(value=components.splitPane.offsetWidth-components.divider.offsetWidth-value,verticalPercentHandler(components,-components.last.offsetWidth)({pageX:-value}))}))},methods.lastComponentSize=function(value){this.each((function(){var $splitPane=$(this),components=getComponents($splitPane);$splitPane.is(".fixed-top")?(value=components.splitPane.offsetHeight-components.divider.offsetHeight-value,fixedTopHandler(components,components.divider.offsetTop)({pageY:value})):$splitPane.is(".fixed-bottom")?fixedBottomHandler(components,-components.last.offsetHeight)({pageY:-value}):$splitPane.is(".horizontal-percent")?horizontalPercentHandler(components,-components.last.offsetHeight)({pageY:-value}):$splitPane.is(".fixed-left")?(value=components.splitPane.offsetWidth-components.divider.offsetWidth-value,fixedLeftHandler(components,components.divider.offsetLeft)({pageX:value})):$splitPane.is(".fixed-right")?fixedRightHandler(components,-components.last.offsetWidth)({pageX:-value}):$splitPane.is(".vertical-percent")&&verticalPercentHandler(components,-components.last.offsetWidth)({pageX:-value})}))},methods.setLeftComponentVisible=function(visible){this.each((function(){var components=getComponents($(this));components.divider.style.display=visible?"":"none",components.first.style.display=visible?"":"none"}))},methods.setRightComponentVisible=function(visible){this.each((function(){var components=getComponents($(this)),first=components.first;first.style.position=visible?"absolute":"relative",first.style[$(first).hasClass("top-pane")?"height":"width"]=visible?"":"100%",components.divider.style.display=visible?"":"none",components.last.style.display=visible?"":"none"}))},$.fn.splitPane=function(method){method||(method="init"),methods[method].apply(this,$.grep(arguments,(function(it,i){return i>0})))};function setMinHeightAndMinWidth(){var $splitPane=$(this),components=getComponents($splitPane);$splitPane.is(".fixed-top, .fixed-bottom, .horizontal-percent")?$splitPane.css("min-height","".concat(minHeight(components.first)+minHeight(components.last)+$(components.divider).height(),"px")):$splitPane.css("min-width","".concat(minWidth(components.first)+minWidth(components.last)+$(components.divider).width(),"px"))}function mousedownHandler(event){var $divider=$(this),$splitPane=$divider.parent(),$resizeShim=$divider.siblings(".split-pane-resize-shim");$resizeShim.show(),$divider.addClass("dragged"),event.type.match(/^touch/)&&$divider.addClass("touch");var moveEventHandler=function createMousemove($splitPane,pageX,pageY){var components=getComponents($splitPane);if($splitPane.is(".fixed-top"))return fixedTopHandler(components,pageY);if($splitPane.is(".fixed-bottom"))return fixedBottomHandler(components,pageY);if($splitPane.is(".horizontal-percent"))return horizontalPercentHandler(components,pageY);if($splitPane.is(".fixed-left"))return fixedLeftHandler(components,pageX);if($splitPane.is(".fixed-right"))return fixedRightHandler(components,pageX);if($splitPane.is(".vertical-percent"))return verticalPercentHandler(components,pageX)}($splitPane,pageXof(event),pageYof(event));$(document).on("touchmove mousemove",moveEventHandler),$(document).one("touchend mouseup",(function(event){$(document).off("touchmove mousemove",moveEventHandler),$divider.removeClass("dragged touch"),$resizeShim.hide(),$splitPane.trigger("dividerdragend",[getComponentsSizes($splitPane)])})),$splitPane.trigger("dividerdragstart",[getComponentsSizes($splitPane)])}function getComponentsSizes($splitPane){var property=$splitPane.is(".fixed-top, .fixed-bottom, .horizontal-percent")?"height":"width";return{firstComponentSize:$splitPane.find(".split-pane-component:first")[property](),lastComponentSize:$splitPane.find(".split-pane-component:last")[property]()}}function fixedTopHandler(components,pageY){var firstComponentMinHeight=minHeight(components.first),maxFirstComponentHeight=components.splitPane.offsetHeight-minHeight(components.last)-components.divider.offsetHeight,topOffset=components.divider.offsetTop-pageY;return function(event){var top=function newTop(firstComponentMinHeight,maxFirstComponentHeight,value){return Math.min(Math.max(firstComponentMinHeight,value),maxFirstComponentHeight)}(firstComponentMinHeight,maxFirstComponentHeight,topOffset+pageYof(event));setTop(components,"".concat(top,"px")),$(components.splitPane).resize()}}function fixedBottomHandler(components,pageY){var lastComponentMinHeight=minHeight(components.last),maxLastComponentHeight=components.splitPane.offsetHeight-minHeight(components.first)-components.divider.offsetHeight,bottomOffset=components.last.offsetHeight+pageY;return function(event){event.preventDefault&&event.preventDefault();var bottom=Math.min(Math.max(lastComponentMinHeight,bottomOffset-pageYof(event)),maxLastComponentHeight);setBottom(components,"".concat(bottom,"px")),$(components.splitPane).resize()}}function horizontalPercentHandler(components,pageY){var splitPaneHeight=components.splitPane.offsetHeight,lastComponentMinHeight=minHeight(components.last),maxLastComponentHeight=splitPaneHeight-minHeight(components.first)-components.divider.offsetHeight,bottomOffset=components.last.offsetHeight+pageY;return function(event){event.preventDefault&&event.preventDefault();var bottom=Math.min(Math.max(lastComponentMinHeight,bottomOffset-pageYof(event)),maxLastComponentHeight);setBottom(components,"".concat(bottom/splitPaneHeight*100,"%")),$(components.splitPane).resize()}}function fixedLeftHandler(components,pageX){var firstComponentMinWidth=minWidth(components.first),maxFirstComponentWidth=components.splitPane.offsetWidth-minWidth(components.last)-components.divider.offsetWidth,leftOffset=components.divider.offsetLeft-pageX;return function(event){event.preventDefault&&event.preventDefault();var left=function newLeft(firstComponentMinWidth,maxFirstComponentWidth,value){return Math.min(Math.max(firstComponentMinWidth,value),maxFirstComponentWidth)}(firstComponentMinWidth,maxFirstComponentWidth,leftOffset+pageXof(event));setLeft(components,"".concat(left,"px")),$(components.splitPane).resize()}}function fixedRightHandler(components,pageX){var lastComponentMinWidth=minWidth(components.last),maxLastComponentWidth=components.splitPane.offsetWidth-minWidth(components.first)-components.divider.offsetWidth,rightOffset=components.last.offsetWidth+pageX;return function(event){event.preventDefault&&event.preventDefault();var right=Math.min(Math.max(lastComponentMinWidth,rightOffset-pageXof(event)),maxLastComponentWidth);setRight(components,"".concat(right,"px")),$(components.splitPane).resize()}}function verticalPercentHandler(components,pageX){var splitPaneWidth=components.splitPane.offsetWidth,lastComponentMinWidth=minWidth(components.last),maxLastComponentWidth=splitPaneWidth-minWidth(components.first)-components.divider.offsetWidth,rightOffset=components.last.offsetWidth+pageX;return function(event){event.preventDefault&&event.preventDefault();var right=Math.min(Math.max(lastComponentMinWidth,rightOffset-pageXof(event)),maxLastComponentWidth);setRight(components,"".concat(right/splitPaneWidth*100,"%")),$(components.splitPane).resize()}}function getComponents($splitPane){return{splitPane:$splitPane[0],first:$splitPane.children(".split-pane-component:first")[0],divider:$splitPane.children(".split-pane-divider")[0],last:$splitPane.children(".split-pane-component:last")[0]}}function pageXof(event){return void 0!==event.pageX?event.pageX:void 0!==event.originalEvent.pageX?event.originalEvent.pageX:event.originalEvent.touches?event.originalEvent.touches[0].pageX:void 0}function pageYof(event){return void 0!==event.pageY?event.pageY:void 0!==event.originalEvent.pageY?event.originalEvent.pageY:event.originalEvent.touches?event.originalEvent.touches[0].pageY:void 0}function minHeight(element){return Number.parseInt($(element).css("min-height"),10)||0}function minWidth(element){return Number.parseInt($(element).css("min-width"),10)||0}function setTop(components,top){components.first.style.height=top,components.divider.style.top=top,components.last.style.top=top}function setBottom(components,bottom){components.first.style.bottom=bottom,components.divider.style.bottom=bottom,components.last.style.height=bottom}function setLeft(components,left){components.first.style.width=left,components.divider.style.left=left,components.last.style.left=left}function setRight(components,right){components.first.style.right=right,components.divider.style.left=right,components.last.style.width=right}$.event.special._splitpaneparentresize={setup:function setup(data,namespaces){var element=this,parent=$(this).parent().closest(".split-pane")[0]||window;$(this).data("_splitpaneparentresizeHandler",(function(event){var target=event.target===document?window:event.target;target===parent?(event.type="_splitpaneparentresize",$.event.dispatch.apply(element,arguments)):event.stopPropagation()})),$(parent).on("resize",$(this).data("_splitpaneparentresizeHandler"))},teardown:function teardown(namespaces){var parent=$(this).parent().closest(".split-pane")[0]||window;$(parent).off("resize",$(this).data("_splitpaneparentresizeHandler")),$(this).removeData("_splitpaneparentresizeHandler")}};var Split=function(){function Split(elt,options){var _this=this;Object(classCallCheck.a)(this,Split),this.options=options,this.horiz=!this.options||void 0===this.options.horizontal||this.options.horizontal;var fixedFirst=!this.options||void 0===this.options.fixedFirst||this.options.fixedFirst,hideFirst=options&&options.hideFirst,hideSecond=options&&options.hideSecond;this.splitPaneElt=document.createElement("div"),this.splitPaneElt.className="split-pane docloud-splitpane ".concat(this.horiz?fixedFirst?"fixed-left":"fixed-right":fixedFirst?"fixed-top":"fixed-bottom"),this.leftComponent=document.createElement("div"),this.leftComponent.className="split-pane-component ".concat(this.horiz?"left-pane split-pane-left":"top-pane split-pane-top"),this.splitPaneElt.appendChild(this.leftComponent);var divider=document.createElement("div");divider.className="split-pane-divider ".concat(this.horiz?"h-split-pane-divider":"v-split-pane-divider"),this.splitPaneElt.appendChild(divider),(hideFirst||hideSecond)&&(divider.style.display="none"),this.rightComponent=document.createElement("div"),this.rightComponent.className="split-pane-component ".concat(this.horiz?"right-pane split-pane-right":"bottom-pane split-pane-bottom"),this.splitPaneElt.appendChild(this.rightComponent),hideSecond?(this.leftComponent.style.position="relative",this.leftComponent.style[this.horiz?"width":"height"]="100%",this.rightComponent.style.display="none"):hideFirst&&(this.rightComponent.style.position="relative",this.rightComponent.style[this.horiz?"width":"height"]="100%",this.leftComponent.style.display="none"),elt.appendChild(this.splitPaneElt),this.$splitPaneElt=$(this.splitPaneElt).splitPane(),$(this.splitPaneElt).on("resize",(function(e){_this.onresized()})),$(this.splitPaneElt).on("dividerdragend",(function(e){_this.onDividerDragEnd()}))}return Object(createClass.a)(Split,[{key:"getLeftComponent",value:function getLeftComponent(){return this.leftComponent}},{key:"getRightComponent",value:function getRightComponent(){return this.rightComponent}},{key:"leftComponentCreated",value:function leftComponentCreated(){var pos=this.options&&this.options.pos||200;pos>=0&&$(this.splitPaneElt).splitPane("firstComponentSize",pos)}},{key:"rightComponentCreated",value:function rightComponentCreated(){var pos=this.options&&this.options.pos;pos<0&&$(this.splitPaneElt).splitPane("lastComponentSize",-pos)}},{key:"onresized",value:function onresized(){}},{key:"onDividerDragEnd",value:function onDividerDragEnd(){}},{key:"setLeftComponentVisible",value:function setLeftComponentVisible(visible){$(this.splitPaneElt).splitPane("setLeftComponentVisible",visible)}},{key:"setRightComponentVisible",value:function setRightComponentVisible(visible){$(this.splitPaneElt).splitPane("setRightComponentVisible",visible)}}]),Split}();Gantt.components.Split.impl=Split}(__webpack_require__(0).a,jquery_default.a);__webpack_require__(845)},862:function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(2),createClass=__webpack_require__(3),inherits=__webpack_require__(6),possibleConstructorReturn=__webpack_require__(9),getPrototypeOf=__webpack_require__(5),jquery=__webpack_require__(7),jquery_default=__webpack_require__.n(jquery),moment_with_locales_es6=__webpack_require__(236),moment_with_locales_es6_default=__webpack_require__.n(moment_with_locales_es6),vis_min=__webpack_require__(163),vis_min_default=__webpack_require__.n(vis_min),core=__webpack_require__(0);__webpack_require__(847);function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.a)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.a)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.a)(this,result)}}var defaultConfig={scrollableHorizonFactor:3,margin:20},timeline_TimeLine=function(_Gantt$components$Tim){Object(inherits.a)(TimeLine,_Gantt$components$Tim);var _super=_createSuper(TimeLine);function TimeLine(gantt,elt,config){var _this;return Object(classCallCheck.a)(this,TimeLine),(_this=_super.call(this,gantt,elt,core.a.utils.mergeObjects({},defaultConfig,config))).create(),_this}return Object(createClass.a)(TimeLine,[{key:"create",value:function create(){this.scrollableHorizonFactor=Math.max(this.config&&this.config.scrollableHorizonFactor||3,1),this.items=[],this.itemsByIds={},this._init=!1}},{key:"setTimeWindow",value:function setTimeWindow(start,end){var _this2=this;this.timeLineElt&&this.node.removeChild(this.timeLineElt),this.timeLineElt=document.createElement("div"),this.timeLineElt.style.width="".concat(this.node.offsetWidth*this.scrollableHorizonFactor,"px"),this.timeLineElt.style.height="100%";var span=end-start;this.scrollableHorizon={start:Math.round(start-(this.scrollableHorizonFactor-1)/2*span),end:Math.round(end+(this.scrollableHorizonFactor-1)/2*span)};var intl=core.a.utils.getIntl();intl&&intl.locale&&moment_with_locales_es6_default.a.locale(intl.locale);try{this.visTimeline=new vis_min_default.a.Timeline(this.timeLineElt,[],{orientation:{axis:"top",item:"top"},height:"100%",start:this.scrollableHorizon.start,end:this.scrollableHorizon.end,moment:moment_with_locales_es6_default.a})}catch(e){throw console.error(e),e}this.horizon={start:start,end:end},this.node.appendChild(this.timeLineElt),this.zoomFactor=1;var initPromise=new Promise((function(resolve,reject){_this2.initResolve=resolve}));this.visTimeline.on("rangechanged",(function(){_this2.updateRatio()})),this._init=!1;return this.visTimeline.on("changed",(function fireReady(){_this2._init=!0;var window=_this2.visTimeline.getWindow();window.startMillis=window.start.getTime(),window.endMillis=window.end.getTime(),_this2.updateRatio();var wnd={start:start,end:end};_this2.initResolve(wnd),_this2.visTimeline.off("changed",fireReady),_this2.triggerEvent(core.a.events.TIME_LINE_INIT,wnd)})),this.visTimeline.on("rangechange",(function(){_this2.updateRatio(),_this2.triggerEvent(core.a.events.TIME_LINE_RANGE_CHANGE)})),this.visTimeline.on("rangechanged",(function(){_this2.updateRatio(),_this2.triggerEvent(core.a.events.TIME_LINE_RANGE_CHANGED)})),this.visTimeline.on("pan",(function(){_this2.triggerEvent(core.a.events.TIME_LINE_PAN_MOVE)})),this.visTimeline.on("panend",(function(){_this2.triggerEvent(core.a.events.TIME_LINE_PAN_MOVED)})),initPromise}},{key:"getWidth",value:function getWidth(){return this.timeLineElt.offsetWidth}},{key:"getHorizon",value:function getHorizon(){return this.horizon}},{key:"getScrollableHorizon",value:function getScrollableHorizon(){return this.scrollableHorizon}},{key:"updateRatio",value:function updateRatio(){this.window=this.visTimeline.getWindow(),this.window.startMillis=this.window.start.getTime(),this.window.endMillis=this.window.end.getTime(),this.scrollableHorizon.start=this.window.startMillis,this.scrollableHorizon.end=this.window.endMillis,this.ratio=this.getWidth()/(this.window.endMillis-this.window.startMillis)}},{key:"getXFromMillis",value:function getXFromMillis(time){return Math.round((time-this.scrollableHorizon.start)*this.ratio)}},{key:"getX",value:function getX(time){return Math.round((time-this.scrollableHorizon.start)*this.ratio)}},{key:"getTimeAt",value:function getTimeAt(x){return this.scrollableHorizon.start+Math.round(x/this.getWidth()*(this.scrollableHorizon.end-this.scrollableHorizon.start))}},{key:"getTimeAxisHeight",value:function getTimeAxisHeight(defaultValue){var visTimeAxis=this.timeLineElt&&this.timeLineElt.getElementsByClassName("vis-panel vis-top");return visTimeAxis&&visTimeAxis.length&&jquery_default()(visTimeAxis[0]).outerHeight()||defaultValue}},{key:"getTimeWindow",value:function getTimeWindow(){return this.visTimeline&&this.visTimeline.getWindow()}},{key:"draw",value:function draw(){}},{key:"onResize",value:function onResize(){this._init&&this.updateRatio()}},{key:"validateZoomFactor",value:function validateZoomFactor(zoomFactor){return this.zoomFactor+zoomFactor<1?0:zoomFactor}},{key:"zoom",value:function zoom(zoomFactor,xCenter){this.zoomFactor+=zoomFactor;var w=this.getWidth()+zoomFactor*this.getWidth();this.timeLineElt.style.width="".concat(w,"px"),this.updateRatio(),this.triggerEvent(core.a.events.TIME_LINE_SIZE_CHANGED,w,this.getTimeAxisHeight())}},{key:"resetZoom",value:function resetZoom(){this.zoomFactor=1;var w=this.node.offsetWidth*this.scrollableHorizonFactor;this.timeLineElt.style.width="".concat(w,"px"),this.updateRatio(),this.triggerEvent(core.a.events.TIME_LINE_SIZE_CHANGED,w,this.getTimeAxisHeight())}},{key:"setVisibleTimeWindow",value:function setVisibleTimeWindow(window){if(window&&window.start&&window.end){var horizPageCount=(this.scrollableHorizon.end-this.scrollableHorizon.start)/(window.end-window.start);this.zoomFactor=horizPageCount/this.scrollableHorizonFactor;var w=horizPageCount*this.node.offsetWidth;this.timeLineElt.style.width="".concat(w,"px"),this.updateRatio(),this.triggerEvent(core.a.events.TIME_LINE_SIZE_CHANGED,w,this.getTimeAxisHeight())}else this.resetZoom()}},{key:"getVisibleTimes",value:function getVisibleTimes(){return{start:this.window.startMillis,end:this.window.endMillis}}},{key:"scrollTo",value:function scrollTo(time,animate){var range=this.visTimeline.getWindow(),interval=range.end-range.start;this.visTimeline.setWindow(time,time+interval,void 0===animate?void 0:{animation:animate})}},{key:"addTimeMarker",value:function addTimeMarker(id,time,classes){var ar=this.visTimeline.customTimes,l=ar&&ar.length;if(this.visTimeline.addCustomTime(time,id),ar&&ar.length&&ar.length!==l){var markerObj=this.visTimeline.customTimes[l];markerObj&&markerObj.bar&&jquery_default()(markerObj.bar).css("top","".concat(this.getTimeAxisHeight()-3,"px"))}}},{key:"removeTimeMarker",value:function removeTimeMarker(id,time,classes){this.visTimeline.removeCustomTime(id)}},{key:"createVisItem",value:function createVisItem(item){return{start:item.start||("background"===item.type?this.window.startMillis:void 0),end:item.end||("background"===item.type?this.window.endMillis:void 0),title:item.title,type:"background"===item.type?"background":"box"===item.type?"box":"point"===item.type?"point":"background",className:item.className,content:item.content}}},{key:"setTimeLineItem",value:function setTimeLineItem(id,item){this.removeTimeLineItem(id,!1),this.addTimeLineItem(id,item)}},{key:"addTimeLineItem",value:function addTimeLineItem(id,item,update){item=this.createVisItem(item),this.items.push(item),this.itemsByIds[id]=item,(void 0===update||update)&&this.visTimeline.setItems(this.items)}},{key:"removeTimeLineItem",value:function removeTimeLineItem(id,update){var item=this.itemsByIds[id];if(item){delete this.itemsByIds[id];var index=this.items.indexOf(item);index>-1&&this.items.splice(index,1),(void 0===update||update)&&this.visTimeline.setItems(this.items)}}},{key:"getDecorationContainer",value:function getDecorationContainer(){var $panel=jquery_default()(this.timeLineElt).find(".vis-panel.vis-background.vis-horizontal");return $panel.length&&$panel[0]||null}}]),TimeLine}(core.a.components.TimeLine);core.a.components.TimeLine.impl=timeline_TimeLine},91:function(module,exports,__webpack_require__){}},[[370,1,2]]]);
//# sourceMappingURL=main.252a90eeeda2561ffc8d.bundle.js.map